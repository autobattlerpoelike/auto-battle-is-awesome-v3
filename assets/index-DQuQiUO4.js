(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function Dd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ru={exports:{}},Jr={},au={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),zd=Symbol.for("react.portal"),Id=Symbol.for("react.fragment"),$d=Symbol.for("react.strict_mode"),Fd=Symbol.for("react.profiler"),Od=Symbol.for("react.provider"),Ud=Symbol.for("react.context"),Bd=Symbol.for("react.forward_ref"),qd=Symbol.for("react.suspense"),Gd=Symbol.for("react.memo"),Vd=Symbol.for("react.lazy"),zi=Symbol.iterator;function Hd(e){return e===null||typeof e!="object"?null:(e=zi&&e[zi]||e["@@iterator"],typeof e=="function"?e:null)}var su={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iu=Object.assign,ou={};function Qn(e,t,n){this.props=e,this.context=t,this.refs=ou,this.updater=n||su}Qn.prototype.isReactComponent={};Qn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uu(){}uu.prototype=Qn.prototype;function Os(e,t,n){this.props=e,this.context=t,this.refs=ou,this.updater=n||su}var Us=Os.prototype=new uu;Us.constructor=Os;iu(Us,Qn.prototype);Us.isPureReactComponent=!0;var Ii=Array.isArray,cu=Object.prototype.hasOwnProperty,Bs={current:null},du={key:!0,ref:!0,__self:!0,__source:!0};function fu(e,t,n){var l,r={},a=null,i=null;if(t!=null)for(l in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)cu.call(t,l)&&!du.hasOwnProperty(l)&&(r[l]=t[l]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];r.children=u}if(e&&e.defaultProps)for(l in o=e.defaultProps,o)r[l]===void 0&&(r[l]=o[l]);return{$$typeof:Ul,type:e,key:a,ref:i,props:r,_owner:Bs.current}}function Wd(e,t){return{$$typeof:Ul,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qs(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ul}function Qd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $i=/\/+/g;function ga(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qd(""+e.key):t.toString(36)}function fr(e,t,n,l,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ul:case zd:i=!0}}if(i)return i=e,r=r(i),e=l===""?"."+ga(i,0):l,Ii(r)?(n="",e!=null&&(n=e.replace($i,"$&/")+"/"),fr(r,t,n,"",function(c){return c})):r!=null&&(qs(r)&&(r=Wd(r,n+(!r.key||i&&i.key===r.key?"":(""+r.key).replace($i,"$&/")+"/")+e)),t.push(r)),1;if(i=0,l=l===""?".":l+":",Ii(e))for(var o=0;o<e.length;o++){a=e[o];var u=l+ga(a,o);i+=fr(a,t,n,u,r)}else if(u=Hd(e),typeof u=="function")for(e=u.call(e),o=0;!(a=e.next()).done;)a=a.value,u=l+ga(a,o++),i+=fr(a,t,n,u,r);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Wl(e,t,n){if(e==null)return e;var l=[],r=0;return fr(e,l,"","",function(a){return t.call(n,a,r++)}),l}function Kd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},mr={transition:null},Yd={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:mr,ReactCurrentOwner:Bs};function mu(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Wl,forEach:function(e,t,n){Wl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wl(e,function(){t++}),t},toArray:function(e){return Wl(e,function(t){return t})||[]},only:function(e){if(!qs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Qn;W.Fragment=Id;W.Profiler=Fd;W.PureComponent=Os;W.StrictMode=$d;W.Suspense=qd;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yd;W.act=mu;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=iu({},e.props),r=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Bs.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)cu.call(t,u)&&!du.hasOwnProperty(u)&&(l[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)l.children=n;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];l.children=o}return{$$typeof:Ul,type:e.type,key:r,ref:a,props:l,_owner:i}};W.createContext=function(e){return e={$$typeof:Ud,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Od,_context:e},e.Consumer=e};W.createElement=fu;W.createFactory=function(e){var t=fu.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Bd,render:e}};W.isValidElement=qs;W.lazy=function(e){return{$$typeof:Vd,_payload:{_status:-1,_result:e},_init:Kd}};W.memo=function(e,t){return{$$typeof:Gd,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=mr.transition;mr.transition={};try{e()}finally{mr.transition=t}};W.unstable_act=mu;W.useCallback=function(e,t){return ze.current.useCallback(e,t)};W.useContext=function(e){return ze.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};W.useEffect=function(e,t){return ze.current.useEffect(e,t)};W.useId=function(){return ze.current.useId()};W.useImperativeHandle=function(e,t,n){return ze.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return ze.current.useMemo(e,t)};W.useReducer=function(e,t,n){return ze.current.useReducer(e,t,n)};W.useRef=function(e){return ze.current.useRef(e)};W.useState=function(e){return ze.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return ze.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return ze.current.useTransition()};W.version="18.3.1";au.exports=W;var M=au.exports;const vn=Dd(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd=M,Zd=Symbol.for("react.element"),Jd=Symbol.for("react.fragment"),ef=Object.prototype.hasOwnProperty,tf=Xd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nf={key:!0,ref:!0,__self:!0,__source:!0};function pu(e,t,n){var l,r={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(l in t)ef.call(t,l)&&!nf.hasOwnProperty(l)&&(r[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps,t)r[l]===void 0&&(r[l]=t[l]);return{$$typeof:Zd,type:e,key:a,ref:i,props:r,_owner:tf.current}}Jr.Fragment=Jd;Jr.jsx=pu;Jr.jsxs=pu;ru.exports=Jr;var s=ru.exports,hu={exports:{}},Ke={},gu={exports:{}},yu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,O){var q=T.length;T.push(O);e:for(;0<q;){var ie=q-1>>>1,he=T[ie];if(0<r(he,O))T[ie]=O,T[q]=he,q=ie;else break e}}function n(T){return T.length===0?null:T[0]}function l(T){if(T.length===0)return null;var O=T[0],q=T.pop();if(q!==O){T[0]=q;e:for(var ie=0,he=T.length,en=he>>>1;ie<en;){var L=2*(ie+1)-1,R=T[L],d=L+1,A=T[d];if(0>r(R,q))d<he&&0>r(A,R)?(T[ie]=A,T[d]=q,ie=d):(T[ie]=R,T[L]=q,ie=L);else if(d<he&&0>r(A,q))T[ie]=A,T[d]=q,ie=d;else break e}}return O}function r(T,O){var q=T.sortIndex-O.sortIndex;return q!==0?q:T.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var u=[],c=[],h=1,g=null,v=3,w=!1,p=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var O=n(c);O!==null;){if(O.callback===null)l(c);else if(O.startTime<=T)l(c),O.sortIndex=O.expirationTime,t(u,O);else break;O=n(c)}}function k(T){if(x=!1,y(T),!p)if(n(u)!==null)p=!0,ne(C);else{var O=n(c);O!==null&&pt(k,O.startTime-T)}}function C(T,O){p=!1,x&&(x=!1,m(b),b=-1),w=!0;var q=v;try{for(y(O),g=n(u);g!==null&&(!(g.expirationTime>O)||T&&!J());){var ie=g.callback;if(typeof ie=="function"){g.callback=null,v=g.priorityLevel;var he=ie(g.expirationTime<=O);O=e.unstable_now(),typeof he=="function"?g.callback=he:g===n(u)&&l(u),y(O)}else l(u);g=n(u)}if(g!==null)var en=!0;else{var L=n(c);L!==null&&pt(k,L.startTime-O),en=!1}return en}finally{g=null,v=q,w=!1}}var _=!1,j=null,b=-1,I=5,z=-1;function J(){return!(e.unstable_now()-z<I)}function S(){if(j!==null){var T=e.unstable_now();z=T;var O=!0;try{O=j(!0,T)}finally{O?F():(_=!1,j=null)}}else _=!1}var F;if(typeof f=="function")F=function(){f(S)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,K=B.port2;B.port1.onmessage=S,F=function(){K.postMessage(null)}}else F=function(){N(S,0)};function ne(T){j=T,_||(_=!0,F())}function pt(T,O){b=N(function(){T(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){p||w||(p=!0,ne(C))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(T){switch(v){case 1:case 2:case 3:var O=3;break;default:O=v}var q=v;v=O;try{return T()}finally{v=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,O){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var q=v;v=T;try{return O()}finally{v=q}},e.unstable_scheduleCallback=function(T,O,q){var ie=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ie+q:ie):q=ie,T){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=q+he,T={id:h++,callback:O,priorityLevel:T,startTime:q,expirationTime:he,sortIndex:-1},q>ie?(T.sortIndex=q,t(c,T),n(u)===null&&T===n(c)&&(x?(m(b),b=-1):x=!0,pt(k,q-ie))):(T.sortIndex=he,t(u,T),p||w||(p=!0,ne(C))),T},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(T){var O=v;return function(){var q=v;v=O;try{return T.apply(this,arguments)}finally{v=q}}}})(yu);gu.exports=yu;var lf=gu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf=M,Qe=lf;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vu=new Set,wl={};function xn(e,t){Un(e,t),Un(e+"Capture",t)}function Un(e,t){for(wl[e]=t,e=0;e<t.length;e++)vu.add(t[e])}var Et=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ha=Object.prototype.hasOwnProperty,af=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fi={},Oi={};function sf(e){return Ha.call(Oi,e)?!0:Ha.call(Fi,e)?!1:af.test(e)?Oi[e]=!0:(Fi[e]=!0,!1)}function of(e,t,n,l){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uf(e,t,n,l){if(t===null||typeof t>"u"||of(e,t,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ie(e,t,n,l,r,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new Ie(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gs=/[\-:]([a-z])/g;function Vs(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gs,Vs);Le[t]=new Ie(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gs,Vs);Le[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gs,Vs);Le[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hs(e,t,n,l){var r=Le.hasOwnProperty(t)?Le[t]:null;(r!==null?r.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uf(t,n,r,l)&&(n=null),l||r===null?sf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,l=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,l?e.setAttributeNS(l,t,n):e.setAttribute(t,n))))}var Tt=rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ql=Symbol.for("react.element"),jn=Symbol.for("react.portal"),Nn=Symbol.for("react.fragment"),Ws=Symbol.for("react.strict_mode"),Wa=Symbol.for("react.profiler"),xu=Symbol.for("react.provider"),ku=Symbol.for("react.context"),Qs=Symbol.for("react.forward_ref"),Qa=Symbol.for("react.suspense"),Ka=Symbol.for("react.suspense_list"),Ks=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),wu=Symbol.for("react.offscreen"),Ui=Symbol.iterator;function Zn(e){return e===null||typeof e!="object"?null:(e=Ui&&e[Ui]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,ya;function sl(e){if(ya===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ya=t&&t[1]||""}return`
`+ya+e}var va=!1;function xa(e,t){if(!e||va)return"";va=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var l=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){l=c}e.call(t.prototype)}else{try{throw Error()}catch(c){l=c}e()}}catch(c){if(c&&l&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),a=l.stack.split(`
`),i=r.length-1,o=a.length-1;1<=i&&0<=o&&r[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(r[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||r[i]!==a[o]){var u=`
`+r[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=o);break}}}finally{va=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?sl(e):""}function cf(e){switch(e.tag){case 5:return sl(e.type);case 16:return sl("Lazy");case 13:return sl("Suspense");case 19:return sl("SuspenseList");case 0:case 2:case 15:return e=xa(e.type,!1),e;case 11:return e=xa(e.type.render,!1),e;case 1:return e=xa(e.type,!0),e;default:return""}}function Ya(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nn:return"Fragment";case jn:return"Portal";case Wa:return"Profiler";case Ws:return"StrictMode";case Qa:return"Suspense";case Ka:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ku:return(e.displayName||"Context")+".Consumer";case xu:return(e._context.displayName||"Context")+".Provider";case Qs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ks:return t=e.displayName||null,t!==null?t:Ya(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return Ya(e(t))}catch{}}return null}function df(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ya(t);case 8:return t===Ws?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Su(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ff(e){var t=Su(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(i){l=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(i){l=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kl(e){e._valueTracker||(e._valueTracker=ff(e))}function ju(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Su(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Cr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xa(e,t){var n=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bi(e,t){var n=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;n=Kt(t.value!=null?t.value:n),e._wrapperState={initialChecked:l,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nu(e,t){t=t.checked,t!=null&&Hs(e,"checked",t,!1)}function Za(e,t){Nu(e,t);var n=Kt(t.value),l=t.type;if(n!=null)l==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ja(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ja(e,t.type,Kt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qi(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ja(e,t,n){(t!=="number"||Cr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var il=Array.isArray;function Dn(e,t,n,l){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Kt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,l&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function es(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(il(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kt(n)}}function Cu(e,t){var n=Kt(t.value),l=Kt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),l!=null&&(e.defaultValue=""+l)}function Vi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ts(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yl,Mu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,l,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,l,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yl=Yl||document.createElement("div"),Yl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mf=["Webkit","ms","Moz","O"];Object.keys(dl).forEach(function(e){mf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dl[t]=dl[e]})});function Eu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||dl.hasOwnProperty(e)&&dl[e]?(""+t).trim():t+"px"}function Lu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var l=n.indexOf("--")===0,r=Eu(n,t[n],l);n==="float"&&(n="cssFloat"),l?e.setProperty(n,r):e[n]=r}}var pf=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ns(e,t){if(t){if(pf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function ls(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rs=null;function Ys(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var as=null,zn=null,In=null;function Hi(e){if(e=Gl(e)){if(typeof as!="function")throw Error(P(280));var t=e.stateNode;t&&(t=ra(t),as(e.stateNode,e.type,t))}}function bu(e){zn?In?In.push(e):In=[e]:zn=e}function _u(){if(zn){var e=zn,t=In;if(In=zn=null,Hi(e),t)for(e=0;e<t.length;e++)Hi(t[e])}}function Tu(e,t){return e(t)}function Ru(){}var ka=!1;function Au(e,t,n){if(ka)return e(t,n);ka=!0;try{return Tu(e,t,n)}finally{ka=!1,(zn!==null||In!==null)&&(Ru(),_u())}}function jl(e,t){var n=e.stateNode;if(n===null)return null;var l=ra(n);if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var ss=!1;if(Et)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){ss=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{ss=!1}function hf(e,t,n,l,r,a,i,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var fl=!1,Pr=null,Mr=!1,is=null,gf={onError:function(e){fl=!0,Pr=e}};function yf(e,t,n,l,r,a,i,o,u){fl=!1,Pr=null,hf.apply(gf,arguments)}function vf(e,t,n,l,r,a,i,o,u){if(yf.apply(this,arguments),fl){if(fl){var c=Pr;fl=!1,Pr=null}else throw Error(P(198));Mr||(Mr=!0,is=c)}}function kn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Du(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wi(e){if(kn(e)!==e)throw Error(P(188))}function xf(e){var t=e.alternate;if(!t){if(t=kn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,l=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(l=r.return,l!==null){n=l;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Wi(r),e;if(a===l)return Wi(r),t;a=a.sibling}throw Error(P(188))}if(n.return!==l.return)n=r,l=a;else{for(var i=!1,o=r.child;o;){if(o===n){i=!0,n=r,l=a;break}if(o===l){i=!0,l=r,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,l=r;break}if(o===l){i=!0,l=a,n=r;break}o=o.sibling}if(!i)throw Error(P(189))}}if(n.alternate!==l)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function zu(e){return e=xf(e),e!==null?Iu(e):null}function Iu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Iu(e);if(t!==null)return t;e=e.sibling}return null}var $u=Qe.unstable_scheduleCallback,Qi=Qe.unstable_cancelCallback,kf=Qe.unstable_shouldYield,wf=Qe.unstable_requestPaint,ye=Qe.unstable_now,Sf=Qe.unstable_getCurrentPriorityLevel,Xs=Qe.unstable_ImmediatePriority,Fu=Qe.unstable_UserBlockingPriority,Er=Qe.unstable_NormalPriority,jf=Qe.unstable_LowPriority,Ou=Qe.unstable_IdlePriority,ea=null,kt=null;function Nf(e){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(ea,e,void 0,(e.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:Mf,Cf=Math.log,Pf=Math.LN2;function Mf(e){return e>>>=0,e===0?32:31-(Cf(e)/Pf|0)|0}var Xl=64,Zl=4194304;function ol(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lr(e,t){var n=e.pendingLanes;if(n===0)return 0;var l=0,r=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~r;o!==0?l=ol(o):(a&=i,a!==0&&(l=ol(a)))}else i=n&~r,i!==0?l=ol(i):a!==0&&(l=ol(a));if(l===0)return 0;if(t!==0&&t!==l&&!(t&r)&&(r=l&-l,a=t&-t,r>=a||r===16&&(a&4194240)!==0))return t;if(l&4&&(l|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)n=31-dt(t),r=1<<n,l|=e[n],t&=~r;return l}function Ef(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-dt(a),o=1<<i,u=r[i];u===-1?(!(o&n)||o&l)&&(r[i]=Ef(o,t)):u<=t&&(e.expiredLanes|=o),a&=~o}}function os(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uu(){var e=Xl;return Xl<<=1,!(Xl&4194240)&&(Xl=64),e}function wa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dt(t),e[t]=n}function bf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-dt(n),a=1<<r;t[r]=0,l[r]=-1,e[r]=-1,n&=~a}}function Zs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-dt(n),r=1<<l;r&t|e[l]&t&&(e[l]|=t),n&=~r}}var te=0;function Bu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qu,Js,Gu,Vu,Hu,us=!1,Jl=[],Ut=null,Bt=null,qt=null,Nl=new Map,Cl=new Map,It=[],_f="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ki(e,t){switch(e){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Nl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(t.pointerId)}}function el(e,t,n,l,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Gl(t),t!==null&&Js(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Tf(e,t,n,l,r){switch(t){case"focusin":return Ut=el(Ut,e,t,n,l,r),!0;case"dragenter":return Bt=el(Bt,e,t,n,l,r),!0;case"mouseover":return qt=el(qt,e,t,n,l,r),!0;case"pointerover":var a=r.pointerId;return Nl.set(a,el(Nl.get(a)||null,e,t,n,l,r)),!0;case"gotpointercapture":return a=r.pointerId,Cl.set(a,el(Cl.get(a)||null,e,t,n,l,r)),!0}return!1}function Wu(e){var t=sn(e.target);if(t!==null){var n=kn(t);if(n!==null){if(t=n.tag,t===13){if(t=Du(n),t!==null){e.blockedOn=t,Hu(e.priority,function(){Gu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);rs=l,n.target.dispatchEvent(l),rs=null}else return t=Gl(n),t!==null&&Js(t),e.blockedOn=n,!1;t.shift()}return!0}function Yi(e,t,n){pr(e)&&n.delete(t)}function Rf(){us=!1,Ut!==null&&pr(Ut)&&(Ut=null),Bt!==null&&pr(Bt)&&(Bt=null),qt!==null&&pr(qt)&&(qt=null),Nl.forEach(Yi),Cl.forEach(Yi)}function tl(e,t){e.blockedOn===t&&(e.blockedOn=null,us||(us=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,Rf)))}function Pl(e){function t(r){return tl(r,e)}if(0<Jl.length){tl(Jl[0],e);for(var n=1;n<Jl.length;n++){var l=Jl[n];l.blockedOn===e&&(l.blockedOn=null)}}for(Ut!==null&&tl(Ut,e),Bt!==null&&tl(Bt,e),qt!==null&&tl(qt,e),Nl.forEach(t),Cl.forEach(t),n=0;n<It.length;n++)l=It[n],l.blockedOn===e&&(l.blockedOn=null);for(;0<It.length&&(n=It[0],n.blockedOn===null);)Wu(n),n.blockedOn===null&&It.shift()}var $n=Tt.ReactCurrentBatchConfig,br=!0;function Af(e,t,n,l){var r=te,a=$n.transition;$n.transition=null;try{te=1,ei(e,t,n,l)}finally{te=r,$n.transition=a}}function Df(e,t,n,l){var r=te,a=$n.transition;$n.transition=null;try{te=4,ei(e,t,n,l)}finally{te=r,$n.transition=a}}function ei(e,t,n,l){if(br){var r=cs(e,t,n,l);if(r===null)_a(e,t,l,_r,n),Ki(e,l);else if(Tf(r,e,t,n,l))l.stopPropagation();else if(Ki(e,l),t&4&&-1<_f.indexOf(e)){for(;r!==null;){var a=Gl(r);if(a!==null&&qu(a),a=cs(e,t,n,l),a===null&&_a(e,t,l,_r,n),a===r)break;r=a}r!==null&&l.stopPropagation()}else _a(e,t,l,null,n)}}var _r=null;function cs(e,t,n,l){if(_r=null,e=Ys(l),e=sn(e),e!==null)if(t=kn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Du(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _r=e,null}function Qu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sf()){case Xs:return 1;case Fu:return 4;case Er:case jf:return 16;case Ou:return 536870912;default:return 16}default:return 16}}var Ft=null,ti=null,hr=null;function Ku(){if(hr)return hr;var e,t=ti,n=t.length,l,r="value"in Ft?Ft.value:Ft.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var i=n-e;for(l=1;l<=i&&t[n-l]===r[a-l];l++);return hr=r.slice(e,1<l?1-l:void 0)}function gr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function er(){return!0}function Xi(){return!1}function Ye(e){function t(n,l,r,a,i){this._reactName=n,this._targetInst=r,this.type=l,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?er:Xi,this.isPropagationStopped=Xi,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),t}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ni=Ye(Kn),ql=fe({},Kn,{view:0,detail:0}),zf=Ye(ql),Sa,ja,nl,ta=fe({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:li,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nl&&(nl&&e.type==="mousemove"?(Sa=e.screenX-nl.screenX,ja=e.screenY-nl.screenY):ja=Sa=0,nl=e),Sa)},movementY:function(e){return"movementY"in e?e.movementY:ja}}),Zi=Ye(ta),If=fe({},ta,{dataTransfer:0}),$f=Ye(If),Ff=fe({},ql,{relatedTarget:0}),Na=Ye(Ff),Of=fe({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),Uf=Ye(Of),Bf=fe({},Kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qf=Ye(Bf),Gf=fe({},Kn,{data:0}),Ji=Ye(Gf),Vf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wf[e])?!!t[e]:!1}function li(){return Qf}var Kf=fe({},ql,{key:function(e){if(e.key){var t=Vf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:li,charCode:function(e){return e.type==="keypress"?gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yf=Ye(Kf),Xf=fe({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eo=Ye(Xf),Zf=fe({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:li}),Jf=Ye(Zf),em=fe({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),tm=Ye(em),nm=fe({},ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lm=Ye(nm),rm=[9,13,27,32],ri=Et&&"CompositionEvent"in window,ml=null;Et&&"documentMode"in document&&(ml=document.documentMode);var am=Et&&"TextEvent"in window&&!ml,Yu=Et&&(!ri||ml&&8<ml&&11>=ml),to=" ",no=!1;function Xu(e,t){switch(e){case"keyup":return rm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function sm(e,t){switch(e){case"compositionend":return Zu(t);case"keypress":return t.which!==32?null:(no=!0,to);case"textInput":return e=t.data,e===to&&no?null:e;default:return null}}function im(e,t){if(Cn)return e==="compositionend"||!ri&&Xu(e,t)?(e=Ku(),hr=ti=Ft=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yu&&t.locale!=="ko"?null:t.data;default:return null}}var om={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!om[e.type]:t==="textarea"}function Ju(e,t,n,l){bu(l),t=Tr(t,"onChange"),0<t.length&&(n=new ni("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var pl=null,Ml=null;function um(e){cc(e,0)}function na(e){var t=En(e);if(ju(t))return e}function cm(e,t){if(e==="change")return t}var ec=!1;if(Et){var Ca;if(Et){var Pa="oninput"in document;if(!Pa){var ro=document.createElement("div");ro.setAttribute("oninput","return;"),Pa=typeof ro.oninput=="function"}Ca=Pa}else Ca=!1;ec=Ca&&(!document.documentMode||9<document.documentMode)}function ao(){pl&&(pl.detachEvent("onpropertychange",tc),Ml=pl=null)}function tc(e){if(e.propertyName==="value"&&na(Ml)){var t=[];Ju(t,Ml,e,Ys(e)),Au(um,t)}}function dm(e,t,n){e==="focusin"?(ao(),pl=t,Ml=n,pl.attachEvent("onpropertychange",tc)):e==="focusout"&&ao()}function fm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return na(Ml)}function mm(e,t){if(e==="click")return na(t)}function pm(e,t){if(e==="input"||e==="change")return na(t)}function hm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:hm;function El(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var r=n[l];if(!Ha.call(t,r)||!mt(e[r],t[r]))return!1}return!0}function so(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function io(e,t){var n=so(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=so(n)}}function nc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lc(){for(var e=window,t=Cr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cr(e.document)}return t}function ai(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gm(e){var t=lc(),n=e.focusedElem,l=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&nc(n.ownerDocument.documentElement,n)){if(l!==null&&ai(n)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(l.start,r);l=l.end===void 0?a:Math.min(l.end,r),!e.extend&&a>l&&(r=l,l=a,a=r),r=io(n,a);var i=io(n,l);r&&i&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),a>l?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ym=Et&&"documentMode"in document&&11>=document.documentMode,Pn=null,ds=null,hl=null,fs=!1;function oo(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fs||Pn==null||Pn!==Cr(l)||(l=Pn,"selectionStart"in l&&ai(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&El(hl,l)||(hl=l,l=Tr(ds,"onSelect"),0<l.length&&(t=new ni("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Pn)))}function tr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mn={animationend:tr("Animation","AnimationEnd"),animationiteration:tr("Animation","AnimationIteration"),animationstart:tr("Animation","AnimationStart"),transitionend:tr("Transition","TransitionEnd")},Ma={},rc={};Et&&(rc=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function la(e){if(Ma[e])return Ma[e];if(!Mn[e])return e;var t=Mn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rc)return Ma[e]=t[n];return e}var ac=la("animationend"),sc=la("animationiteration"),ic=la("animationstart"),oc=la("transitionend"),uc=new Map,uo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(e,t){uc.set(e,t),xn(t,[e])}for(var Ea=0;Ea<uo.length;Ea++){var La=uo[Ea],vm=La.toLowerCase(),xm=La[0].toUpperCase()+La.slice(1);Xt(vm,"on"+xm)}Xt(ac,"onAnimationEnd");Xt(sc,"onAnimationIteration");Xt(ic,"onAnimationStart");Xt("dblclick","onDoubleClick");Xt("focusin","onFocus");Xt("focusout","onBlur");Xt(oc,"onTransitionEnd");Un("onMouseEnter",["mouseout","mouseover"]);Un("onMouseLeave",["mouseout","mouseover"]);Un("onPointerEnter",["pointerout","pointerover"]);Un("onPointerLeave",["pointerout","pointerover"]);xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),km=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function co(e,t,n){var l=e.type||"unknown-event";e.currentTarget=n,vf(l,t,void 0,e),e.currentTarget=null}function cc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],r=l.event;l=l.listeners;e:{var a=void 0;if(t)for(var i=l.length-1;0<=i;i--){var o=l[i],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==a&&r.isPropagationStopped())break e;co(r,o,c),a=u}else for(i=0;i<l.length;i++){if(o=l[i],u=o.instance,c=o.currentTarget,o=o.listener,u!==a&&r.isPropagationStopped())break e;co(r,o,c),a=u}}}if(Mr)throw e=is,Mr=!1,is=null,e}function ae(e,t){var n=t[ys];n===void 0&&(n=t[ys]=new Set);var l=e+"__bubble";n.has(l)||(dc(t,e,2,!1),n.add(l))}function ba(e,t,n){var l=0;t&&(l|=4),dc(n,e,l,t)}var nr="_reactListening"+Math.random().toString(36).slice(2);function Ll(e){if(!e[nr]){e[nr]=!0,vu.forEach(function(n){n!=="selectionchange"&&(km.has(n)||ba(n,!1,e),ba(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nr]||(t[nr]=!0,ba("selectionchange",!1,t))}}function dc(e,t,n,l){switch(Qu(t)){case 1:var r=Af;break;case 4:r=Df;break;default:r=ei}n=r.bind(null,t,n,e),r=void 0,!ss||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),l?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function _a(e,t,n,l,r){var a=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var i=l.tag;if(i===3||i===4){var o=l.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(i===4)for(i=l.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;i=i.return}for(;o!==null;){if(i=sn(o),i===null)return;if(u=i.tag,u===5||u===6){l=a=i;continue e}o=o.parentNode}}l=l.return}Au(function(){var c=a,h=Ys(n),g=[];e:{var v=uc.get(e);if(v!==void 0){var w=ni,p=e;switch(e){case"keypress":if(gr(n)===0)break e;case"keydown":case"keyup":w=Yf;break;case"focusin":p="focus",w=Na;break;case"focusout":p="blur",w=Na;break;case"beforeblur":case"afterblur":w=Na;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Zi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=$f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Jf;break;case ac:case sc:case ic:w=Uf;break;case oc:w=tm;break;case"scroll":w=zf;break;case"wheel":w=lm;break;case"copy":case"cut":case"paste":w=qf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=eo}var x=(t&4)!==0,N=!x&&e==="scroll",m=x?v!==null?v+"Capture":null:v;x=[];for(var f=c,y;f!==null;){y=f;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,m!==null&&(k=jl(f,m),k!=null&&x.push(bl(f,k,y)))),N)break;f=f.return}0<x.length&&(v=new w(v,p,null,n,h),g.push({event:v,listeners:x}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",v&&n!==rs&&(p=n.relatedTarget||n.fromElement)&&(sn(p)||p[Lt]))break e;if((w||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,w?(p=n.relatedTarget||n.toElement,w=c,p=p?sn(p):null,p!==null&&(N=kn(p),p!==N||p.tag!==5&&p.tag!==6)&&(p=null)):(w=null,p=c),w!==p)){if(x=Zi,k="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(x=eo,k="onPointerLeave",m="onPointerEnter",f="pointer"),N=w==null?v:En(w),y=p==null?v:En(p),v=new x(k,f+"leave",w,n,h),v.target=N,v.relatedTarget=y,k=null,sn(h)===c&&(x=new x(m,f+"enter",p,n,h),x.target=y,x.relatedTarget=N,k=x),N=k,w&&p)t:{for(x=w,m=p,f=0,y=x;y;y=wn(y))f++;for(y=0,k=m;k;k=wn(k))y++;for(;0<f-y;)x=wn(x),f--;for(;0<y-f;)m=wn(m),y--;for(;f--;){if(x===m||m!==null&&x===m.alternate)break t;x=wn(x),m=wn(m)}x=null}else x=null;w!==null&&fo(g,v,w,x,!1),p!==null&&N!==null&&fo(g,N,p,x,!0)}}e:{if(v=c?En(c):window,w=v.nodeName&&v.nodeName.toLowerCase(),w==="select"||w==="input"&&v.type==="file")var C=cm;else if(lo(v))if(ec)C=pm;else{C=fm;var _=dm}else(w=v.nodeName)&&w.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(C=mm);if(C&&(C=C(e,c))){Ju(g,C,n,h);break e}_&&_(e,v,c),e==="focusout"&&(_=v._wrapperState)&&_.controlled&&v.type==="number"&&Ja(v,"number",v.value)}switch(_=c?En(c):window,e){case"focusin":(lo(_)||_.contentEditable==="true")&&(Pn=_,ds=c,hl=null);break;case"focusout":hl=ds=Pn=null;break;case"mousedown":fs=!0;break;case"contextmenu":case"mouseup":case"dragend":fs=!1,oo(g,n,h);break;case"selectionchange":if(ym)break;case"keydown":case"keyup":oo(g,n,h)}var j;if(ri)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Cn?Xu(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Yu&&n.locale!=="ko"&&(Cn||b!=="onCompositionStart"?b==="onCompositionEnd"&&Cn&&(j=Ku()):(Ft=h,ti="value"in Ft?Ft.value:Ft.textContent,Cn=!0)),_=Tr(c,b),0<_.length&&(b=new Ji(b,e,null,n,h),g.push({event:b,listeners:_}),j?b.data=j:(j=Zu(n),j!==null&&(b.data=j)))),(j=am?sm(e,n):im(e,n))&&(c=Tr(c,"onBeforeInput"),0<c.length&&(h=new Ji("onBeforeInput","beforeinput",null,n,h),g.push({event:h,listeners:c}),h.data=j))}cc(g,t)})}function bl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Tr(e,t){for(var n=t+"Capture",l=[];e!==null;){var r=e,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=jl(e,n),a!=null&&l.unshift(bl(e,a,r)),a=jl(e,t),a!=null&&l.push(bl(e,a,r))),e=e.return}return l}function wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fo(e,t,n,l,r){for(var a=t._reactName,i=[];n!==null&&n!==l;){var o=n,u=o.alternate,c=o.stateNode;if(u!==null&&u===l)break;o.tag===5&&c!==null&&(o=c,r?(u=jl(n,a),u!=null&&i.unshift(bl(n,u,o))):r||(u=jl(n,a),u!=null&&i.push(bl(n,u,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var wm=/\r\n?/g,Sm=/\u0000|\uFFFD/g;function mo(e){return(typeof e=="string"?e:""+e).replace(wm,`
`).replace(Sm,"")}function lr(e,t,n){if(t=mo(t),mo(e)!==t&&n)throw Error(P(425))}function Rr(){}var ms=null,ps=null;function hs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gs=typeof setTimeout=="function"?setTimeout:void 0,jm=typeof clearTimeout=="function"?clearTimeout:void 0,po=typeof Promise=="function"?Promise:void 0,Nm=typeof queueMicrotask=="function"?queueMicrotask:typeof po<"u"?function(e){return po.resolve(null).then(e).catch(Cm)}:gs;function Cm(e){setTimeout(function(){throw e})}function Ta(e,t){var n=t,l=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(l===0){e.removeChild(r),Pl(t);return}l--}else n!=="$"&&n!=="$?"&&n!=="$!"||l++;n=r}while(n);Pl(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ho(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Yn,_l="__reactProps$"+Yn,Lt="__reactContainer$"+Yn,ys="__reactEvents$"+Yn,Pm="__reactListeners$"+Yn,Mm="__reactHandles$"+Yn;function sn(e){var t=e[xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lt]||n[xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ho(e);e!==null;){if(n=e[xt])return n;e=ho(e)}return t}e=n,n=e.parentNode}return null}function Gl(e){return e=e[xt]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function En(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function ra(e){return e[_l]||null}var vs=[],Ln=-1;function Zt(e){return{current:e}}function se(e){0>Ln||(e.current=vs[Ln],vs[Ln]=null,Ln--)}function re(e,t){Ln++,vs[Ln]=e.current,e.current=t}var Yt={},Re=Zt(Yt),Ue=Zt(!1),fn=Yt;function Bn(e,t){var n=e.type.contextTypes;if(!n)return Yt;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=t[a];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Be(e){return e=e.childContextTypes,e!=null}function Ar(){se(Ue),se(Re)}function go(e,t,n){if(Re.current!==Yt)throw Error(P(168));re(Re,t),re(Ue,n)}function fc(e,t,n){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var r in l)if(!(r in t))throw Error(P(108,df(e)||"Unknown",r));return fe({},n,l)}function Dr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,fn=Re.current,re(Re,e),re(Ue,Ue.current),!0}function yo(e,t,n){var l=e.stateNode;if(!l)throw Error(P(169));n?(e=fc(e,t,fn),l.__reactInternalMemoizedMergedChildContext=e,se(Ue),se(Re),re(Re,e)):se(Ue),re(Ue,n)}var Nt=null,aa=!1,Ra=!1;function mc(e){Nt===null?Nt=[e]:Nt.push(e)}function Em(e){aa=!0,mc(e)}function Jt(){if(!Ra&&Nt!==null){Ra=!0;var e=0,t=te;try{var n=Nt;for(te=1;e<n.length;e++){var l=n[e];do l=l(!0);while(l!==null)}Nt=null,aa=!1}catch(r){throw Nt!==null&&(Nt=Nt.slice(e+1)),$u(Xs,Jt),r}finally{te=t,Ra=!1}}return null}var bn=[],_n=0,zr=null,Ir=0,Ze=[],Je=0,mn=null,Ct=1,Pt="";function rn(e,t){bn[_n++]=Ir,bn[_n++]=zr,zr=e,Ir=t}function pc(e,t,n){Ze[Je++]=Ct,Ze[Je++]=Pt,Ze[Je++]=mn,mn=e;var l=Ct;e=Pt;var r=32-dt(l)-1;l&=~(1<<r),n+=1;var a=32-dt(t)+r;if(30<a){var i=r-r%5;a=(l&(1<<i)-1).toString(32),l>>=i,r-=i,Ct=1<<32-dt(t)+r|n<<r|l,Pt=a+e}else Ct=1<<a|n<<r|l,Pt=e}function si(e){e.return!==null&&(rn(e,1),pc(e,1,0))}function ii(e){for(;e===zr;)zr=bn[--_n],bn[_n]=null,Ir=bn[--_n],bn[_n]=null;for(;e===mn;)mn=Ze[--Je],Ze[Je]=null,Pt=Ze[--Je],Ze[Je]=null,Ct=Ze[--Je],Ze[Je]=null}var We=null,He=null,oe=!1,ct=null;function hc(e,t){var n=et(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,He=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,He=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mn!==null?{id:Ct,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=et(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,We=e,He=null,!0):!1;default:return!1}}function xs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ks(e){if(oe){var t=He;if(t){var n=t;if(!vo(e,t)){if(xs(e))throw Error(P(418));t=Gt(n.nextSibling);var l=We;t&&vo(e,t)?hc(l,n):(e.flags=e.flags&-4097|2,oe=!1,We=e)}}else{if(xs(e))throw Error(P(418));e.flags=e.flags&-4097|2,oe=!1,We=e}}}function xo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function rr(e){if(e!==We)return!1;if(!oe)return xo(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hs(e.type,e.memoizedProps)),t&&(t=He)){if(xs(e))throw gc(),Error(P(418));for(;t;)hc(e,t),t=Gt(t.nextSibling)}if(xo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){He=Gt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}He=null}}else He=We?Gt(e.stateNode.nextSibling):null;return!0}function gc(){for(var e=He;e;)e=Gt(e.nextSibling)}function qn(){He=We=null,oe=!1}function oi(e){ct===null?ct=[e]:ct.push(e)}var Lm=Tt.ReactCurrentBatchConfig;function ll(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var l=n.stateNode}if(!l)throw Error(P(147,e));var r=l,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=r.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function ar(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ko(e){var t=e._init;return t(e._payload)}function yc(e){function t(m,f){if(e){var y=m.deletions;y===null?(m.deletions=[f],m.flags|=16):y.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function l(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function r(m,f){return m=Qt(m,f),m.index=0,m.sibling=null,m}function a(m,f,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<f?(m.flags|=2,f):y):(m.flags|=2,f)):(m.flags|=1048576,f)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,f,y,k){return f===null||f.tag!==6?(f=Oa(y,m.mode,k),f.return=m,f):(f=r(f,y),f.return=m,f)}function u(m,f,y,k){var C=y.type;return C===Nn?h(m,f,y.props.children,k,y.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Dt&&ko(C)===f.type)?(k=r(f,y.props),k.ref=ll(m,f,y),k.return=m,k):(k=jr(y.type,y.key,y.props,null,m.mode,k),k.ref=ll(m,f,y),k.return=m,k)}function c(m,f,y,k){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=Ua(y,m.mode,k),f.return=m,f):(f=r(f,y.children||[]),f.return=m,f)}function h(m,f,y,k,C){return f===null||f.tag!==7?(f=dn(y,m.mode,k,C),f.return=m,f):(f=r(f,y),f.return=m,f)}function g(m,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Oa(""+f,m.mode,y),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ql:return y=jr(f.type,f.key,f.props,null,m.mode,y),y.ref=ll(m,null,f),y.return=m,y;case jn:return f=Ua(f,m.mode,y),f.return=m,f;case Dt:var k=f._init;return g(m,k(f._payload),y)}if(il(f)||Zn(f))return f=dn(f,m.mode,y,null),f.return=m,f;ar(m,f)}return null}function v(m,f,y,k){var C=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:o(m,f,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ql:return y.key===C?u(m,f,y,k):null;case jn:return y.key===C?c(m,f,y,k):null;case Dt:return C=y._init,v(m,f,C(y._payload),k)}if(il(y)||Zn(y))return C!==null?null:h(m,f,y,k,null);ar(m,y)}return null}function w(m,f,y,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(y)||null,o(f,m,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ql:return m=m.get(k.key===null?y:k.key)||null,u(f,m,k,C);case jn:return m=m.get(k.key===null?y:k.key)||null,c(f,m,k,C);case Dt:var _=k._init;return w(m,f,y,_(k._payload),C)}if(il(k)||Zn(k))return m=m.get(y)||null,h(f,m,k,C,null);ar(f,k)}return null}function p(m,f,y,k){for(var C=null,_=null,j=f,b=f=0,I=null;j!==null&&b<y.length;b++){j.index>b?(I=j,j=null):I=j.sibling;var z=v(m,j,y[b],k);if(z===null){j===null&&(j=I);break}e&&j&&z.alternate===null&&t(m,j),f=a(z,f,b),_===null?C=z:_.sibling=z,_=z,j=I}if(b===y.length)return n(m,j),oe&&rn(m,b),C;if(j===null){for(;b<y.length;b++)j=g(m,y[b],k),j!==null&&(f=a(j,f,b),_===null?C=j:_.sibling=j,_=j);return oe&&rn(m,b),C}for(j=l(m,j);b<y.length;b++)I=w(j,m,b,y[b],k),I!==null&&(e&&I.alternate!==null&&j.delete(I.key===null?b:I.key),f=a(I,f,b),_===null?C=I:_.sibling=I,_=I);return e&&j.forEach(function(J){return t(m,J)}),oe&&rn(m,b),C}function x(m,f,y,k){var C=Zn(y);if(typeof C!="function")throw Error(P(150));if(y=C.call(y),y==null)throw Error(P(151));for(var _=C=null,j=f,b=f=0,I=null,z=y.next();j!==null&&!z.done;b++,z=y.next()){j.index>b?(I=j,j=null):I=j.sibling;var J=v(m,j,z.value,k);if(J===null){j===null&&(j=I);break}e&&j&&J.alternate===null&&t(m,j),f=a(J,f,b),_===null?C=J:_.sibling=J,_=J,j=I}if(z.done)return n(m,j),oe&&rn(m,b),C;if(j===null){for(;!z.done;b++,z=y.next())z=g(m,z.value,k),z!==null&&(f=a(z,f,b),_===null?C=z:_.sibling=z,_=z);return oe&&rn(m,b),C}for(j=l(m,j);!z.done;b++,z=y.next())z=w(j,m,b,z.value,k),z!==null&&(e&&z.alternate!==null&&j.delete(z.key===null?b:z.key),f=a(z,f,b),_===null?C=z:_.sibling=z,_=z);return e&&j.forEach(function(S){return t(m,S)}),oe&&rn(m,b),C}function N(m,f,y,k){if(typeof y=="object"&&y!==null&&y.type===Nn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ql:e:{for(var C=y.key,_=f;_!==null;){if(_.key===C){if(C=y.type,C===Nn){if(_.tag===7){n(m,_.sibling),f=r(_,y.props.children),f.return=m,m=f;break e}}else if(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Dt&&ko(C)===_.type){n(m,_.sibling),f=r(_,y.props),f.ref=ll(m,_,y),f.return=m,m=f;break e}n(m,_);break}else t(m,_);_=_.sibling}y.type===Nn?(f=dn(y.props.children,m.mode,k,y.key),f.return=m,m=f):(k=jr(y.type,y.key,y.props,null,m.mode,k),k.ref=ll(m,f,y),k.return=m,m=k)}return i(m);case jn:e:{for(_=y.key;f!==null;){if(f.key===_)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(m,f.sibling),f=r(f,y.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=Ua(y,m.mode,k),f.return=m,m=f}return i(m);case Dt:return _=y._init,N(m,f,_(y._payload),k)}if(il(y))return p(m,f,y,k);if(Zn(y))return x(m,f,y,k);ar(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(m,f.sibling),f=r(f,y),f.return=m,m=f):(n(m,f),f=Oa(y,m.mode,k),f.return=m,m=f),i(m)):n(m,f)}return N}var Gn=yc(!0),vc=yc(!1),$r=Zt(null),Fr=null,Tn=null,ui=null;function ci(){ui=Tn=Fr=null}function di(e){var t=$r.current;se($r),e._currentValue=t}function ws(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Fn(e,t){Fr=e,ui=Tn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Oe=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(ui!==e)if(e={context:e,memoizedValue:t,next:null},Tn===null){if(Fr===null)throw Error(P(308));Tn=e,Fr.dependencies={lanes:0,firstContext:e}}else Tn=Tn.next=e;return t}var on=null;function fi(e){on===null?on=[e]:on.push(e)}function xc(e,t,n,l){var r=t.interleaved;return r===null?(n.next=n,fi(t)):(n.next=r.next,r.next=n),t.interleaved=n,bt(e,l)}function bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zt=!1;function mi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,X&2){var r=l.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),l.pending=t,bt(e,n)}return r=l.interleaved,r===null?(t.next=t,fi(l)):(t.next=r.next,r.next=t),l.interleaved=t,bt(e,n)}function yr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Zs(e,n)}}function wo(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:l.shared,effects:l.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Or(e,t,n,l){var r=e.updateQueue;zt=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var u=o,c=u.next;u.next=null,i===null?a=c:i.next=c,i=u;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==i&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=u))}if(a!==null){var g=r.baseState;i=0,h=c=u=null,o=a;do{var v=o.lane,w=o.eventTime;if((l&v)===v){h!==null&&(h=h.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,x=o;switch(v=t,w=n,x.tag){case 1:if(p=x.payload,typeof p=="function"){g=p.call(w,g,v);break e}g=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,v=typeof p=="function"?p.call(w,g,v):p,v==null)break e;g=fe({},g,v);break e;case 2:zt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,v=r.effects,v===null?r.effects=[o]:v.push(o))}else w={eventTime:w,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=w,u=g):h=h.next=w,i|=v;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;v=o,o=v.next,v.next=null,r.lastBaseUpdate=v,r.shared.pending=null}}while(!0);if(h===null&&(u=g),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=h,t=r.shared.interleaved,t!==null){r=t;do i|=r.lane,r=r.next;while(r!==t)}else a===null&&(r.shared.lanes=0);hn|=i,e.lanes=i,e.memoizedState=g}}function So(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],r=l.callback;if(r!==null){if(l.callback=null,l=n,typeof r!="function")throw Error(P(191,r));r.call(l)}}}var Vl={},wt=Zt(Vl),Tl=Zt(Vl),Rl=Zt(Vl);function un(e){if(e===Vl)throw Error(P(174));return e}function pi(e,t){switch(re(Rl,t),re(Tl,e),re(wt,Vl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ts(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ts(t,e)}se(wt),re(wt,t)}function Vn(){se(wt),se(Tl),se(Rl)}function wc(e){un(Rl.current);var t=un(wt.current),n=ts(t,e.type);t!==n&&(re(Tl,e),re(wt,n))}function hi(e){Tl.current===e&&(se(wt),se(Tl))}var ce=Zt(0);function Ur(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Aa=[];function gi(){for(var e=0;e<Aa.length;e++)Aa[e]._workInProgressVersionPrimary=null;Aa.length=0}var vr=Tt.ReactCurrentDispatcher,Da=Tt.ReactCurrentBatchConfig,pn=0,de=null,we=null,Ne=null,Br=!1,gl=!1,Al=0,bm=0;function be(){throw Error(P(321))}function yi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mt(e[n],t[n]))return!1;return!0}function vi(e,t,n,l,r,a){if(pn=a,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vr.current=e===null||e.memoizedState===null?Am:Dm,e=n(l,r),gl){a=0;do{if(gl=!1,Al=0,25<=a)throw Error(P(301));a+=1,Ne=we=null,t.updateQueue=null,vr.current=zm,e=n(l,r)}while(gl)}if(vr.current=qr,t=we!==null&&we.next!==null,pn=0,Ne=we=de=null,Br=!1,t)throw Error(P(300));return e}function xi(){var e=Al!==0;return Al=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?de.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function lt(){if(we===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Ne===null?de.memoizedState:Ne.next;if(t!==null)Ne=t,we=e;else{if(e===null)throw Error(P(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ne===null?de.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Dl(e,t){return typeof t=="function"?t(e):t}function za(e){var t=lt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var l=we,r=l.baseQueue,a=n.pending;if(a!==null){if(r!==null){var i=r.next;r.next=a.next,a.next=i}l.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,l=l.baseState;var o=i=null,u=null,c=a;do{var h=c.lane;if((pn&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),l=c.hasEagerState?c.eagerState:e(l,c.action);else{var g={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=g,i=l):u=u.next=g,de.lanes|=h,hn|=h}c=c.next}while(c!==null&&c!==a);u===null?i=l:u.next=o,mt(l,t.memoizedState)||(Oe=!0),t.memoizedState=l,t.baseState=i,t.baseQueue=u,n.lastRenderedState=l}if(e=n.interleaved,e!==null){r=e;do a=r.lane,de.lanes|=a,hn|=a,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ia(e){var t=lt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var l=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var i=r=r.next;do a=e(a,i.action),i=i.next;while(i!==r);mt(a,t.memoizedState)||(Oe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,l]}function Sc(){}function jc(e,t){var n=de,l=lt(),r=t(),a=!mt(l.memoizedState,r);if(a&&(l.memoizedState=r,Oe=!0),l=l.queue,ki(Pc.bind(null,n,l,e),[e]),l.getSnapshot!==t||a||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,zl(9,Cc.bind(null,n,l,r,t),void 0,null),Ce===null)throw Error(P(349));pn&30||Nc(n,t,r)}return r}function Nc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cc(e,t,n,l){t.value=n,t.getSnapshot=l,Mc(t)&&Ec(e)}function Pc(e,t,n){return n(function(){Mc(t)&&Ec(e)})}function Mc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mt(e,n)}catch{return!0}}function Ec(e){var t=bt(e,1);t!==null&&ft(t,e,1,-1)}function jo(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:e},t.queue=e,e=e.dispatch=Rm.bind(null,de,e),[t.memoizedState,e]}function zl(e,t,n,l){return e={tag:e,create:t,destroy:n,deps:l,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e)),e}function Lc(){return lt().memoizedState}function xr(e,t,n,l){var r=vt();de.flags|=e,r.memoizedState=zl(1|t,n,void 0,l===void 0?null:l)}function sa(e,t,n,l){var r=lt();l=l===void 0?null:l;var a=void 0;if(we!==null){var i=we.memoizedState;if(a=i.destroy,l!==null&&yi(l,i.deps)){r.memoizedState=zl(t,n,a,l);return}}de.flags|=e,r.memoizedState=zl(1|t,n,a,l)}function No(e,t){return xr(8390656,8,e,t)}function ki(e,t){return sa(2048,8,e,t)}function bc(e,t){return sa(4,2,e,t)}function _c(e,t){return sa(4,4,e,t)}function Tc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rc(e,t,n){return n=n!=null?n.concat([e]):null,sa(4,4,Tc.bind(null,t,e),n)}function wi(){}function Ac(e,t){var n=lt();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&yi(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Dc(e,t){var n=lt();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&yi(t,l[1])?l[0]:(e=e(),n.memoizedState=[e,t],e)}function zc(e,t,n){return pn&21?(mt(n,t)||(n=Uu(),de.lanes|=n,hn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Oe=!0),e.memoizedState=n)}function _m(e,t){var n=te;te=n!==0&&4>n?n:4,e(!0);var l=Da.transition;Da.transition={};try{e(!1),t()}finally{te=n,Da.transition=l}}function Ic(){return lt().memoizedState}function Tm(e,t,n){var l=Wt(e);if(n={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null},$c(e))Fc(t,n);else if(n=xc(e,t,n,l),n!==null){var r=De();ft(n,e,l,r),Oc(n,t,l)}}function Rm(e,t,n){var l=Wt(e),r={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null};if($c(e))Fc(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(r.hasEagerState=!0,r.eagerState=o,mt(o,i)){var u=t.interleaved;u===null?(r.next=r,fi(t)):(r.next=u.next,u.next=r),t.interleaved=r;return}}catch{}finally{}n=xc(e,t,r,l),n!==null&&(r=De(),ft(n,e,l,r),Oc(n,t,l))}}function $c(e){var t=e.alternate;return e===de||t!==null&&t===de}function Fc(e,t){gl=Br=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Oc(e,t,n){if(n&4194240){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Zs(e,n)}}var qr={readContext:nt,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},Am={readContext:nt,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:No,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xr(4194308,4,Tc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xr(4194308,4,e,t)},useInsertionEffect:function(e,t){return xr(4,2,e,t)},useMemo:function(e,t){var n=vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var l=vt();return t=n!==void 0?n(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=Tm.bind(null,de,e),[l.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:jo,useDebugValue:wi,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=_m.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var l=de,r=vt();if(oe){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Ce===null)throw Error(P(349));pn&30||Nc(l,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,No(Pc.bind(null,l,a,e),[e]),l.flags|=2048,zl(9,Cc.bind(null,l,a,n,t),void 0,null),n},useId:function(){var e=vt(),t=Ce.identifierPrefix;if(oe){var n=Pt,l=Ct;n=(l&~(1<<32-dt(l)-1)).toString(32)+n,t=":"+t+"R"+n,n=Al++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dm={readContext:nt,useCallback:Ac,useContext:nt,useEffect:ki,useImperativeHandle:Rc,useInsertionEffect:bc,useLayoutEffect:_c,useMemo:Dc,useReducer:za,useRef:Lc,useState:function(){return za(Dl)},useDebugValue:wi,useDeferredValue:function(e){var t=lt();return zc(t,we.memoizedState,e)},useTransition:function(){var e=za(Dl)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Sc,useSyncExternalStore:jc,useId:Ic,unstable_isNewReconciler:!1},zm={readContext:nt,useCallback:Ac,useContext:nt,useEffect:ki,useImperativeHandle:Rc,useInsertionEffect:bc,useLayoutEffect:_c,useMemo:Dc,useReducer:Ia,useRef:Lc,useState:function(){return Ia(Dl)},useDebugValue:wi,useDeferredValue:function(e){var t=lt();return we===null?t.memoizedState=e:zc(t,we.memoizedState,e)},useTransition:function(){var e=Ia(Dl)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Sc,useSyncExternalStore:jc,useId:Ic,unstable_isNewReconciler:!1};function ot(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ss(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return(e=e._reactInternals)?kn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var l=De(),r=Wt(e),a=Mt(l,r);a.payload=t,n!=null&&(a.callback=n),t=Vt(e,a,r),t!==null&&(ft(t,e,r,l),yr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=De(),r=Wt(e),a=Mt(l,r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Vt(e,a,r),t!==null&&(ft(t,e,r,l),yr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=De(),l=Wt(e),r=Mt(n,l);r.tag=2,t!=null&&(r.callback=t),t=Vt(e,r,l),t!==null&&(ft(t,e,l,n),yr(t,e,l))}};function Co(e,t,n,l,r,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,a,i):t.prototype&&t.prototype.isPureReactComponent?!El(n,l)||!El(r,a):!0}function Uc(e,t,n){var l=!1,r=Yt,a=t.contextType;return typeof a=="object"&&a!==null?a=nt(a):(r=Be(t)?fn:Re.current,l=t.contextTypes,a=(l=l!=null)?Bn(e,r):Yt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function Po(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function js(e,t,n,l){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},mi(e);var a=t.contextType;typeof a=="object"&&a!==null?r.context=nt(a):(a=Be(t)?fn:Re.current,r.context=Bn(e,a)),r.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ss(e,t,a,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&ia.enqueueReplaceState(r,r.state,null),Or(e,n,r,l),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Hn(e,t){try{var n="",l=t;do n+=cf(l),l=l.return;while(l);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:r,digest:null}}function $a(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ns(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Im=typeof WeakMap=="function"?WeakMap:Map;function Bc(e,t,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var l=t.value;return n.callback=function(){Vr||(Vr=!0,As=l),Ns(e,t)},n}function qc(e,t,n){n=Mt(-1,n),n.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var r=t.value;n.payload=function(){return l(r)},n.callback=function(){Ns(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ns(e,t),typeof l!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Mo(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new Im;var r=new Set;l.set(t,r)}else r=l.get(t),r===void 0&&(r=new Set,l.set(t,r));r.has(n)||(r.add(n),e=Xm.bind(null,e,t,n),t.then(e,e))}function Eo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lo(e,t,n,l,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mt(-1,1),t.tag=2,Vt(n,t,1))),n.lanes|=1),e)}var $m=Tt.ReactCurrentOwner,Oe=!1;function Ae(e,t,n,l){t.child=e===null?vc(t,null,n,l):Gn(t,e.child,n,l)}function bo(e,t,n,l,r){n=n.render;var a=t.ref;return Fn(t,r),l=vi(e,t,n,l,a,r),n=xi(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,_t(e,t,r)):(oe&&n&&si(t),t.flags|=1,Ae(e,t,l,r),t.child)}function _o(e,t,n,l,r){if(e===null){var a=n.type;return typeof a=="function"&&!Li(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Gc(e,t,a,l,r)):(e=jr(n.type,null,l,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&r)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:El,n(i,l)&&e.ref===t.ref)return _t(e,t,r)}return t.flags|=1,e=Qt(a,l),e.ref=t.ref,e.return=t,t.child=e}function Gc(e,t,n,l,r){if(e!==null){var a=e.memoizedProps;if(El(a,l)&&e.ref===t.ref)if(Oe=!1,t.pendingProps=l=a,(e.lanes&r)!==0)e.flags&131072&&(Oe=!0);else return t.lanes=e.lanes,_t(e,t,r)}return Cs(e,t,n,l,r)}function Vc(e,t,n){var l=t.pendingProps,r=l.children,a=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(An,Ve),Ve|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,re(An,Ve),Ve|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=a!==null?a.baseLanes:n,re(An,Ve),Ve|=l}else a!==null?(l=a.baseLanes|n,t.memoizedState=null):l=n,re(An,Ve),Ve|=l;return Ae(e,t,r,n),t.child}function Hc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,l,r){var a=Be(n)?fn:Re.current;return a=Bn(t,a),Fn(t,r),n=vi(e,t,n,l,a,r),l=xi(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,_t(e,t,r)):(oe&&l&&si(t),t.flags|=1,Ae(e,t,n,r),t.child)}function To(e,t,n,l,r){if(Be(n)){var a=!0;Dr(t)}else a=!1;if(Fn(t,r),t.stateNode===null)kr(e,t),Uc(t,n,l),js(t,n,l,r),l=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var u=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=nt(c):(c=Be(n)?fn:Re.current,c=Bn(t,c));var h=n.getDerivedStateFromProps,g=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==l||u!==c)&&Po(t,i,l,c),zt=!1;var v=t.memoizedState;i.state=v,Or(t,l,i,r),u=t.memoizedState,o!==l||v!==u||Ue.current||zt?(typeof h=="function"&&(Ss(t,n,h,l),u=t.memoizedState),(o=zt||Co(t,n,o,l,v,u,c))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=u),i.props=l,i.state=u,i.context=c,l=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,kc(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ot(t.type,o),i.props=c,g=t.pendingProps,v=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=nt(u):(u=Be(n)?fn:Re.current,u=Bn(t,u));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==g||v!==u)&&Po(t,i,l,u),zt=!1,v=t.memoizedState,i.state=v,Or(t,l,i,r);var p=t.memoizedState;o!==g||v!==p||Ue.current||zt?(typeof w=="function"&&(Ss(t,n,w,l),p=t.memoizedState),(c=zt||Co(t,n,c,l,v,p,u)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,p,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,p,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=p),i.props=l,i.state=p,i.context=u,l=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),l=!1)}return Ps(e,t,n,l,a,r)}function Ps(e,t,n,l,r,a){Hc(e,t);var i=(t.flags&128)!==0;if(!l&&!i)return r&&yo(t,n,!1),_t(e,t,a);l=t.stateNode,$m.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&i?(t.child=Gn(t,e.child,null,a),t.child=Gn(t,null,o,a)):Ae(e,t,o,a),t.memoizedState=l.state,r&&yo(t,n,!0),t.child}function Wc(e){var t=e.stateNode;t.pendingContext?go(e,t.pendingContext,t.pendingContext!==t.context):t.context&&go(e,t.context,!1),pi(e,t.containerInfo)}function Ro(e,t,n,l,r){return qn(),oi(r),t.flags|=256,Ae(e,t,n,l),t.child}var Ms={dehydrated:null,treeContext:null,retryLane:0};function Es(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qc(e,t,n){var l=t.pendingProps,r=ce.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(r&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),re(ce,r&1),e===null)return ks(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=l.children,e=l.fallback,a?(l=t.mode,a=t.child,i={mode:"hidden",children:i},!(l&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=ca(i,l,0,null),e=dn(e,l,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Es(n),t.memoizedState=Ms,e):Si(t,i));if(r=e.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return Fm(e,t,i,l,o,r,n);if(a){a=l.fallback,i=t.mode,r=e.child,o=r.sibling;var u={mode:"hidden",children:l.children};return!(i&1)&&t.child!==r?(l=t.child,l.childLanes=0,l.pendingProps=u,t.deletions=null):(l=Qt(r,u),l.subtreeFlags=r.subtreeFlags&14680064),o!==null?a=Qt(o,a):(a=dn(a,i,n,null),a.flags|=2),a.return=t,l.return=t,l.sibling=a,t.child=l,l=a,a=t.child,i=e.child.memoizedState,i=i===null?Es(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Ms,l}return a=e.child,e=a.sibling,l=Qt(a,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=n),l.return=t,l.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=l,t.memoizedState=null,l}function Si(e,t){return t=ca({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sr(e,t,n,l){return l!==null&&oi(l),Gn(t,e.child,null,n),e=Si(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fm(e,t,n,l,r,a,i){if(n)return t.flags&256?(t.flags&=-257,l=$a(Error(P(422))),sr(e,t,i,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=l.fallback,r=t.mode,l=ca({mode:"visible",children:l.children},r,0,null),a=dn(a,r,i,null),a.flags|=2,l.return=t,a.return=t,l.sibling=a,t.child=l,t.mode&1&&Gn(t,e.child,null,i),t.child.memoizedState=Es(i),t.memoizedState=Ms,a);if(!(t.mode&1))return sr(e,t,i,null);if(r.data==="$!"){if(l=r.nextSibling&&r.nextSibling.dataset,l)var o=l.dgst;return l=o,a=Error(P(419)),l=$a(a,l,void 0),sr(e,t,i,l)}if(o=(i&e.childLanes)!==0,Oe||o){if(l=Ce,l!==null){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(l.suspendedLanes|i)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,bt(e,r),ft(l,e,r,-1))}return Ei(),l=$a(Error(P(421))),sr(e,t,i,l)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=Zm.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,He=Gt(r.nextSibling),We=t,oe=!0,ct=null,e!==null&&(Ze[Je++]=Ct,Ze[Je++]=Pt,Ze[Je++]=mn,Ct=e.id,Pt=e.overflow,mn=t),t=Si(t,l.children),t.flags|=4096,t)}function Ao(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),ws(e.return,t,n)}function Fa(e,t,n,l,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=l,a.tail=n,a.tailMode=r)}function Kc(e,t,n){var l=t.pendingProps,r=l.revealOrder,a=l.tail;if(Ae(e,t,l.children,n),l=ce.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ao(e,n,t);else if(e.tag===19)Ao(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(re(ce,l),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Ur(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Fa(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ur(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Fa(t,!0,n,null,a);break;case"together":Fa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Qt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Om(e,t,n){switch(t.tag){case 3:Wc(t),qn();break;case 5:wc(t);break;case 1:Be(t.type)&&Dr(t);break;case 4:pi(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,r=t.memoizedProps.value;re($r,l._currentValue),l._currentValue=r;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(re(ce,ce.current&1),t.flags|=128,null):n&t.child.childLanes?Qc(e,t,n):(re(ce,ce.current&1),e=_t(e,t,n),e!==null?e.sibling:null);re(ce,ce.current&1);break;case 19:if(l=(n&t.childLanes)!==0,e.flags&128){if(l)return Kc(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),re(ce,ce.current),l)break;return null;case 22:case 23:return t.lanes=0,Vc(e,t,n)}return _t(e,t,n)}var Yc,Ls,Xc,Zc;Yc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ls=function(){};Xc=function(e,t,n,l){var r=e.memoizedProps;if(r!==l){e=t.stateNode,un(wt.current);var a=null;switch(n){case"input":r=Xa(e,r),l=Xa(e,l),a=[];break;case"select":r=fe({},r,{value:void 0}),l=fe({},l,{value:void 0}),a=[];break;case"textarea":r=es(e,r),l=es(e,l),a=[];break;default:typeof r.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Rr)}ns(n,l);var i;n=null;for(c in r)if(!l.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var o=r[c];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wl.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in l){var u=l[c];if(o=r!=null?r[c]:void 0,l.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&o[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(a||(a=[]),a.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(a=a||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ae("scroll",e),a||o===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};Zc=function(e,t,n,l){n!==l&&(t.flags|=4)};function rl(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,l|=r.subtreeFlags&14680064,l|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function Um(e,t,n){var l=t.pendingProps;switch(ii(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return Be(t.type)&&Ar(),_e(t),null;case 3:return l=t.stateNode,Vn(),se(Ue),se(Re),gi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(rr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ct!==null&&(Is(ct),ct=null))),Ls(e,t),_e(t),null;case 5:hi(t);var r=un(Rl.current);if(n=t.type,e!==null&&t.stateNode!=null)Xc(e,t,n,l,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(P(166));return _e(t),null}if(e=un(wt.current),rr(t)){l=t.stateNode,n=t.type;var a=t.memoizedProps;switch(l[xt]=t,l[_l]=a,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",l),ae("close",l);break;case"iframe":case"object":case"embed":ae("load",l);break;case"video":case"audio":for(r=0;r<ul.length;r++)ae(ul[r],l);break;case"source":ae("error",l);break;case"img":case"image":case"link":ae("error",l),ae("load",l);break;case"details":ae("toggle",l);break;case"input":Bi(l,a),ae("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!a.multiple},ae("invalid",l);break;case"textarea":Gi(l,a),ae("invalid",l)}ns(n,a),r=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?l.textContent!==o&&(a.suppressHydrationWarning!==!0&&lr(l.textContent,o,e),r=["children",o]):typeof o=="number"&&l.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&lr(l.textContent,o,e),r=["children",""+o]):wl.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&ae("scroll",l)}switch(n){case"input":Kl(l),qi(l,a,!0);break;case"textarea":Kl(l),Vi(l);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(l.onclick=Rr)}l=r,t.updateQueue=l,l!==null&&(t.flags|=4)}else{i=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=i.createElement(n,{is:l.is}):(e=i.createElement(n),n==="select"&&(i=e,l.multiple?i.multiple=!0:l.size&&(i.size=l.size))):e=i.createElementNS(e,n),e[xt]=t,e[_l]=l,Yc(e,t,!1,!1),t.stateNode=e;e:{switch(i=ls(n,l),n){case"dialog":ae("cancel",e),ae("close",e),r=l;break;case"iframe":case"object":case"embed":ae("load",e),r=l;break;case"video":case"audio":for(r=0;r<ul.length;r++)ae(ul[r],e);r=l;break;case"source":ae("error",e),r=l;break;case"img":case"image":case"link":ae("error",e),ae("load",e),r=l;break;case"details":ae("toggle",e),r=l;break;case"input":Bi(e,l),r=Xa(e,l),ae("invalid",e);break;case"option":r=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},r=fe({},l,{value:void 0}),ae("invalid",e);break;case"textarea":Gi(e,l),r=es(e,l),ae("invalid",e);break;default:r=l}ns(n,r),o=r;for(a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="style"?Lu(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Mu(e,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Sl(e,u):typeof u=="number"&&Sl(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wl.hasOwnProperty(a)?u!=null&&a==="onScroll"&&ae("scroll",e):u!=null&&Hs(e,a,u,i))}switch(n){case"input":Kl(e),qi(e,l,!1);break;case"textarea":Kl(e),Vi(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Kt(l.value));break;case"select":e.multiple=!!l.multiple,a=l.value,a!=null?Dn(e,!!l.multiple,a,!1):l.defaultValue!=null&&Dn(e,!!l.multiple,l.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Rr)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)Zc(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(P(166));if(n=un(Rl.current),un(wt.current),rr(t)){if(l=t.stateNode,n=t.memoizedProps,l[xt]=t,(a=l.nodeValue!==n)&&(e=We,e!==null))switch(e.tag){case 3:lr(l.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lr(l.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else l=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),l[xt]=t,t.stateNode=l}return _e(t),null;case 13:if(se(ce),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&He!==null&&t.mode&1&&!(t.flags&128))gc(),qn(),t.flags|=98560,a=!1;else if(a=rr(t),l!==null&&l.dehydrated!==null){if(e===null){if(!a)throw Error(P(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(P(317));a[xt]=t}else qn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),a=!1}else ct!==null&&(Is(ct),ct=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||ce.current&1?Se===0&&(Se=3):Ei())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return Vn(),Ls(e,t),e===null&&Ll(t.stateNode.containerInfo),_e(t),null;case 10:return di(t.type._context),_e(t),null;case 17:return Be(t.type)&&Ar(),_e(t),null;case 19:if(se(ce),a=t.memoizedState,a===null)return _e(t),null;if(l=(t.flags&128)!==0,i=a.rendering,i===null)if(l)rl(a,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ur(e),i!==null){for(t.flags|=128,rl(a,!1),l=i.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=n,n=t.child;n!==null;)a=n,e=l,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return re(ce,ce.current&1|2),t.child}e=e.sibling}a.tail!==null&&ye()>Wn&&(t.flags|=128,l=!0,rl(a,!1),t.lanes=4194304)}else{if(!l)if(e=Ur(i),e!==null){if(t.flags|=128,l=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!oe)return _e(t),null}else 2*ye()-a.renderingStartTime>Wn&&n!==1073741824&&(t.flags|=128,l=!0,rl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ye(),t.sibling=null,n=ce.current,re(ce,l?n&1|2:n&1),t):(_e(t),null);case 22:case 23:return Mi(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?Ve&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function Bm(e,t){switch(ii(t),t.tag){case 1:return Be(t.type)&&Ar(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vn(),se(Ue),se(Re),gi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hi(t),null;case 13:if(se(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(ce),null;case 4:return Vn(),null;case 10:return di(t.type._context),null;case 22:case 23:return Mi(),null;case 24:return null;default:return null}}var ir=!1,Te=!1,qm=typeof WeakSet=="function"?WeakSet:Set,D=null;function Rn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(l){pe(e,t,l)}else n.current=null}function bs(e,t,n){try{n()}catch(l){pe(e,t,l)}}var Do=!1;function Gm(e,t){if(ms=br,e=lc(),ai(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var r=l.anchorOffset,a=l.focusNode;l=l.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,u=-1,c=0,h=0,g=e,v=null;t:for(;;){for(var w;g!==n||r!==0&&g.nodeType!==3||(o=i+r),g!==a||l!==0&&g.nodeType!==3||(u=i+l),g.nodeType===3&&(i+=g.nodeValue.length),(w=g.firstChild)!==null;)v=g,g=w;for(;;){if(g===e)break t;if(v===n&&++c===r&&(o=i),v===a&&++h===l&&(u=i),(w=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=w}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ps={focusedElem:e,selectionRange:n},br=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,N=p.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:ot(t.type,x),N);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(k){pe(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return p=Do,Do=!1,p}function yl(e,t,n){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var r=l=l.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,a!==void 0&&bs(t,n,a)}r=r.next}while(r!==l)}}function oa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var l=n.create;n.destroy=l()}n=n.next}while(n!==t)}}function _s(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jc(e){var t=e.alternate;t!==null&&(e.alternate=null,Jc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xt],delete t[_l],delete t[ys],delete t[Pm],delete t[Mm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ed(e){return e.tag===5||e.tag===3||e.tag===4}function zo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ts(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rr));else if(l!==4&&(e=e.child,e!==null))for(Ts(e,t,n),e=e.sibling;e!==null;)Ts(e,t,n),e=e.sibling}function Rs(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Rs(e,t,n),e=e.sibling;e!==null;)Rs(e,t,n),e=e.sibling}var Me=null,ut=!1;function Rt(e,t,n){for(n=n.child;n!==null;)td(e,t,n),n=n.sibling}function td(e,t,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(ea,n)}catch{}switch(n.tag){case 5:Te||Rn(n,t);case 6:var l=Me,r=ut;Me=null,Rt(e,t,n),Me=l,ut=r,Me!==null&&(ut?(e=Me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(ut?(e=Me,n=n.stateNode,e.nodeType===8?Ta(e.parentNode,n):e.nodeType===1&&Ta(e,n),Pl(e)):Ta(Me,n.stateNode));break;case 4:l=Me,r=ut,Me=n.stateNode.containerInfo,ut=!0,Rt(e,t,n),Me=l,ut=r;break;case 0:case 11:case 14:case 15:if(!Te&&(l=n.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){r=l=l.next;do{var a=r,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&bs(n,t,i),r=r.next}while(r!==l)}Rt(e,t,n);break;case 1:if(!Te&&(Rn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=n.memoizedProps,l.state=n.memoizedState,l.componentWillUnmount()}catch(o){pe(n,t,o)}Rt(e,t,n);break;case 21:Rt(e,t,n);break;case 22:n.mode&1?(Te=(l=Te)||n.memoizedState!==null,Rt(e,t,n),Te=l):Rt(e,t,n);break;default:Rt(e,t,n)}}function Io(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qm),t.forEach(function(l){var r=Jm.bind(null,e,l);n.has(l)||(n.add(l),l.then(r,r))})}}function it(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var r=n[l];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Me=o.stateNode,ut=!1;break e;case 3:Me=o.stateNode.containerInfo,ut=!0;break e;case 4:Me=o.stateNode.containerInfo,ut=!0;break e}o=o.return}if(Me===null)throw Error(P(160));td(a,i,r),Me=null,ut=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(c){pe(r,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nd(t,e),t=t.sibling}function nd(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(it(t,e),yt(e),l&4){try{yl(3,e,e.return),oa(3,e)}catch(x){pe(e,e.return,x)}try{yl(5,e,e.return)}catch(x){pe(e,e.return,x)}}break;case 1:it(t,e),yt(e),l&512&&n!==null&&Rn(n,n.return);break;case 5:if(it(t,e),yt(e),l&512&&n!==null&&Rn(n,n.return),e.flags&32){var r=e.stateNode;try{Sl(r,"")}catch(x){pe(e,e.return,x)}}if(l&4&&(r=e.stateNode,r!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Nu(r,a),ls(o,i);var c=ls(o,a);for(i=0;i<u.length;i+=2){var h=u[i],g=u[i+1];h==="style"?Lu(r,g):h==="dangerouslySetInnerHTML"?Mu(r,g):h==="children"?Sl(r,g):Hs(r,h,g,c)}switch(o){case"input":Za(r,a);break;case"textarea":Cu(r,a);break;case"select":var v=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?Dn(r,!!a.multiple,w,!1):v!==!!a.multiple&&(a.defaultValue!=null?Dn(r,!!a.multiple,a.defaultValue,!0):Dn(r,!!a.multiple,a.multiple?[]:"",!1))}r[_l]=a}catch(x){pe(e,e.return,x)}}break;case 6:if(it(t,e),yt(e),l&4){if(e.stateNode===null)throw Error(P(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(x){pe(e,e.return,x)}}break;case 3:if(it(t,e),yt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(t.containerInfo)}catch(x){pe(e,e.return,x)}break;case 4:it(t,e),yt(e);break;case 13:it(t,e),yt(e),r=e.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(Ci=ye())),l&4&&Io(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Te=(c=Te)||h,it(t,e),Te=c):it(t,e),yt(e),l&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(D=e,h=e.child;h!==null;){for(g=D=h;D!==null;){switch(v=D,w=v.child,v.tag){case 0:case 11:case 14:case 15:yl(4,v,v.return);break;case 1:Rn(v,v.return);var p=v.stateNode;if(typeof p.componentWillUnmount=="function"){l=v,n=v.return;try{t=l,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){pe(l,n,x)}}break;case 5:Rn(v,v.return);break;case 22:if(v.memoizedState!==null){Fo(g);continue}}w!==null?(w.return=v,D=w):Fo(g)}h=h.sibling}e:for(h=null,g=e;;){if(g.tag===5){if(h===null){h=g;try{r=g.stateNode,c?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=g.stateNode,u=g.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Eu("display",i))}catch(x){pe(e,e.return,x)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(x){pe(e,e.return,x)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:it(t,e),yt(e),l&4&&Io(e);break;case 21:break;default:it(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ed(n)){var l=n;break e}n=n.return}throw Error(P(160))}switch(l.tag){case 5:var r=l.stateNode;l.flags&32&&(Sl(r,""),l.flags&=-33);var a=zo(e);Rs(e,a,r);break;case 3:case 4:var i=l.stateNode.containerInfo,o=zo(e);Ts(e,o,i);break;default:throw Error(P(161))}}catch(u){pe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vm(e,t,n){D=e,ld(e)}function ld(e,t,n){for(var l=(e.mode&1)!==0;D!==null;){var r=D,a=r.child;if(r.tag===22&&l){var i=r.memoizedState!==null||ir;if(!i){var o=r.alternate,u=o!==null&&o.memoizedState!==null||Te;o=ir;var c=Te;if(ir=i,(Te=u)&&!c)for(D=r;D!==null;)i=D,u=i.child,i.tag===22&&i.memoizedState!==null?Oo(r):u!==null?(u.return=i,D=u):Oo(r);for(;a!==null;)D=a,ld(a),a=a.sibling;D=r,ir=o,Te=c}$o(e)}else r.subtreeFlags&8772&&a!==null?(a.return=r,D=a):$o(e)}}function $o(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||oa(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!Te)if(n===null)l.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ot(t.type,n.memoizedProps);l.componentDidUpdate(r,n.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&So(t,a,l);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}So(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&Pl(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Te||t.flags&512&&_s(t)}catch(v){pe(t,t.return,v)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function Fo(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function Oo(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oa(4,t)}catch(u){pe(t,n,u)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var r=t.return;try{l.componentDidMount()}catch(u){pe(t,r,u)}}var a=t.return;try{_s(t)}catch(u){pe(t,a,u)}break;case 5:var i=t.return;try{_s(t)}catch(u){pe(t,i,u)}}}catch(u){pe(t,t.return,u)}if(t===e){D=null;break}var o=t.sibling;if(o!==null){o.return=t.return,D=o;break}D=t.return}}var Hm=Math.ceil,Gr=Tt.ReactCurrentDispatcher,ji=Tt.ReactCurrentOwner,tt=Tt.ReactCurrentBatchConfig,X=0,Ce=null,xe=null,Ee=0,Ve=0,An=Zt(0),Se=0,Il=null,hn=0,ua=0,Ni=0,vl=null,Fe=null,Ci=0,Wn=1/0,jt=null,Vr=!1,As=null,Ht=null,or=!1,Ot=null,Hr=0,xl=0,Ds=null,wr=-1,Sr=0;function De(){return X&6?ye():wr!==-1?wr:wr=ye()}function Wt(e){return e.mode&1?X&2&&Ee!==0?Ee&-Ee:Lm.transition!==null?(Sr===0&&(Sr=Uu()),Sr):(e=te,e!==0||(e=window.event,e=e===void 0?16:Qu(e.type)),e):1}function ft(e,t,n,l){if(50<xl)throw xl=0,Ds=null,Error(P(185));Bl(e,n,l),(!(X&2)||e!==Ce)&&(e===Ce&&(!(X&2)&&(ua|=n),Se===4&&$t(e,Ee)),qe(e,l),n===1&&X===0&&!(t.mode&1)&&(Wn=ye()+500,aa&&Jt()))}function qe(e,t){var n=e.callbackNode;Lf(e,t);var l=Lr(e,e===Ce?Ee:0);if(l===0)n!==null&&Qi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(n!=null&&Qi(n),t===1)e.tag===0?Em(Uo.bind(null,e)):mc(Uo.bind(null,e)),Nm(function(){!(X&6)&&Jt()}),n=null;else{switch(Bu(l)){case 1:n=Xs;break;case 4:n=Fu;break;case 16:n=Er;break;case 536870912:n=Ou;break;default:n=Er}n=dd(n,rd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rd(e,t){if(wr=-1,Sr=0,X&6)throw Error(P(327));var n=e.callbackNode;if(On()&&e.callbackNode!==n)return null;var l=Lr(e,e===Ce?Ee:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=Wr(e,l);else{t=l;var r=X;X|=2;var a=sd();(Ce!==e||Ee!==t)&&(jt=null,Wn=ye()+500,cn(e,t));do try{Km();break}catch(o){ad(e,o)}while(!0);ci(),Gr.current=a,X=r,xe!==null?t=0:(Ce=null,Ee=0,t=Se)}if(t!==0){if(t===2&&(r=os(e),r!==0&&(l=r,t=zs(e,r))),t===1)throw n=Il,cn(e,0),$t(e,l),qe(e,ye()),n;if(t===6)$t(e,l);else{if(r=e.current.alternate,!(l&30)&&!Wm(r)&&(t=Wr(e,l),t===2&&(a=os(e),a!==0&&(l=a,t=zs(e,a))),t===1))throw n=Il,cn(e,0),$t(e,l),qe(e,ye()),n;switch(e.finishedWork=r,e.finishedLanes=l,t){case 0:case 1:throw Error(P(345));case 2:an(e,Fe,jt);break;case 3:if($t(e,l),(l&130023424)===l&&(t=Ci+500-ye(),10<t)){if(Lr(e,0)!==0)break;if(r=e.suspendedLanes,(r&l)!==l){De(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=gs(an.bind(null,e,Fe,jt),t);break}an(e,Fe,jt);break;case 4:if($t(e,l),(l&4194240)===l)break;for(t=e.eventTimes,r=-1;0<l;){var i=31-dt(l);a=1<<i,i=t[i],i>r&&(r=i),l&=~a}if(l=r,l=ye()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Hm(l/1960))-l,10<l){e.timeoutHandle=gs(an.bind(null,e,Fe,jt),l);break}an(e,Fe,jt);break;case 5:an(e,Fe,jt);break;default:throw Error(P(329))}}}return qe(e,ye()),e.callbackNode===n?rd.bind(null,e):null}function zs(e,t){var n=vl;return e.current.memoizedState.isDehydrated&&(cn(e,t).flags|=256),e=Wr(e,t),e!==2&&(t=Fe,Fe=n,t!==null&&Is(t)),e}function Is(e){Fe===null?Fe=e:Fe.push.apply(Fe,e)}function Wm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var l=0;l<n.length;l++){var r=n[l],a=r.getSnapshot;r=r.value;try{if(!mt(a(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $t(e,t){for(t&=~Ni,t&=~ua,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dt(t),l=1<<n;e[n]=-1,t&=~l}}function Uo(e){if(X&6)throw Error(P(327));On();var t=Lr(e,0);if(!(t&1))return qe(e,ye()),null;var n=Wr(e,t);if(e.tag!==0&&n===2){var l=os(e);l!==0&&(t=l,n=zs(e,l))}if(n===1)throw n=Il,cn(e,0),$t(e,t),qe(e,ye()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,an(e,Fe,jt),qe(e,ye()),null}function Pi(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(Wn=ye()+500,aa&&Jt())}}function gn(e){Ot!==null&&Ot.tag===0&&!(X&6)&&On();var t=X;X|=1;var n=tt.transition,l=te;try{if(tt.transition=null,te=1,e)return e()}finally{te=l,tt.transition=n,X=t,!(X&6)&&Jt()}}function Mi(){Ve=An.current,se(An)}function cn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jm(n)),xe!==null)for(n=xe.return;n!==null;){var l=n;switch(ii(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ar();break;case 3:Vn(),se(Ue),se(Re),gi();break;case 5:hi(l);break;case 4:Vn();break;case 13:se(ce);break;case 19:se(ce);break;case 10:di(l.type._context);break;case 22:case 23:Mi()}n=n.return}if(Ce=e,xe=e=Qt(e.current,null),Ee=Ve=t,Se=0,Il=null,Ni=ua=hn=0,Fe=vl=null,on!==null){for(t=0;t<on.length;t++)if(n=on[t],l=n.interleaved,l!==null){n.interleaved=null;var r=l.next,a=n.pending;if(a!==null){var i=a.next;a.next=r,l.next=i}n.pending=l}on=null}return e}function ad(e,t){do{var n=xe;try{if(ci(),vr.current=qr,Br){for(var l=de.memoizedState;l!==null;){var r=l.queue;r!==null&&(r.pending=null),l=l.next}Br=!1}if(pn=0,Ne=we=de=null,gl=!1,Al=0,ji.current=null,n===null||n.return===null){Se=1,Il=t,xe=null;break}e:{var a=e,i=n.return,o=n,u=t;if(t=Ee,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=o,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var v=h.alternate;v?(h.updateQueue=v.updateQueue,h.memoizedState=v.memoizedState,h.lanes=v.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=Eo(i);if(w!==null){w.flags&=-257,Lo(w,i,o,a,t),w.mode&1&&Mo(a,c,t),t=w,u=c;var p=t.updateQueue;if(p===null){var x=new Set;x.add(u),t.updateQueue=x}else p.add(u);break e}else{if(!(t&1)){Mo(a,c,t),Ei();break e}u=Error(P(426))}}else if(oe&&o.mode&1){var N=Eo(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Lo(N,i,o,a,t),oi(Hn(u,o));break e}}a=u=Hn(u,o),Se!==4&&(Se=2),vl===null?vl=[a]:vl.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=Bc(a,u,t);wo(a,m);break e;case 1:o=u;var f=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ht===null||!Ht.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=qc(a,o,t);wo(a,k);break e}}a=a.return}while(a!==null)}od(n)}catch(C){t=C,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function sd(){var e=Gr.current;return Gr.current=qr,e===null?qr:e}function Ei(){(Se===0||Se===3||Se===2)&&(Se=4),Ce===null||!(hn&268435455)&&!(ua&268435455)||$t(Ce,Ee)}function Wr(e,t){var n=X;X|=2;var l=sd();(Ce!==e||Ee!==t)&&(jt=null,cn(e,t));do try{Qm();break}catch(r){ad(e,r)}while(!0);if(ci(),X=n,Gr.current=l,xe!==null)throw Error(P(261));return Ce=null,Ee=0,Se}function Qm(){for(;xe!==null;)id(xe)}function Km(){for(;xe!==null&&!kf();)id(xe)}function id(e){var t=cd(e.alternate,e,Ve);e.memoizedProps=e.pendingProps,t===null?od(e):xe=t,ji.current=null}function od(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Bm(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,xe=null;return}}else if(n=Um(n,t,Ve),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Se===0&&(Se=5)}function an(e,t,n){var l=te,r=tt.transition;try{tt.transition=null,te=1,Ym(e,t,n,l)}finally{tt.transition=r,te=l}return null}function Ym(e,t,n,l){do On();while(Ot!==null);if(X&6)throw Error(P(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(bf(e,a),e===Ce&&(xe=Ce=null,Ee=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||or||(or=!0,dd(Er,function(){return On(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=tt.transition,tt.transition=null;var i=te;te=1;var o=X;X|=4,ji.current=null,Gm(e,n),nd(n,e),gm(ps),br=!!ms,ps=ms=null,e.current=n,Vm(n),wf(),X=o,te=i,tt.transition=a}else e.current=n;if(or&&(or=!1,Ot=e,Hr=r),a=e.pendingLanes,a===0&&(Ht=null),Nf(n.stateNode),qe(e,ye()),t!==null)for(l=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],l(r.value,{componentStack:r.stack,digest:r.digest});if(Vr)throw Vr=!1,e=As,As=null,e;return Hr&1&&e.tag!==0&&On(),a=e.pendingLanes,a&1?e===Ds?xl++:(xl=0,Ds=e):xl=0,Jt(),null}function On(){if(Ot!==null){var e=Bu(Hr),t=tt.transition,n=te;try{if(tt.transition=null,te=16>e?16:e,Ot===null)var l=!1;else{if(e=Ot,Ot=null,Hr=0,X&6)throw Error(P(331));var r=X;for(X|=4,D=e.current;D!==null;){var a=D,i=a.child;if(D.flags&16){var o=a.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(D=c;D!==null;){var h=D;switch(h.tag){case 0:case 11:case 15:yl(8,h,a)}var g=h.child;if(g!==null)g.return=h,D=g;else for(;D!==null;){h=D;var v=h.sibling,w=h.return;if(Jc(h),h===c){D=null;break}if(v!==null){v.return=w,D=v;break}D=w}}}var p=a.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}D=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,D=i;else e:for(;D!==null;){if(a=D,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yl(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,D=m;break e}D=a.return}}var f=e.current;for(D=f;D!==null;){i=D;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,D=y;else e:for(i=f;D!==null;){if(o=D,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:oa(9,o)}}catch(C){pe(o,o.return,C)}if(o===i){D=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,D=k;break e}D=o.return}}if(X=r,Jt(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(ea,e)}catch{}l=!0}return l}finally{te=n,tt.transition=t}}return!1}function Bo(e,t,n){t=Hn(n,t),t=Bc(e,t,1),e=Vt(e,t,1),t=De(),e!==null&&(Bl(e,1,t),qe(e,t))}function pe(e,t,n){if(e.tag===3)Bo(e,e,n);else for(;t!==null;){if(t.tag===3){Bo(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ht===null||!Ht.has(l))){e=Hn(n,e),e=qc(t,e,1),t=Vt(t,e,1),e=De(),t!==null&&(Bl(t,1,e),qe(t,e));break}}t=t.return}}function Xm(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(Ee&n)===n&&(Se===4||Se===3&&(Ee&130023424)===Ee&&500>ye()-Ci?cn(e,0):Ni|=n),qe(e,t)}function ud(e,t){t===0&&(e.mode&1?(t=Zl,Zl<<=1,!(Zl&130023424)&&(Zl=4194304)):t=1);var n=De();e=bt(e,t),e!==null&&(Bl(e,t,n),qe(e,n))}function Zm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ud(e,n)}function Jm(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(P(314))}l!==null&&l.delete(t),ud(e,n)}var cd;cd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)Oe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Oe=!1,Om(e,t,n);Oe=!!(e.flags&131072)}else Oe=!1,oe&&t.flags&1048576&&pc(t,Ir,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;kr(e,t),e=t.pendingProps;var r=Bn(t,Re.current);Fn(t,n),r=vi(null,t,l,e,r,n);var a=xi();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Be(l)?(a=!0,Dr(t)):a=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,mi(t),r.updater=ia,t.stateNode=r,r._reactInternals=t,js(t,l,e,n),t=Ps(null,t,l,!0,a,n)):(t.tag=0,oe&&a&&si(t),Ae(null,t,r,n),t=t.child),t;case 16:l=t.elementType;e:{switch(kr(e,t),e=t.pendingProps,r=l._init,l=r(l._payload),t.type=l,r=t.tag=tp(l),e=ot(l,e),r){case 0:t=Cs(null,t,l,e,n);break e;case 1:t=To(null,t,l,e,n);break e;case 11:t=bo(null,t,l,e,n);break e;case 14:t=_o(null,t,l,ot(l.type,e),n);break e}throw Error(P(306,l,""))}return t;case 0:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:ot(l,r),Cs(e,t,l,r,n);case 1:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:ot(l,r),To(e,t,l,r,n);case 3:e:{if(Wc(t),e===null)throw Error(P(387));l=t.pendingProps,a=t.memoizedState,r=a.element,kc(e,t),Or(t,l,null,n);var i=t.memoizedState;if(l=i.element,a.isDehydrated)if(a={element:l,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){r=Hn(Error(P(423)),t),t=Ro(e,t,l,n,r);break e}else if(l!==r){r=Hn(Error(P(424)),t),t=Ro(e,t,l,n,r);break e}else for(He=Gt(t.stateNode.containerInfo.firstChild),We=t,oe=!0,ct=null,n=vc(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qn(),l===r){t=_t(e,t,n);break e}Ae(e,t,l,n)}t=t.child}return t;case 5:return wc(t),e===null&&ks(t),l=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,hs(l,r)?i=null:a!==null&&hs(l,a)&&(t.flags|=32),Hc(e,t),Ae(e,t,i,n),t.child;case 6:return e===null&&ks(t),null;case 13:return Qc(e,t,n);case 4:return pi(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Gn(t,null,l,n):Ae(e,t,l,n),t.child;case 11:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:ot(l,r),bo(e,t,l,r,n);case 7:return Ae(e,t,t.pendingProps,n),t.child;case 8:return Ae(e,t,t.pendingProps.children,n),t.child;case 12:return Ae(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,r=t.pendingProps,a=t.memoizedProps,i=r.value,re($r,l._currentValue),l._currentValue=i,a!==null)if(mt(a.value,i)){if(a.children===r.children&&!Ue.current){t=_t(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var u=o.firstContext;u!==null;){if(u.context===l){if(a.tag===1){u=Mt(-1,n&-n),u.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),ws(a.return,n,t),o.lanes|=n;break}u=u.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(P(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),ws(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Ae(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,l=t.pendingProps.children,Fn(t,n),r=nt(r),l=l(r),t.flags|=1,Ae(e,t,l,n),t.child;case 14:return l=t.type,r=ot(l,t.pendingProps),r=ot(l.type,r),_o(e,t,l,r,n);case 15:return Gc(e,t,t.type,t.pendingProps,n);case 17:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:ot(l,r),kr(e,t),t.tag=1,Be(l)?(e=!0,Dr(t)):e=!1,Fn(t,n),Uc(t,l,r),js(t,l,r,n),Ps(null,t,l,!0,e,n);case 19:return Kc(e,t,n);case 22:return Vc(e,t,n)}throw Error(P(156,t.tag))};function dd(e,t){return $u(e,t)}function ep(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function et(e,t,n,l){return new ep(e,t,n,l)}function Li(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tp(e){if(typeof e=="function")return Li(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qs)return 11;if(e===Ks)return 14}return 2}function Qt(e,t){var n=e.alternate;return n===null?(n=et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jr(e,t,n,l,r,a){var i=2;if(l=e,typeof e=="function")Li(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Nn:return dn(n.children,r,a,t);case Ws:i=8,r|=8;break;case Wa:return e=et(12,n,t,r|2),e.elementType=Wa,e.lanes=a,e;case Qa:return e=et(13,n,t,r),e.elementType=Qa,e.lanes=a,e;case Ka:return e=et(19,n,t,r),e.elementType=Ka,e.lanes=a,e;case wu:return ca(n,r,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xu:i=10;break e;case ku:i=9;break e;case Qs:i=11;break e;case Ks:i=14;break e;case Dt:i=16,l=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=et(i,n,t,r),t.elementType=e,t.type=l,t.lanes=a,t}function dn(e,t,n,l){return e=et(7,e,l,t),e.lanes=n,e}function ca(e,t,n,l){return e=et(22,e,l,t),e.elementType=wu,e.lanes=n,e.stateNode={isHidden:!1},e}function Oa(e,t,n){return e=et(6,e,null,t),e.lanes=n,e}function Ua(e,t,n){return t=et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function np(e,t,n,l,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wa(0),this.expirationTimes=wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.identifierPrefix=l,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function bi(e,t,n,l,r,a,i,o,u){return e=new np(e,t,n,o,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=et(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:l,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mi(a),e}function lp(e,t,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jn,key:l==null?null:""+l,children:e,containerInfo:t,implementation:n}}function fd(e){if(!e)return Yt;e=e._reactInternals;e:{if(kn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Be(n))return fc(e,n,t)}return t}function md(e,t,n,l,r,a,i,o,u){return e=bi(n,l,!0,e,r,a,i,o,u),e.context=fd(null),n=e.current,l=De(),r=Wt(n),a=Mt(l,r),a.callback=t??null,Vt(n,a,r),e.current.lanes=r,Bl(e,r,l),qe(e,l),e}function da(e,t,n,l){var r=t.current,a=De(),i=Wt(r);return n=fd(n),t.context===null?t.context=n:t.pendingContext=n,t=Mt(a,i),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=Vt(r,t,i),e!==null&&(ft(e,r,i,a),yr(e,r,i)),i}function Qr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qo(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _i(e,t){qo(e,t),(e=e.alternate)&&qo(e,t)}function rp(){return null}var pd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ti(e){this._internalRoot=e}fa.prototype.render=Ti.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));da(e,t,null,null)};fa.prototype.unmount=Ti.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gn(function(){da(null,e,null,null)}),t[Lt]=null}};function fa(e){this._internalRoot=e}fa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&t!==0&&t<It[n].priority;n++);It.splice(n,0,e),n===0&&Wu(e)}};function Ri(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ma(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Go(){}function ap(e,t,n,l,r){if(r){if(typeof l=="function"){var a=l;l=function(){var c=Qr(i);a.call(c)}}var i=md(t,l,e,0,null,!1,!1,"",Go);return e._reactRootContainer=i,e[Lt]=i.current,Ll(e.nodeType===8?e.parentNode:e),gn(),i}for(;r=e.lastChild;)e.removeChild(r);if(typeof l=="function"){var o=l;l=function(){var c=Qr(u);o.call(c)}}var u=bi(e,0,!1,null,null,!1,!1,"",Go);return e._reactRootContainer=u,e[Lt]=u.current,Ll(e.nodeType===8?e.parentNode:e),gn(function(){da(t,u,n,l)}),u}function pa(e,t,n,l,r){var a=n._reactRootContainer;if(a){var i=a;if(typeof r=="function"){var o=r;r=function(){var u=Qr(i);o.call(u)}}da(t,i,e,r)}else i=ap(n,t,e,r,l);return Qr(i)}qu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ol(t.pendingLanes);n!==0&&(Zs(t,n|1),qe(t,ye()),!(X&6)&&(Wn=ye()+500,Jt()))}break;case 13:gn(function(){var l=bt(e,1);if(l!==null){var r=De();ft(l,e,1,r)}}),_i(e,1)}};Js=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var n=De();ft(t,e,134217728,n)}_i(e,134217728)}};Gu=function(e){if(e.tag===13){var t=Wt(e),n=bt(e,t);if(n!==null){var l=De();ft(n,e,t,l)}_i(e,t)}};Vu=function(){return te};Hu=function(e,t){var n=te;try{return te=e,t()}finally{te=n}};as=function(e,t,n){switch(t){case"input":if(Za(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var r=ra(l);if(!r)throw Error(P(90));ju(l),Za(l,r)}}}break;case"textarea":Cu(e,n);break;case"select":t=n.value,t!=null&&Dn(e,!!n.multiple,t,!1)}};Tu=Pi;Ru=gn;var sp={usingClientEntryPoint:!1,Events:[Gl,En,ra,bu,_u,Pi]},al={findFiberByHostInstance:sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ip={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zu(e),e===null?null:e.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||rp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ur=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ur.isDisabled&&ur.supportsFiber)try{ea=ur.inject(ip),kt=ur}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sp;Ke.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ri(t))throw Error(P(200));return lp(e,t,null,n)};Ke.createRoot=function(e,t){if(!Ri(e))throw Error(P(299));var n=!1,l="",r=pd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=bi(e,1,!1,null,null,n,!1,l,r),e[Lt]=t.current,Ll(e.nodeType===8?e.parentNode:e),new Ti(t)};Ke.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=zu(t),e=e===null?null:e.stateNode,e};Ke.flushSync=function(e){return gn(e)};Ke.hydrate=function(e,t,n){if(!ma(t))throw Error(P(200));return pa(null,e,t,!0,n)};Ke.hydrateRoot=function(e,t,n){if(!Ri(e))throw Error(P(405));var l=n!=null&&n.hydratedSources||null,r=!1,a="",i=pd;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=md(t,null,e,1,n??null,r,!1,a,i),e[Lt]=t.current,Ll(e),l)for(e=0;e<l.length;e++)n=l[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new fa(t)};Ke.render=function(e,t,n){if(!ma(t))throw Error(P(200));return pa(null,e,t,!1,n)};Ke.unmountComponentAtNode=function(e){if(!ma(e))throw Error(P(40));return e._reactRootContainer?(gn(function(){pa(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1};Ke.unstable_batchedUpdates=Pi;Ke.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!ma(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return pa(e,t,n,!1,l)};Ke.version="18.3.1-next-f1338f8080-20240426";function hd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hd)}catch(e){console.error(e)}}hd(),hu.exports=Ke;var op=hu.exports,gd,Vo=op;gd=Vo.createRoot,Vo.hydrateRoot;const kl={Normal:{rarity:"Normal",damageBonus:0,qualityBonus:0,colorVariant:"#ffffff"},Magic:{rarity:"Magic",damageBonus:10,qualityBonus:5,colorVariant:"#8888ff",areaOfEffectBonus:5,projectileDamageBonus:8,manaCostReduction:5},Rare:{rarity:"Rare",damageBonus:25,qualityBonus:10,colorVariant:"#ffff88",areaOfEffectBonus:12,areaDamageBonus:15,projectileDamageBonus:20,physicalDamageBonus:18,elementalDamageBonus:18,attackSpeedBonus:10,castSpeedBonus:10,criticalChanceBonus:8,durationBonus:15,manaCostReduction:10},Unique:{rarity:"Unique",damageBonus:50,qualityBonus:20,colorVariant:"#ff8800",areaOfEffectBonus:25,areaDamageBonus:30,projectileDamageBonus:40,physicalDamageBonus:35,elementalDamageBonus:35,attackSpeedBonus:20,castSpeedBonus:20,criticalChanceBonus:15,durationBonus:25,manaCostReduction:20}},Ai=[{id:"whirlwind",name:"Whirlwind",description:"Continuous spinning attack that hits all nearby enemies. Inspired by Path of Exile's Cyclone skill - channels automatically during combat with area scaling and movement.",type:"active",category:"attack",tags:["Attack","AoE","Channeling","Melee","Physical"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"🌪️",rarity:"Normal",quality:0,scaling:{baseDamage:12,damagePerLevel:2.5,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseArea:2.5,areaPerLevel:.15}},{id:"fireball",name:"Fireball",description:"Launches a fiery projectile that explodes on impact, dealing fire damage to nearby enemies.",type:"active",category:"spell",tags:["Spell","Projectile","AoE","Fire"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"🔥",rarity:"Normal",quality:0,scaling:{baseDamage:15,damagePerLevel:3,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseArea:1.5,areaPerLevel:.1}},{id:"lightning_bolt",name:"Lightning Bolt",description:"Strikes a single enemy with a bolt of lightning, dealing high electrical damage.",type:"active",category:"spell",tags:["Spell","Lightning"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"⚡",rarity:"Normal",quality:0,scaling:{baseDamage:20,damagePerLevel:4,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0}},{id:"ice_shard",name:"Ice Shard",description:"Launches multiple ice projectiles that pierce through enemies, dealing cold damage and slowing them.",type:"active",category:"spell",tags:["Spell","Projectile","Cold"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"❄️",rarity:"Normal",quality:0,scaling:{baseDamage:8,damagePerLevel:1.8,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0}},{id:"ground_slam",name:"Ground Slam",description:"Slams the ground with tremendous force, creating a shockwave that damages enemies in a cone.",type:"active",category:"attack",tags:["Attack","AoE","Slam","Physical"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"🔨",rarity:"Normal",quality:0,scaling:{baseDamage:18,damagePerLevel:3.5,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseArea:2,areaPerLevel:.12}},{id:"poison_arrow",name:"Poison Arrow",description:"Fires a poisoned arrow that creates a toxic cloud on impact, dealing chaos damage over time.",type:"active",category:"attack",tags:["Attack","Projectile","AoE","Chaos","Duration","Bow"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"🏹",rarity:"Normal",quality:0,scaling:{baseDamage:10,damagePerLevel:2.2,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseArea:1.8,areaPerLevel:.08,baseDuration:3e3,durationPerLevel:150}},{id:"chain_lightning",name:"Chain Lightning",description:"Casts lightning that jumps between enemies, dealing electrical damage to multiple targets.",type:"active",category:"spell",tags:["Spell","Lightning","AoE"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"⚡",rarity:"Normal",quality:0,scaling:{baseDamage:14,damagePerLevel:2.8,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0}},{id:"meteor",name:"Meteor",description:"Calls down a massive meteor from the sky that deals devastating fire damage in a large area.",type:"active",category:"spell",tags:["Spell","AoE","Fire"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"☄️",rarity:"Normal",quality:0,scaling:{baseDamage:25,damagePerLevel:5,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseArea:3,areaPerLevel:.2}},{id:"blade_vortex",name:"Blade Vortex",description:"Creates spinning blades around the character that continuously damage nearby enemies.",type:"active",category:"spell",tags:["Spell","AoE","Duration","Physical"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"🗡️",rarity:"Normal",quality:0,scaling:{baseDamage:8,damagePerLevel:1.6,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseArea:2.2,areaPerLevel:.1,baseDuration:5e3,durationPerLevel:200}},{id:"frost_nova",name:"Frost Nova",description:"Releases a burst of cold energy that freezes and damages all nearby enemies.",type:"active",category:"spell",tags:["Spell","AoE","Cold"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"❄️",rarity:"Normal",quality:0,scaling:{baseDamage:16,damagePerLevel:3.2,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseArea:2.8,areaPerLevel:.14}},{id:"cleave",name:"Cleave",description:"Attacks with both weapons, hitting enemies in front of you with increased damage.",type:"active",category:"attack",tags:["Attack","AoE","Melee","Physical"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"⚔️",rarity:"Normal",quality:0,scaling:{baseDamage:14,damagePerLevel:2.8,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseArea:1.5,areaPerLevel:.08}},{id:"summon_skeletons",name:"Summon Skeletons",description:"Raises skeleton warriors from the ground to fight alongside you.",type:"active",category:"spell",tags:["Spell","Minion","Duration"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"💀",rarity:"Normal",quality:0,scaling:{baseDamage:6,damagePerLevel:1.2,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseDuration:1e4,durationPerLevel:500}}],yd=[{id:"increased_damage",name:"Increased Damage",description:"Increases damage of supported skills",tags:["Attack","Spell"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"damage",value:15,isPercentage:!0,description:"+15% more damage"}],icon:"💪",rarity:"Normal",quality:0,scaling:{baseValue:15,valuePerLevel:2}},{id:"increased_area",name:"Increased Area of Effect",description:"Increases area of effect of supported skills",tags:["AoE"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"area",value:25,isPercentage:!0,description:"+25% increased area of effect"}],icon:"📏",rarity:"Normal",quality:0,scaling:{baseValue:25,valuePerLevel:3}},{id:"multiple_projectiles",name:"Multiple Projectiles",description:"Supported skills fire additional projectiles",tags:["Projectile"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"projectiles",value:2,isPercentage:!1,description:"+2 additional projectiles"},{type:"damage",value:-20,isPercentage:!0,description:"-20% less damage"}],icon:"🎯",rarity:"Normal",quality:0,scaling:{baseValue:2,valuePerLevel:.2}},{id:"faster_casting",name:"Faster Casting",description:"Reduces cooldown of supported skills",tags:["Spell"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"cooldown",value:-25,isPercentage:!0,description:"-25% reduced cooldown"}],icon:"⏱️",rarity:"Normal",quality:0,scaling:{baseValue:25,valuePerLevel:1.5}},{id:"reduced_mana",name:"Reduced Mana Cost",description:"Reduces mana cost of supported skills",tags:["Attack","Spell"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"manaCost",value:-30,isPercentage:!0,description:"-30% reduced mana cost"}],icon:"💙",rarity:"Normal",quality:0,scaling:{baseValue:30,valuePerLevel:1}},{id:"added_fire_damage",name:"Added Fire Damage Support",description:"Adds fire damage to supported skills.",tags:["Support","Fire"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"added_damage",value:10,damageType:"fire",tags:["Fire"]}],icon:"🔥",rarity:"Normal",quality:0,scaling:{baseValue:10,valuePerLevel:2}},{id:"elemental_focus",name:"Elemental Focus Support",description:"Increases elemental damage but prevents critical strikes.",tags:["Support","Elemental"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"damage_multiplier",value:1.5,tags:["Fire","Cold","Lightning"]},{type:"critical_chance_multiplier",value:0,tags:[]}],icon:"🌟",rarity:"Normal",quality:0,scaling:{baseValue:1.5,valuePerLevel:.02}},{id:"melee_physical_damage",name:"Melee Physical Damage Support",description:"Increases physical damage of supported melee skills.",tags:["Support","Melee","Physical"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"damage_multiplier",value:1.4,tags:["Physical","Melee"]}],icon:"⚔️",rarity:"Normal",quality:0,scaling:{baseValue:1.4,valuePerLevel:.015}},{id:"spell_echo",name:"Spell Echo Support",description:"Supported spells repeat an additional time with reduced damage.",tags:["Support","Spell"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"damage",value:-25,isPercentage:!0,description:"-25% less damage"}],icon:"🔄",rarity:"Normal",quality:0,scaling:{baseValue:25,valuePerLevel:.5}},{id:"concentrated_effect",name:"Concentrated Effect Support",description:"Reduces area of effect but increases area damage.",tags:["Support","AoE"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"area",value:-30,isPercentage:!0,description:"-30% reduced area of effect"},{type:"damage",value:60,isPercentage:!0,description:"+60% more area damage"}],icon:"🎯",rarity:"Normal",quality:0,scaling:{baseValue:60,valuePerLevel:2}},{id:"pierce",name:"Pierce Support",description:"Projectiles pierce through enemies, hitting multiple targets.",tags:["Support","Projectile"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"damage",value:10,isPercentage:!0,description:"+10% more projectile damage"}],icon:"🏹",rarity:"Normal",quality:0,scaling:{baseValue:10,valuePerLevel:1}},{id:"minion_damage",name:"Minion Damage Support",description:"Increases damage dealt by minions.",tags:["Support","Minion"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"damage",value:50,isPercentage:!0,description:"+50% increased minion damage"}],icon:"👥",rarity:"Normal",quality:0,scaling:{baseValue:50,valuePerLevel:3}},{id:"added_cold_damage",name:"Added Cold Damage Support",description:"Adds cold damage to supported skills.",tags:["Support","Cold"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"added_damage",value:8,damageType:"cold",tags:["Cold"]}],icon:"❄️",rarity:"Normal",quality:0,scaling:{baseValue:8,valuePerLevel:1.5}},{id:"added_lightning_damage",name:"Added Lightning Damage Support",description:"Adds lightning damage to supported skills.",tags:["Support","Lightning"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"added_damage",value:12,damageType:"lightning",tags:["Lightning"]}],icon:"⚡",rarity:"Normal",quality:0,scaling:{baseValue:12,valuePerLevel:2}},{id:"increased_duration",name:"Increased Duration Support",description:"Increases the duration of supported skills.",tags:["Support","Duration"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"duration",value:40,isPercentage:!0,description:"+40% increased skill duration"}],icon:"⏳",rarity:"Normal",quality:0,scaling:{baseValue:40,valuePerLevel:2}},{id:"critical_strike_multiplier",name:"Critical Strike Multiplier Support",description:"Increases critical strike multiplier of supported skills.",tags:["Support","Critical"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"critical_chance_multiplier",value:1.5,tags:[]}],icon:"💥",rarity:"Normal",quality:0,scaling:{baseValue:1.5,valuePerLevel:.02}}];function up(e,t){return t.some(n=>e.tags.includes(n))}function Ba(e,t){return t.tags.length===0?!0:up(e,t.tags)}function cp(e){return e.tags.join(", ")}function $s(e){return e.scaling.baseDamage?Math.floor(e.scaling.baseDamage+(e.scaling.damagePerLevel||0)*(e.level-1)):0}function vd(e){const t=e.scaling.baseManaCost||e.manaCost,n=e.scaling.manaCostPerLevel||0;return Math.max(1,Math.floor(t+n*(e.level-1)))}function xd(e){const t=e.scaling.baseCooldown||e.cooldown,n=e.scaling.cooldownReductionPerLevel||0;return Math.max(100,Math.floor(t-n*(e.level-1)))}function kd(e){const t=e.scaling.baseArea||1,n=e.scaling.areaPerLevel||0;return t+n*(e.level-1)}function wd(e){const t=e.scaling.baseDuration||0,n=e.scaling.durationPerLevel||0;return Math.floor(t+n*(e.level-1))}function dp(e){var t;return e.scaling?Math.floor(e.scaling.baseValue+e.scaling.valuePerLevel*(e.level-1)):((t=e.modifiers[0])==null?void 0:t.value)||0}function Sd(e){if(!e.scaling)return e.modifiers;const t=dp(e);return e.modifiers.map(n=>({...n,value:n.type===e.modifiers[0].type?n.value<0?-t:t:n.value,description:n.type===e.modifiers[0].type?`${n.value<0?"-":"+"}${t}${n.isPercentage?"%":""} ${n.description?n.description.split(" ").slice(-2).join(" "):""}`:n.description}))}function cl(e){let t=$s(e),n=vd(e),l=xd(e),r=kd(e),a=wd(e),i=1;const o=kl[e.rarity];return o&&(t*=1+o.damageBonus/100,e.tags.includes("AoE")&&(o.areaOfEffectBonus&&(r*=1+o.areaOfEffectBonus/100),o.areaDamageBonus&&(t*=1+o.areaDamageBonus/100)),e.tags.includes("Projectile")&&o.projectileDamageBonus&&(t*=1+o.projectileDamageBonus/100),e.tags.includes("Physical")&&o.physicalDamageBonus&&(t*=1+o.physicalDamageBonus/100),(e.tags.includes("Fire")||e.tags.includes("Cold")||e.tags.includes("Lightning"))&&o.elementalDamageBonus&&(t*=1+o.elementalDamageBonus/100),e.tags.includes("Critical")&&o.criticalChanceBonus&&(t*=1+o.criticalChanceBonus/100),e.tags.includes("Duration")&&o.durationBonus&&(a*=1+o.durationBonus/100),o.manaCostReduction&&(n*=1-o.manaCostReduction/100)),e.supportGems.forEach(u=>{const c=kl[u.rarity];c&&(t*=1+c.damageBonus/200,u.tags.includes("AoE")&&c.areaOfEffectBonus&&(r*=1+c.areaOfEffectBonus/200),u.tags.includes("Projectile")&&c.projectileDamageBonus&&(t*=1+c.projectileDamageBonus/200),c.manaCostReduction&&(n*=1-c.manaCostReduction/200)),Sd(u).forEach(g=>{switch(g.type){case"damage":g.isPercentage?t*=1+g.value/100:t+=g.value;break;case"manaCost":g.isPercentage?n*=1+g.value/100:n+=g.value;break;case"cooldown":g.isPercentage?l*=1+g.value/100:l+=g.value;break;case"area":g.isPercentage?r*=1+g.value/100:r+=g.value;break;case"duration":g.isPercentage?a*=1+g.value/100:a+=g.value;break;case"projectiles":i+=g.value;break}})}),{damage:Math.round(t),manaCost:Math.max(1,Math.round(n)),cooldown:Math.max(100,Math.round(l)),area:Math.round(r*100)/100,duration:Math.round(a),projectileCount:Math.max(1,Math.round(i))}}function Di(e){return{...e,level:1,isUnlocked:!0,isEquipped:e.id==="whirlwind",supportGems:[]}}function jd(e){return{...e,level:1,isUnlocked:!0}}function fp(){const e=Ai.find(l=>l.id==="whirlwind"),t=e?Di(e):null,n=new Array(6).fill(null);return t&&(n[0]=t),{slots:n,maxSlots:6}}function yn(e){return Math.floor(e*1.5)+1}function Kr(e,t){if(e.level>=e.maxLevel)return!1;const n=yn(e.level);return t>=n}function Yr(e){return e.skillPointCost}const mp=[{id:"monster_life_1",name:"Feral",description:"Monsters have 25% increased Life",type:"prefix",tier:1,effects:{monsterLife:25},requiredLevel:1},{id:"monster_life_2",name:"Savage",description:"Monsters have 50% increased Life",type:"prefix",tier:3,effects:{monsterLife:50},requiredLevel:20},{id:"monster_damage_1",name:"Brutal",description:"Monsters deal 20% increased Damage",type:"prefix",tier:2,effects:{monsterDamage:20},requiredLevel:10},{id:"monster_speed_1",name:"Fleet",description:"Monsters have 15% increased Movement and Attack Speed",type:"prefix",tier:2,effects:{monsterSpeed:15},requiredLevel:15},{id:"elemental_damage_1",name:"Burning",description:"Monsters deal 30% additional Fire Damage",type:"prefix",tier:3,effects:{elementalDamage:30},requiredLevel:25},{id:"item_quantity_1",name:"of Bounty",description:"20% increased Item Quantity",type:"suffix",tier:1,effects:{itemQuantity:20},requiredLevel:1},{id:"item_rarity_1",name:"of Fortune",description:"30% increased Item Rarity",type:"suffix",tier:2,effects:{itemRarity:30},requiredLevel:10},{id:"pack_size_1",name:"of Hordes",description:"25% increased Pack Size",type:"suffix",tier:3,effects:{packSize:25},requiredLevel:20},{id:"experience_1",name:"of Learning",description:"15% increased Experience Gain",type:"suffix",tier:2,effects:{experienceGain:15},requiredLevel:5}],Nd=[{id:"beach",name:"Beach",description:"A sandy coastline overrun by corrupted sea creatures.",tier:1,baseLevel:68,layout:"linear",theme:"desert",baseRewards:[{type:"equipment",quantity:2,minLevel:68,maxLevel:72},{type:"experience",quantity:1e3}],completionTime:180},{id:"graveyard",name:"Graveyard",description:"An ancient cemetery where the dead refuse to rest.",tier:2,baseLevel:69,layout:"maze",theme:"corrupted",baseRewards:[{type:"equipment",quantity:3,minLevel:69,maxLevel:73},{type:"skillGem",quantity:1,rarity:"Normal"},{type:"experience",quantity:1200}],completionTime:240},{id:"dungeon",name:"Dungeon",description:"A dark underground complex filled with ancient horrors.",tier:3,baseLevel:70,layout:"branching",theme:"dungeon",baseRewards:[{type:"equipment",quantity:3,minLevel:70,maxLevel:74},{type:"supportGem",quantity:1,rarity:"Normal"},{type:"experience",quantity:1500}],completionTime:300},{id:"volcano",name:"Volcano",description:"A treacherous volcanic peak with rivers of molten lava.",tier:6,baseLevel:73,layout:"circular",theme:"volcanic",baseRewards:[{type:"equipment",quantity:4,minLevel:73,maxLevel:77},{type:"skillGem",quantity:1,rarity:"Magic"},{type:"experience",quantity:2500}],completionTime:420,unlockRequirement:{completedMaps:["beach","graveyard","dungeon"],playerLevel:50}},{id:"glacier",name:"Glacier",description:"A frozen wasteland where ice elementals roam freely.",tier:8,baseLevel:75,layout:"arena",theme:"ice",baseRewards:[{type:"equipment",quantity:5,minLevel:75,maxLevel:79},{type:"supportGem",quantity:2,rarity:"Magic"},{type:"experience",quantity:3500}],completionTime:480,unlockRequirement:{completedMaps:["volcano"],playerLevel:60}},{id:"shaper_realm",name:"Shaper's Realm",description:"A reality-bending dimension where the laws of physics break down.",tier:14,baseLevel:81,layout:"maze",theme:"celestial",baseRewards:[{type:"equipment",quantity:8,minLevel:81,maxLevel:85,rarity:"Rare",guaranteed:!0},{type:"skillGem",quantity:2,rarity:"Rare"},{type:"supportGem",quantity:2,rarity:"Rare"},{type:"experience",quantity:8e3}],completionTime:720,unlockRequirement:{completedMaps:["glacier"],playerLevel:80}},{id:"elder_sanctum",name:"Elder Sanctum",description:"The twisted domain of an ancient cosmic entity.",tier:16,baseLevel:83,layout:"arena",theme:"corrupted",baseRewards:[{type:"equipment",quantity:10,minLevel:83,maxLevel:87,rarity:"Unique",guaranteed:!0},{type:"skillGem",quantity:3,rarity:"Unique"},{type:"supportGem",quantity:3,rarity:"Unique"},{type:"experience",quantity:15e3}],completionTime:900,unlockRequirement:{completedMaps:["shaper_realm"],playerLevel:90}}];function pp(e,t="Normal"){const n={...e,rarity:t,modifiers:[],isCompleted:!1,timesCompleted:0},l=hp(t),r=mp.filter(a=>a.requiredLevel<=n.baseLevel);for(let a=0;a<l;a++){const i=r[Math.floor(Math.random()*r.length)];n.modifiers.find(o=>o.id===i.id)||n.modifiers.push(i)}return n}function hp(e){switch(e){case"Normal":return 0;case"Magic":return Math.floor(Math.random()*2)+1;case"Rare":return Math.floor(Math.random()*3)+3;case"Unique":return Math.floor(Math.random()*2)+4}}function gp(e){let t=e.tier*10+e.baseLevel;return e.modifiers.forEach(n=>{t+=n.tier*5,n.effects.monsterLife&&(t+=n.effects.monsterLife/5),n.effects.monsterDamage&&(t+=n.effects.monsterDamage/3),n.effects.monsterSpeed&&(t+=n.effects.monsterSpeed/4)}),Math.floor(t)}function yp(e){const t=[...e.baseRewards];return e.modifiers.forEach(n=>{n.effects.itemQuantity&&t.forEach(l=>{l.type==="equipment"&&(l.quantity=Math.floor(l.quantity*(1+n.effects.itemQuantity/100)))}),n.effects.experienceGain&&t.forEach(l=>{l.type==="experience"&&(l.quantity=Math.floor(l.quantity*(1+n.effects.experienceGain/100)))})}),t}function Cd(e,t,n){return e.unlockRequirement?!(e.unlockRequirement.playerLevel&&t<e.unlockRequirement.playerLevel||e.unlockRequirement.completedMaps&&!e.unlockRequirement.completedMaps.every(r=>n.includes(r))):!0}function vp(e,t){return Nd.filter(n=>Cd(n,e,t)).map(n=>pp(n,"Normal"))}function xp(){return{availableMaps:vp(1,[]),completedMaps:[],mapStash:[],atlasProgress:{tier:1,completedCount:0,totalCount:Nd.length,bonusObjectives:0}}}const At={endurance:"Increases maximum HP by 10 per level",quick:"Reduces combat tick interval (faster attacks)",agility:"Increases dodge chance by 1% per level",strength:"Increases base damage by 1 per level",vitality:"Increases HP regeneration and reduces death penalty",precision:"Increases critical hit chance by 1% per level",fortune:"Increases gold gain and improves loot quality",resilience:"Increases armor and status effect resistance"};function $l(){const e=Ai.map(r=>Di(r)),t=yd.map(r=>jd(r)),n=e.find(r=>r.id==="whirlwind"),l=new Array(6).fill(null);return n&&(l[0]=n),{level:10,xp:0,nextLevelXp:100,hp:120,maxHp:120,mana:50,maxMana:50,dps:2,baseDps:2,gold:0,skillPoints:20,attributePoints:5,attributes:{strength:10,dexterity:10,intelligence:10,vitality:10,luck:5},equipment:{},equipped:void 0,calculatedStats:{},skillGems:e,supportGems:t,skillBar:{slots:l,maxSlots:6},mapDevice:xp(),attackSpeed:1,projectileSpeed:1,skills:{},armor:0,critChance:0,dodgeChance:0,lifeSteal:0,blockChance:0,healthRegen:1,manaRegen:2}}function je(e){if(!e)return $l();const t={...e};(typeof t.gold!="number"||isNaN(t.gold))&&(console.warn("Player gold was invalid:",t.gold,"resetting to 0"),t.gold=0),(!t.equipment||typeof t.equipment!="object")&&(console.warn("Player equipment was invalid:",t.equipment,"resetting to empty object"),t.equipment={}),t.calculatedStats={},t.baseDps=2,t.maxHp=120,t.maxMana=50,t.dps=2,t.armor=0,t.critChance=0,t.dodgeChance=0,t.blockChance=0,t.lifeSteal=0,t.attackSpeed=1,t.healthRegen=0,t.manaRegen=0,t.projectileSpeed=1;const n=t.attributes??{},l=(n.strength??10)-10;t.baseDps+=Math.max(0,l),t.maxHp+=l*2;const r=(n.dexterity??10)-10;t.critChance+=r*.005,t.dodgeChance+=r*.003;const a=(n.intelligence??10)-10;t.maxMana+=a,t.manaRegen+=a*.2;const i=(n.vitality??10)-10;t.maxHp+=i*3,t.healthRegen+=i*.1;const o=(n.luck??5)-5;t.critChance+=o*.005;const u=t.skills??{};u.strength&&(t.baseDps+=u.strength),u.precision&&(t.critChance=(t.critChance??0)+u.precision*.01),u.agility&&(t.dodgeChance=(t.dodgeChance??0)+u.agility*.01),u.resilience&&(t.armor=(t.armor??0)+u.resilience);let c={};if(t.equipment){const h={};Object.values(t.equipment).forEach(g=>{if(g){for(const[v,w]of Object.entries(g.baseStats))typeof w=="number"&&v!=="resistance"&&(h[v]=(h[v]??0)+w);for(const v of g.affixes)v.stat!=="resistance"&&(h[v.stat]=(h[v.stat]??0)+v.value)}}),c=h}if(t.dps=t.baseDps+(c.damage??0),t.armor+=c.armor??0,t.maxHp+=c.health??0,t.maxMana+=c.mana??0,t.critChance+=c.critChance??0,t.dodgeChance+=c.dodgeChance??0,t.blockChance+=c.blockChance??0,t.lifeSteal+=c.lifeSteal??0,t.attackSpeed+=c.attackSpeed??0,t.healthRegen+=c.healthRegen??0,t.manaRegen+=c.manaRegen??0,c.strength){const h=c.strength;t.baseDps+=h,t.maxHp+=h*2}if(c.dexterity){const h=c.dexterity;t.critChance+=h*.005,t.dodgeChance+=h*.003}if(c.intelligence){const h=c.intelligence;t.maxMana+=h,t.manaRegen+=h*.2}if(c.vitality){const h=c.vitality;t.maxHp+=h*3,t.healthRegen+=h*.1}if(c.luck){const h=c.luck;t.critChance+=h*.005}if(t.calculatedStats=c,t.equipped&&(t.dps+=t.equipped.power??0,t.equipped.extras))for(const h of t.equipped.extras)switch(h.key){case"hp":t.maxHp+=h.val;break;case"dps":t.dps+=h.val;break;case"critChance":t.critChance+=h.val;break;case"dodgeChance":t.dodgeChance+=h.val;break;case"lifeSteal":t.lifeSteal+=h.val;break;case"armor":t.armor+=h.val;break;case"projectileSpeed":t.projectileSpeed+=h.val;break}return t.hp=Math.min(t.hp,t.maxHp),t.mana=Math.min(t.mana,t.maxMana),t.critChance=Math.max(0,Math.min(1,t.critChance??0)),t.dodgeChance=Math.max(0,Math.min(.95,t.dodgeChance??0)),t.blockChance=Math.max(0,Math.min(.75,t.blockChance??0)),t.lifeSteal=Math.max(0,Math.min(1,t.lifeSteal??0)),t}const Ho={melee:["Goblin","Orc Warrior","Skeleton Fighter","Bandit","Troll"],ranged:["Goblin Archer","Orc Hunter","Skeleton Archer","Bandit Marksman","Dark Elf"],caster:["Goblin Shaman","Orc Mage","Necromancer","Dark Wizard","Lich"],tank:["Orc Guardian","Stone Golem","Armored Knight","Shield Bearer","Iron Colossus"],assassin:["Shadow Rogue","Dark Assassin","Poison Blade","Night Stalker","Void Walker"],boss:["Goblin King","Orc Chieftain","Lich Lord","Dragon","Demon Lord"]},cr=["berserker","precise","regeneration","shield","poison","freeze","lightning"];let kp=1;function Wo(e,t){const n=Ho[e]||Ho.melee;return`${n[Math.floor(Math.random()*n.length)]} L${t}`}function wp(e){const n=Math.floor(e/10)*.01;return Math.random()<.02+n}function Sp(e,t){if(t)return cr[Math.floor(Math.random()*cr.length)];if(Math.random()<.2)switch(e){case"melee":return Math.random()<.6?"berserker":"precise";case"ranged":return Math.random()<.7?"precise":"poison";case"caster":return Math.random()<.5?"lightning":"freeze";case"tank":return Math.random()<.8?"shield":"regeneration";case"assassin":return Math.random()<.6?"poison":"precise";default:return cr[Math.floor(Math.random()*cr.length)]}}function Nr(e,t){let n;const l=wp(e);if(l)n="boss";else if(t)n=t;else{const c=Math.random();c>.92?n="assassin":c>.85?n="tank":c>.75?n="caster":c>.55?n="ranged":n="melee"}let r=25+e*12,a=0;switch(n){case"tank":r=Math.floor(r*1.8),a=Math.floor(e*.3);break;case"boss":r=Math.floor(r*3.5),a=Math.floor(e*.5);break;case"assassin":r=Math.floor(r*.7);break;case"caster":r=Math.floor(r*.9);break}const i=Sp(n,l),o=Wo(l?"boss":n,e);return{id:"e"+kp++,name:l?`👑 ${o}`:o,level:e,maxHp:r,hp:r,type:n,specialAbility:i,isBoss:l,state:"alive",alpha:1,statusEffects:[],armor:a}}function jp(e){return e==="Magic"?.03:e==="Rare"?.06:e==="Unique"?.1:e==="Legendary"?.15:0}function Np(e){return e==="Magic"?.02:e==="Rare"?.04:e==="Unique"?.07:e==="Legendary"?.1:0}function Cp(e){return(e==null?void 0:e.damageType)||"physical"}function Qo(e){const n=e*.9,l=e*(1+.1);return Math.floor(Math.random()*(l-n+1))+n}function Pp(e,t,n){let l=e,r;switch(t){case"fire":l=Math.floor(e*1.1),Math.random()<.15&&(r="burning");break;case"ice":Math.random()<.2&&(r="slowed");break;case"lightning":Math.random()<.1&&(r="stunned");break;case"poison":l=Math.floor(e*.8),Math.random()<.25&&(r="poisoned");break}return{damage:l,statusEffect:r}}function Mp(e){return .05+Math.min(.15,e.level*.005)}function Ep(e,t){var f,y,k,C,_,j,b,I;const n={...e},l={...t},r={...n,...n.calculatedStats};let a=(r.dodgeChance||0)+(((f=n.skills)==null?void 0:f.agility)||0)*.01;(y=n.equipped)!=null&&y.rarity&&(a+=Np(n.equipped.rarity));const i=Mp(l);let o=!0,u=!1,c=!1,h=!0,g=0,v=0,w=!1,p;Math.random()<i&&(c=!0,o=!1);let x="physical";if((C=(k=n.equipment)==null?void 0:k.weapon)!=null&&C.damageType?x=n.equipment.weapon.damageType:n.equipped&&(x=Cp(n.equipped)),o){let z=Math.max(1,Math.floor(r.dps||n.dps||1));n.attributes&&(x==="physical"&&(z+=Math.floor((n.attributes.strength||0)*.5)),x!=="physical"&&(z+=Math.floor((n.attributes.intelligence||0)*.6)),z+=Math.floor((n.attributes.dexterity||0)*.3));const J=Qo(z);let S=r.critChance||.05;(_=n.equipped)!=null&&_.rarity&&(S+=jp(n.equipped.rarity)),(j=n.attributes)!=null&&j.dexterity&&(S+=(n.attributes.dexterity||0)*.002),x==="lightning"&&(S+=.05),w=Math.random()<S;let F=1.8;(b=n.attributes)!=null&&b.luck&&(F+=(n.attributes.luck||0)*.01),g=w?Math.floor(J*F):J;const B=Pp(g,x);g=B.damage,p=B.statusEffect,l.hp-=g}let N="",m=!1;if(o){const z=w?" (CRITICAL!)":"",J=x!=="physical"?` [${x.toUpperCase()}]`:"",S=p?` (${p})`:"";N=`Player hits ${l.name} for ${g}${J}${z}${S}`}else N=`${l.name} dodged player's attack!`;if(l.hp<=0)m=!0,N=o?`Player dealt final blow to ${l.name}!`:N;else if(o)if(Math.random()<a)u=!0,h=!1,N+=`. Player dodged ${l.name}'s attack!`;else{const z=r.blockChance||0;if(Math.random()<z)h=!1,N+=`. Player blocked ${l.name}'s attack!`;else{const S=l.type==="melee"?.9:l.type==="ranged"?.75:1;let F=Math.max(.5,S+l.level*.5);if(l.specialAbility)switch(l.specialAbility){case"berserker":l.hp<l.maxHp*.3&&(F=Math.floor(F*1.5),N+=" (BERSERKER RAGE!)");break;case"precise":Math.random()<.15&&(F=Math.floor(F*1.3),N+=" (PRECISE STRIKE!)");break}v=Qo(F);const B=r.armor||0,K=Math.min(.8,B*.01);if(v=Math.floor(v*(1-K)),(I=n.attributes)!=null&&I.vitality){const ne=Math.min(.3,(n.attributes.vitality||0)*.005);v=Math.floor(v*(1-ne))}v=Math.max(1,v),n.hp-=v,N+=`. ${l.name} hits back for ${v}`,n.hp<=0&&(n.hp=Math.max(1,Math.floor((r.maxHp||n.maxHp)*.6)),n.gold=Math.max(0,n.gold-Math.min(10,Math.floor(n.level*2))),N+=". Player was knocked out and revived!")}}return{player:n,enemy:l,enemyDefeated:m,message:N,didPlayerHit:o,didEnemyHit:h,playerDodged:u,enemyDodged:c,crit:w,damage:g,enemyDamage:v,damageType:x,statusEffect:p}}const Fl={sword:{name:"Sword",slot:"weapon",baseStats:{damage:8},damageTypes:["physical","fire","ice","lightning"],requirements:{}},axe:{name:"Axe",slot:"weapon",baseStats:{damage:12,critChance:.05},damageTypes:["physical","fire"],requirements:{}},mace:{name:"Mace",slot:"weapon",baseStats:{damage:10,armor:2},damageTypes:["physical","lightning"],requirements:{}},dagger:{name:"Dagger",slot:"weapon",baseStats:{damage:6,critChance:.1,attackSpeed:.3},damageTypes:["physical","poison"],requirements:{}},bow:{name:"Bow",slot:"weapon",baseStats:{damage:9,critChance:.08},damageTypes:["physical","fire","ice","poison"],requirements:{}},crossbow:{name:"Crossbow",slot:"weapon",baseStats:{damage:14,critChance:.06},damageTypes:["physical","lightning"],requirements:{}},staff:{name:"Staff",slot:"weapon",baseStats:{damage:7,mana:20,manaRegen:2},damageTypes:["fire","ice","lightning"],requirements:{}},wand:{name:"Wand",slot:"weapon",baseStats:{damage:5,mana:15,critChance:.07},damageTypes:["fire","ice","lightning","poison"],requirements:{}}},Xr={helm:{name:"Helm",slot:"helm",baseStats:{armor:5,health:15},requirements:{}},chest:{name:"Chest Armor",slot:"chest",baseStats:{armor:12,health:30},requirements:{}},legs:{name:"Leg Armor",slot:"legs",baseStats:{armor:8,health:20},requirements:{}},boots:{name:"Boots",slot:"boots",baseStats:{armor:4,dodgeChance:.02},requirements:{}},gloves:{name:"Gloves",slot:"gloves",baseStats:{armor:3,attackSpeed:.1},requirements:{}},shield:{name:"Shield",slot:"offhand",baseStats:{armor:8,blockChance:.15},requirements:{}}},Zr={ring:{name:"Ring",slot:"ring",baseStats:{},requirements:{}},amulet:{name:"Amulet",slot:"amulet",baseStats:{},requirements:{}},belt:{name:"Belt",slot:"belt",baseStats:{health:10},requirements:{}}},Lp=[{name:"of Power",stat:"damage",value:3,tier:1,weight:100},{name:"of Might",stat:"damage",value:6,tier:2,weight:80},{name:"of Devastation",stat:"damage",value:10,tier:3,weight:40},{name:"of Destruction",stat:"damage",value:15,tier:4,weight:20},{name:"of Annihilation",stat:"damage",value:22,tier:5,weight:10},{name:"of Precision",stat:"critChance",value:.03,tier:1,weight:80},{name:"of Lethality",stat:"critChance",value:.06,tier:2,weight:60},{name:"of Execution",stat:"critChance",value:.1,tier:3,weight:30},{name:"of the Assassin",stat:"critChance",value:.15,tier:4,weight:15},{name:"of Perfect Strike",stat:"critChance",value:.22,tier:5,weight:8},{name:"of Sharpness",stat:"critMultiplier",value:.2,tier:1,weight:70},{name:"of Brutality",stat:"critMultiplier",value:.4,tier:2,weight:50},{name:"of Savagery",stat:"critMultiplier",value:.7,tier:3,weight:25},{name:"of Massacre",stat:"critMultiplier",value:1,tier:4,weight:12},{name:"of Swiftness",stat:"attackSpeed",value:.1,tier:1,weight:70},{name:"of Haste",stat:"attackSpeed",value:.2,tier:2,weight:50},{name:"of Lightning",stat:"attackSpeed",value:.35,tier:3,weight:25},{name:"of the Storm",stat:"attackSpeed",value:.5,tier:4,weight:12},{name:"of Time Warp",stat:"attackSpeed",value:.75,tier:5,weight:6},{name:"of Vampirism",stat:"lifeSteal",value:.03,tier:1,weight:60},{name:"of Blood",stat:"lifeSteal",value:.06,tier:2,weight:40},{name:"of the Vampire",stat:"lifeSteal",value:.1,tier:3,weight:20},{name:"of Soul Drain",stat:"lifeSteal",value:.15,tier:4,weight:10},{name:"of Mana Burn",stat:"manaSteal",value:.05,tier:1,weight:50},{name:"of Energy Drain",stat:"manaSteal",value:.1,tier:2,weight:30},{name:"of the Void",stat:"manaSteal",value:.18,tier:3,weight:15},{name:"of the Warrior",stat:"strength",value:5,tier:1,weight:60},{name:"of the Berserker",stat:"strength",value:10,tier:2,weight:40},{name:"of the Champion",stat:"strength",value:18,tier:3,weight:20},{name:"of the Hunter",stat:"dexterity",value:5,tier:1,weight:60},{name:"of the Ranger",stat:"dexterity",value:10,tier:2,weight:40},{name:"of the Marksman",stat:"dexterity",value:18,tier:3,weight:20},{name:"of Thorns",stat:"thorns",value:3,tier:1,weight:40},{name:"of Spikes",stat:"thorns",value:7,tier:2,weight:25},{name:"of Retaliation",stat:"thorns",value:12,tier:3,weight:12}],bp=[{name:"of Protection",stat:"armor",value:2,tier:1,weight:100},{name:"of Defense",stat:"armor",value:4,tier:2,weight:80},{name:"of the Fortress",stat:"armor",value:7,tier:3,weight:40},{name:"of the Bastion",stat:"armor",value:12,tier:4,weight:20},{name:"of Invincibility",stat:"armor",value:18,tier:5,weight:10},{name:"of Vitality",stat:"health",value:15,tier:1,weight:90},{name:"of Life",stat:"health",value:30,tier:2,weight:70},{name:"of the Titan",stat:"health",value:50,tier:3,weight:35},{name:"of the Colossus",stat:"health",value:80,tier:4,weight:18},{name:"of Immortality",stat:"health",value:120,tier:5,weight:8},{name:"of Evasion",stat:"dodgeChance",value:.02,tier:1,weight:70},{name:"of Agility",stat:"dodgeChance",value:.04,tier:2,weight:50},{name:"of the Wind",stat:"dodgeChance",value:.07,tier:3,weight:25},{name:"of the Phantom",stat:"dodgeChance",value:.12,tier:4,weight:12},{name:"of Ethereal Form",stat:"dodgeChance",value:.18,tier:5,weight:6},{name:"of Blocking",stat:"blockChance",value:.05,tier:1,weight:60},{name:"of the Shield",stat:"blockChance",value:.1,tier:2,weight:40},{name:"of the Guardian",stat:"blockChance",value:.16,tier:3,weight:20},{name:"of Perfect Defense",stat:"blockChance",value:.25,tier:4,weight:10},{name:"of Regeneration",stat:"healthRegen",value:1,tier:1,weight:60},{name:"of Recovery",stat:"healthRegen",value:2,tier:2,weight:40},{name:"of Renewal",stat:"healthRegen",value:4,tier:3,weight:20},{name:"of Restoration",stat:"healthRegen",value:7,tier:4,weight:10},{name:"of Eternal Life",stat:"healthRegen",value:12,tier:5,weight:5},{name:"of Mana",stat:"mana",value:20,tier:1,weight:70},{name:"of the Mind",stat:"mana",value:40,tier:2,weight:50},{name:"of Arcane Power",stat:"mana",value:70,tier:3,weight:25},{name:"of the Archmage",stat:"mana",value:110,tier:4,weight:12},{name:"of Meditation",stat:"manaRegen",value:1,tier:1,weight:50},{name:"of Focus",stat:"manaRegen",value:2,tier:2,weight:30},{name:"of Enlightenment",stat:"manaRegen",value:4,tier:3,weight:15},{name:"of the Bear",stat:"vitality",value:5,tier:1,weight:70},{name:"of the Ox",stat:"vitality",value:10,tier:2,weight:50},{name:"of the Mountain",stat:"vitality",value:18,tier:3,weight:25},{name:"of the Sage",stat:"intelligence",value:5,tier:1,weight:60},{name:"of the Scholar",stat:"intelligence",value:10,tier:2,weight:40},{name:"of the Wizard",stat:"intelligence",value:18,tier:3,weight:20},{name:"of Spines",stat:"thorns",value:2,tier:1,weight:50},{name:"of Barbs",stat:"thorns",value:5,tier:2,weight:30},{name:"of the Hedgehog",stat:"thorns",value:9,tier:3,weight:15}],_p=[{name:"of Strength",stat:"strength",value:3,tier:1,weight:80},{name:"of Great Strength",stat:"strength",value:6,tier:2,weight:60},{name:"of Mighty Strength",stat:"strength",value:10,tier:3,weight:30},{name:"of Legendary Strength",stat:"strength",value:16,tier:4,weight:15},{name:"of Divine Strength",stat:"strength",value:25,tier:5,weight:8},{name:"of Dexterity",stat:"dexterity",value:3,tier:1,weight:80},{name:"of Great Dexterity",stat:"dexterity",value:6,tier:2,weight:60},{name:"of Swift Dexterity",stat:"dexterity",value:10,tier:3,weight:30},{name:"of Perfect Dexterity",stat:"dexterity",value:16,tier:4,weight:15},{name:"of Divine Grace",stat:"dexterity",value:25,tier:5,weight:8},{name:"of Intelligence",stat:"intelligence",value:3,tier:1,weight:80},{name:"of Great Intelligence",stat:"intelligence",value:6,tier:2,weight:60},{name:"of Brilliant Intelligence",stat:"intelligence",value:10,tier:3,weight:30},{name:"of Genius Intelligence",stat:"intelligence",value:16,tier:4,weight:15},{name:"of Omniscience",stat:"intelligence",value:25,tier:5,weight:8},{name:"of Vitality",stat:"vitality",value:3,tier:1,weight:80},{name:"of Great Vitality",stat:"vitality",value:6,tier:2,weight:60},{name:"of Robust Vitality",stat:"vitality",value:10,tier:3,weight:30},{name:"of Supreme Vitality",stat:"vitality",value:16,tier:4,weight:15},{name:"of Eternal Vitality",stat:"vitality",value:25,tier:5,weight:8},{name:"of Luck",stat:"luck",value:3,tier:1,weight:60},{name:"of Good Luck",stat:"luck",value:6,tier:2,weight:40},{name:"of Great Luck",stat:"luck",value:10,tier:3,weight:20},{name:"of Incredible Luck",stat:"luck",value:16,tier:4,weight:10},{name:"of Divine Fortune",stat:"luck",value:25,tier:5,weight:5},{name:"of Fortune",stat:"goldFind",value:.15,tier:1,weight:70},{name:"of Wealth",stat:"goldFind",value:.25,tier:2,weight:50},{name:"of Greed",stat:"goldFind",value:.4,tier:3,weight:25},{name:"of Avarice",stat:"goldFind",value:.6,tier:4,weight:12},{name:"of Midas",stat:"goldFind",value:.85,tier:5,weight:6},{name:"of Discovery",stat:"magicFind",value:.1,tier:1,weight:60},{name:"of Finding",stat:"magicFind",value:.2,tier:2,weight:40},{name:"of the Seeker",stat:"magicFind",value:.35,tier:3,weight:20},{name:"of the Treasure Hunter",stat:"magicFind",value:.55,tier:4,weight:10},{name:"of the Artifact Finder",stat:"magicFind",value:.8,tier:5,weight:5},{name:"of Learning",stat:"experienceBonus",value:.1,tier:1,weight:50},{name:"of Wisdom",stat:"experienceBonus",value:.2,tier:2,weight:30},{name:"of the Scholar",stat:"experienceBonus",value:.35,tier:3,weight:15},{name:"of the Master",stat:"experienceBonus",value:.55,tier:4,weight:8},{name:"of Enlightenment",stat:"experienceBonus",value:.8,tier:5,weight:4},{name:"of Accuracy",stat:"critChance",value:.02,tier:1,weight:60},{name:"of Keen Eye",stat:"critChance",value:.04,tier:2,weight:40},{name:"of Eagle Eye",stat:"critChance",value:.07,tier:3,weight:20},{name:"of Nimbleness",stat:"dodgeChance",value:.02,tier:1,weight:50},{name:"of Quickness",stat:"dodgeChance",value:.04,tier:2,weight:30},{name:"of the Cat",stat:"dodgeChance",value:.07,tier:3,weight:15},{name:"of Alacrity",stat:"attackSpeed",value:.08,tier:1,weight:40},{name:"of Velocity",stat:"attackSpeed",value:.15,tier:2,weight:25},{name:"of the Cheetah",stat:"attackSpeed",value:.25,tier:3,weight:12},{name:"of Health",stat:"health",value:25,tier:1,weight:70},{name:"of Greater Health",stat:"health",value:50,tier:2,weight:50},{name:"of Superior Health",stat:"health",value:85,tier:3,weight:25},{name:"of Energy",stat:"mana",value:30,tier:1,weight:60},{name:"of Greater Energy",stat:"mana",value:60,tier:2,weight:40},{name:"of Superior Energy",stat:"mana",value:100,tier:3,weight:20}],ha={Common:{color:"#9CA3AF",affixCount:[0,1],statMultiplier:1},Magic:{color:"#3B82F6",affixCount:[1,2],statMultiplier:1.3},Rare:{color:"#EAB308",affixCount:[2,4],statMultiplier:1.6},Unique:{color:"#A855F7",affixCount:[3,5],statMultiplier:2.2},Legendary:{color:"#F97316",affixCount:[4,6],statMultiplier:3}},Ko=[{id:"weapon",name:"Weapon",icon:"⚔️",category:"weapon"},{id:"offhand",name:"Off-Hand",icon:"🛡️",category:"armor"},{id:"helm",name:"Helm",icon:"⛑️",category:"armor"},{id:"chest",name:"Chest",icon:"👕",category:"armor"},{id:"gloves",name:"Gloves",icon:"🧤",category:"armor"},{id:"legs",name:"Legs",icon:"👖",category:"armor"},{id:"boots",name:"Boots",icon:"👢",category:"armor"},{id:"belt",name:"Belt",icon:"🎒",category:"accessory"},{id:"ring",name:"Ring",icon:"💍",category:"accessory"},{id:"amulet",name:"Amulet",icon:"📿",category:"accessory"}],qa=new Map;function Pd(e,t){let n;t&&qa.has(t)?n=qa.get(t):(n=e.reduce((r,a)=>r+a.weight,0),t&&qa.set(t,n));let l=Math.random()*n;for(const r of e)if(l-=r.weight,l<=0)return r;return e[e.length-1]}const Ga=new Map;function Tp(e,t=!1){const n=`${e}-${t}`;let l;return Ga.has(n)?l=Ga.get(n):(l=[{item:"Common",weight:60},{item:"Magic",weight:25},{item:"Rare",weight:10},{item:"Unique",weight:4},{item:"Legendary",weight:1}].map(({item:a,weight:i})=>{let o=i;return a==="Magic"&&(o+=Math.floor(e/5)),a==="Rare"&&(o+=Math.floor(e/10)),a==="Unique"&&(o+=Math.floor(e/20)),a==="Legendary"&&(o+=Math.floor(e/50)),t&&(a==="Rare"&&(o+=5),a==="Unique"&&(o+=3),a==="Legendary"&&(o+=2)),{item:a,weight:Math.max(1,o)}}),Ga.set(n,l)),Pd(l,n).item}function Rp(e){const t=Math.max(.3,.6-e*.01),n=Math.min(.5,.3+e*.008),l=Math.random();if(l<t){const r=Object.keys(Fl);return{category:"weapon",type:r[Math.floor(Math.random()*r.length)]}}else if(l<t+n){const r=Object.keys(Xr);return{category:"armor",type:r[Math.floor(Math.random()*r.length)]}}else{const r=Object.keys(Zr);return{category:"accessory",type:r[Math.floor(Math.random()*r.length)]}}}function Ap(e,t){const l=Fl[e].damageTypes,r={Common:.1,Magic:.3,Rare:.5,Unique:.7,Legendary:.9}[t]||.1;if(Math.random()<r&&l.length>1){const a=l.filter(i=>i!=="physical");return a[Math.floor(Math.random()*a.length)]}return"physical"}function Dp(e,t,n){const l=ha[t];if(!l)return[];const[r,a]=l.affixCount,i=Math.floor(Math.random()*(a-r+1))+r;if(i===0)return[];let o;switch(e){case"weapon":o=Lp;break;case"armor":o=bp;break;case"accessory":o=_p;break}const u=Math.min(3,Math.floor(n/10)+1),c=o.filter(p=>p.tier<=u),h=[],g=new Set,v=1+(n-1)*.05,w=l.statMultiplier;for(let p=0;p<i&&c.length>0;p++){const x=c.filter(C=>!g.has(C.stat));if(x.length===0)break;const N=Pd(x),m=N.value*v*w,f={Common:.1,Magic:.15,Rare:.18,Unique:.22,Legendary:.25}[t]||.1,y=1+(Math.random()*2-1)*f,k=m*y;h.push({...N,value:Math.max(1,Math.round(k*100)/100)}),g.add(N.stat)}return h}function zp(e,t,n,l,r=[]){let a="";if(e in Fl?a=Fl[e].name:e in Xr?a=Xr[e].name:e in Zr?a=Zr[e].name:a="Unknown Item",l&&l!=="physical"){const c={fire:["Burning","Flaming","Infernal","Phoenix"],ice:["Frozen","Glacial","Frost","Winter"],lightning:["Shocking","Storm","Thunder","Volt"],poison:["Venomous","Toxic","Plague","Serpent"]}[l]||[];c.length>0&&(a=`${c[Math.floor(Math.random()*c.length)]} ${a}`)}if(r.length>0&&t!=="Common"){const u=r.reduce((c,h)=>h.tier>c.tier?h:c);a+=` ${u.name}`}const i=l&&l!=="physical"?` [${l.toUpperCase()}]`:"";return`${t} ${a}${i} (L${n})`}function Ip(e,t,n,l){var u;const r=((u=ha[n])==null?void 0:u.statMultiplier)||1;let a=0;e.damage&&(a+=e.damage*5),e.armor&&(a+=e.armor*3),e.health&&(a+=e.health*.5);const i=t.reduce((c,h)=>{const v={damage:5,armor:3,health:.5,mana:.3,critChance:100,dodgeChance:80,attackSpeed:20,strength:2,dexterity:2,intelligence:2,vitality:2,luck:3}[h.stat]||1;return c+h.value*v},0),o=(a+i)*l*r;return Math.max(1,Math.floor(o))}function Ol(e,t=!1){const n=Tp(e,t),{category:l,type:r}=Rp(e);let a={},i,o={},u;if(l==="weapon"){const x=Fl[r];a={...x.baseStats},i=x.slot,o={...x.requirements},u=Ap(r,n)}else if(l==="armor"){const x=Xr[r];a={...x.baseStats},i=x.slot,o={...x.requirements}}else{const x=Zr[r];a={...x.baseStats},i=x.slot,o={...x.requirements}}const c=ha[n];if(!c)return console.warn("Invalid rarity:",n,"defaulting to Common"),Ol(e,!1);const h=1+(e-1)*.1,g=c.statMultiplier;Object.keys(a).forEach(x=>{if(typeof a[x]=="number"){const N={Common:.15,Magic:.2,Rare:.25,Unique:.3,Legendary:.35}[n]||.15,m=1+(Math.random()*2-1)*N,f=a[x]*h*g*m;a[x]=Math.round(f*100)/100}});const v=Dp(l,n,e),w=zp(r,n,e,u,v),p=Ip(a,v,n,e);return{id:"eq_"+Math.random().toString(36).substr(2,9),name:w,type:r,slot:i,category:l,rarity:n,level:e,baseStats:a,affixes:v,damageType:u,requirements:o,value:p}}function $p(e){var t;return((t=ha[e])==null?void 0:t.color)||"#9CA3AF"}const Fp=[];function Op(){return Fp.pop()||{}}function Yo(e){const t=Op();let n=0;e.baseStats.damage&&(n+=e.baseStats.damage),e.affixes.forEach(i=>{(i.stat==="damage"||i.stat==="health"||i.stat==="armor")&&(n+=i.value*.5)}),n=Math.max(1,Math.floor(n));const l=e.affixes.map(i=>({key:i.stat==="health"?"hp":i.stat==="critChance"?"critChance":i.stat==="dodgeChance"?"dodgeChance":i.stat==="attackSpeed"?"projectileSpeed":i.stat==="lifeSteal"?"lifeSteal":i.stat==="damage"?"dps":i.stat,val:i.value})),a=["bow","crossbow"].includes(e.type)?"ranged":"melee";return Object.assign(t,{...e,power:n,type:a,element:e.damageType||"physical",extras:l,rarityColor:$p(e.rarity),elementColor:Up(e.damageType||"physical")}),t}const Va=new Map;function Up(e){if(Va.has(e))return Va.get(e);let t;switch(e){case"fire":t="text-red-500";break;case"ice":t="text-cyan-400";break;case"lightning":t="text-yellow-300";break;case"poison":t="text-green-500";break;default:t="text-gray-300"}return Va.set(e,t),t}function Fs(e,t=!1){const n=t?Math.floor(Math.random()*3)+2:Math.floor(Math.random()*2)+1;if(n===1){const r=Ol(e,t);return[Yo(r)]}const l=[];for(let r=0;r<n;r++){const a=Ol(e,t),i=Yo(a);l.push(i)}return l}const Md="idle-poe-phase2-save-v1";function ve(e){const t={...e,__meta:{lastSaved:Date.now()}};localStorage.setItem(Md,JSON.stringify(t))}function Bp(){try{const e=localStorage.getItem(Md);return e?JSON.parse(e):null}catch{return null}}function qp(e,t){const n=e.skillGems.find(i=>i.id===t);if(!n)return{success:!1,message:"Skill not found"};if(n.isUnlocked)return{success:!1,message:"Skill is already unlocked"};if(e.level<n.unlockLevel)return{success:!1,message:`Requires player level ${n.unlockLevel}`};const l=Yr(n);if(e.skillPoints<l)return{success:!1,message:`Requires ${l} skill points (you have ${e.skillPoints})`};const r={...e};r.skillPoints-=l;const a=r.skillGems.findIndex(i=>i.id===t);return r.skillGems[a]={...n,isUnlocked:!0},{success:!0,message:`${n.name} unlocked!`,updatedPlayer:r}}function Gp(e,t){const n=e.supportGems.find(i=>i.id===t);if(!n)return{success:!1,message:"Support gem not found"};if(n.isUnlocked)return{success:!1,message:"Support gem is already unlocked"};if(e.level<n.unlockLevel)return{success:!1,message:`Requires player level ${n.unlockLevel}`};const l=Yr(n);if(e.skillPoints<l)return{success:!1,message:`Requires ${l} skill points (you have ${e.skillPoints})`};const r={...e};r.skillPoints-=l;const a=r.supportGems.findIndex(i=>i.id===t);return r.supportGems[a]={...n,isUnlocked:!0},{success:!0,message:`${n.name} unlocked!`,updatedPlayer:r}}function Vp(e,t){const n=e.skillGems.find(i=>i.id===t);if(!n)return{success:!1,message:"Skill not found"};if(!n.isUnlocked)return{success:!1,message:"Skill must be unlocked first"};if(!Kr(n,e.skillPoints)){const i=yn(n.level);return n.level>=n.maxLevel?{success:!1,message:"Skill is already at maximum level"}:{success:!1,message:`Requires ${i} skill points (you have ${e.skillPoints})`}}const l=yn(n.level),r={...e};r.skillPoints-=l;const a=r.skillGems.findIndex(i=>i.id===t);return r.skillGems[a]={...n,level:n.level+1},{success:!0,message:`${n.name} leveled up to ${n.level+1}!`,updatedPlayer:r}}function Hp(e,t){const n=e.supportGems.find(i=>i.id===t);if(!n)return{success:!1,message:"Support gem not found"};if(!n.isUnlocked)return{success:!1,message:"Support gem must be unlocked first"};if(!Kr(n,e.skillPoints)){const i=yn(n.level);return n.level>=n.maxLevel?{success:!1,message:"Support gem is already at maximum level"}:{success:!1,message:`Requires ${i} skill points (you have ${e.skillPoints})`}}const l=yn(n.level),r={...e};r.skillPoints-=l;const a=r.supportGems.findIndex(i=>i.id===t);return r.supportGems[a]={...n,level:n.level+1},{success:!0,message:`${n.name} leveled up to ${n.level+1}!`,updatedPlayer:r}}function Wp(e,t,n){if(n<0||n>=e.skillBar.maxSlots)return{success:!1,message:`Invalid slot index. Must be between 0 and ${e.skillBar.maxSlots-1}`};const l=e.skillGems.find(i=>i.id===t);if(!l)return{success:!1,message:"Skill not found"};if(!l.isUnlocked)return{success:!1,message:"Skill must be unlocked first"};const r={...e};r.skillBar.slots=r.skillBar.slots.map(i=>(i==null?void 0:i.id)===t?null:i),r.skillGems=r.skillGems.map(i=>i.id===t?{...i,isEquipped:!0}:i);const a=r.skillBar.slots[n];return a&&(r.skillGems=r.skillGems.map(i=>i.id===a.id?{...i,isEquipped:!1}:i)),r.skillBar.slots[n]={...l,isEquipped:!0},{success:!0,message:`${l.name} equipped to slot ${n+1}`,updatedPlayer:r}}function Qp(e,t){if(t<0||t>=e.skillBar.maxSlots)return{success:!1,message:`Invalid slot index. Must be between 0 and ${e.skillBar.maxSlots-1}`};const n=e.skillBar.slots[t];if(!n)return{success:!1,message:"No skill equipped in this slot"};const l={...e};return l.skillBar.slots[t]=null,l.skillGems=l.skillGems.map(r=>r.id===n.id?{...r,isEquipped:!1}:r),{success:!0,message:`${n.name} unequipped from slot ${t+1}`,updatedPlayer:l}}function Kp(e,t,n){const l=e.skillGems.find(c=>c.id===t),r=e.supportGems.find(c=>c.id===n);if(!l)return{success:!1,message:"Skill not found"};if(!r)return{success:!1,message:"Support gem not found"};if(!l.isUnlocked)return{success:!1,message:"Skill must be unlocked first"};if(!r.isUnlocked)return{success:!1,message:"Support gem must be unlocked first"};if(l.supportGems.length>=6)return{success:!1,message:"Skill already has maximum support gems (6)"};if(l.supportGems.some(c=>c.id===n))return{success:!1,message:"Support gem is already attached to this skill"};if(!r.tags.some(c=>l.tags.includes(c)))return{success:!1,message:`${r.name} is not compatible with ${l.name}. Support gem tags (${r.tags.join(", ")}) must match at least one skill tag (${l.tags.join(", ")}).`};const i={...e},o=i.skillGems.findIndex(c=>c.id===t);i.skillGems[o]={...l,supportGems:[...l.supportGems,r]};const u=i.skillBar.slots.findIndex(c=>(c==null?void 0:c.id)===t);return u!==-1&&(i.skillBar.slots[u]=i.skillGems[o]),{success:!0,message:`${r.name} attached to ${l.name}`,updatedPlayer:i}}function Yp(e,t,n){const l=e.skillGems.find(c=>c.id===t);if(!l)return{success:!1,message:"Skill not found"};const r=l.supportGems.findIndex(c=>c.id===n);if(r===-1)return{success:!1,message:"Support gem is not attached to this skill"};const a=l.supportGems[r],i={...e},o=i.skillGems.findIndex(c=>c.id===t);i.skillGems[o]={...l,supportGems:l.supportGems.filter(c=>c.id!==n)};const u=i.skillBar.slots.findIndex(c=>(c==null?void 0:c.id)===t);return u!==-1&&(i.skillBar.slots[u]=i.skillGems[o]),{success:!0,message:`${a.name} detached from ${l.name}`,updatedPlayer:i}}function Xo(e){return e.skillGems.filter(t=>!t.isUnlocked&&e.level>=t.unlockLevel)}function Zo(e){return e.skillGems.filter(t=>t.isUnlocked)}function Xp(e){return e.supportGems.filter(t=>!t.isUnlocked&&e.level>=t.unlockLevel)}function Zp(e){return e.supportGems.filter(t=>t.isUnlocked)}const Jp=[{id:"elemental_mastery",name:"Elemental Mastery",description:"Having both Fire and Lightning skills equipped grants elemental damage bonus",requiredTags:["Fire","Lightning"],bonuses:[{type:"damage",value:20,isPercentage:!0,description:"+20% elemental damage"},{type:"special",value:10,isPercentage:!1,description:"10% chance to trigger elemental explosion on kill"}],unlockLevel:5,icon:"🌟"},{id:"melee_caster",name:"Spellsword",description:"Combining melee attacks with spells creates unique combat synergies",requiredTags:["Melee","Spell"],bonuses:[{type:"manaCost",value:-15,isPercentage:!0,description:"-15% mana cost for spells"},{type:"speed",value:10,isPercentage:!0,description:"+10% attack and cast speed"}],unlockLevel:3,icon:"⚔️"},{id:"aoe_specialist",name:"Area Specialist",description:"Multiple AoE skills create devastating area control",requiredTags:["AoE","AoE"],bonuses:[{type:"area",value:30,isPercentage:!0,description:"+30% area of effect"},{type:"damage",value:15,isPercentage:!0,description:"+15% area damage",appliesTo:[]}],unlockLevel:4,icon:"💥"},{id:"channeling_master",name:"Channeling Master",description:"Mastery of channeling skills grants sustained combat bonuses",requiredTags:["Channeling"],bonuses:[{type:"damage",value:5,isPercentage:!0,description:"+5% damage per second of channeling (max 50%)"},{type:"special",value:2,isPercentage:!1,description:"+2% life and mana regeneration while channeling"}],unlockLevel:6,icon:"🔄"}],eh=[{id:"fire_lightning_chain",name:"Elemental Chain",description:"Lightning Bolt has a chance to trigger Fireball on critical hits",triggerSkill:"lightning_bolt",targetSkill:"fireball",condition:"onCrit",bonus:{type:"special",value:25,isPercentage:!1,description:"25% chance to cast Fireball on Lightning Bolt critical hit"},cooldown:2e3},{id:"whirlwind_spell_synergy",name:"Spell Weaving",description:"Whirlwind hits reduce spell cooldowns",triggerSkill:"whirlwind",targetSkill:"all_spells",condition:"onHit",bonus:{type:"cooldown",value:-50,isPercentage:!1,description:"Reduces spell cooldowns by 50ms per enemy hit"}},{id:"spell_kill_heal",name:"Arcane Recovery",description:"Spell kills restore mana and health",triggerSkill:"all_spells",targetSkill:"player",condition:"onKill",bonus:{type:"heal",value:5,isPercentage:!0,description:"Restore 5% health and mana on spell kill"}},{id:"melee_spell_momentum",name:"Combat Momentum",description:"Alternating between melee and spells builds momentum",triggerSkill:"whirlwind",targetSkill:"all_spells",condition:"onUse",bonus:{type:"damage",value:10,isPercentage:!0,description:"+10% spell damage for 3 seconds after using melee skill"},duration:3e3}];function th(e){const t=[];for(const n of Jp)nh(n,e)&&t.push(n);return t}function nh(e,t){if(e.requiredSkills){const n=t.map(l=>l.id);return e.requiredSkills.every(l=>n.includes(l))}if(e.requiredTags){const n=t.flatMap(a=>a.tags),l=new Map;n.forEach(a=>{l.set(a,(l.get(a)||0)+1)});const r=new Map;e.requiredTags.forEach(a=>{r.set(a,(r.get(a)||0)+1)});for(const[a,i]of r)if((l.get(a)||0)<i)return!1;return!0}return!1}function lh(e){const t=[],n=e.map(l=>l.id);for(const l of eh){const r=n.includes(l.triggerSkill)||l.triggerSkill==="all_spells",a=l.targetSkill==="all_spells"||l.targetSkill==="player"||n.includes(l.targetSkill);r&&a&&t.push(l)}return t}const Ed={player:je($l()),enemies:[Nr(1)],inventory:[],log:[],skills:{},activeCombinations:[],activeSynergies:[],lastStatsUpdate:Date.now()};function Jo(e){const t=e.player.skillBar.slots.filter(r=>r!==null),n=th(t),l=lh(t);return{...e,activeCombinations:n,activeSynergies:l}}function rh(e,t){var n,l,r,a;switch(t.type){case"LOAD":{const i=t.payload||{};return i.player&&typeof i.player=="object"&&(typeof i.player.gold!="number"&&(i.player.gold=0),(!i.player.equipment||typeof i.player.equipment!="object")&&(i.player.equipment={}),i.player.skillBar||(i.player.skillBar=fp()),Array.isArray(i.player.skillGems)||(i.player.skillGems=Ai.map(o=>Di(o))),Array.isArray(i.player.supportGems)||(i.player.supportGems=yd.map(o=>jd(o))),i.player=je(i.player)),{...e,...i,lastStatsUpdate:Date.now()}}case"SPAWN":{const i=((n=t.payload)==null?void 0:n.level)??Math.max(1,e.player.level+(Math.random()>.5?1:0)),o=(l=t.payload)==null?void 0:l.kind,u=Nr(i,o),c=[...e.enemies,u].slice(0,25),h=[`Spawned ${u.name}`,...e.log].slice(0,200);return ve({player:e.player,inventory:e.inventory,enemies:c,skills:e.skills}),{...e,enemies:c,log:h}}case"TICK":{const i=(r=t.payload)==null?void 0:r.enemyId,o=[...e.enemies],u=o.findIndex(f=>f.id===i);if(u===-1)return e;const c={...o[u]};let h={...e.player},g=[];h.skillCooldowns||(h.skillCooldowns={});const v=Date.now(),w=h.skillBar.slots.find(f=>(f==null?void 0:f.id)==="whirlwind");if(w&&w.isUnlocked){const f=h.skillCooldowns.whirlwind||0,y=w.scaling.baseCooldown||w.cooldown;if(y===0||v-f>=y){h.skillCooldowns.whirlwind=v;const C=(w.scaling.baseArea+(w.level-1)*w.scaling.areaPerLevel)*30;g.push(`ANIM_SKILL|whirlwind|${v}|3000`);const _=Math.floor(w.scaling.baseDamage+(w.level-1)*w.scaling.damagePerLevel),j=e.playerPosition||{x:150,y:300};let b=0;o.forEach(I=>{if(I.hp>0&&I.position){const z=Math.hypot(I.position.x-j.x,I.position.y-j.y);z<=C&&(I.hp=Math.max(0,I.hp-_),g.push(`Whirlwind spins through ${I.name} for ${_} damage! (distance: ${Math.round(z)})`),b++)}}),g.push(`🌪️ Whirlwind channels continuously! (${b} enemies hit, range: ${Math.round(C)})`)}}const p=Ep(h,c),x={...p.player};let N=[...o];N[u]=p.enemy;let m=[...g,p.message,...e.log].slice(0,200);if(p.didPlayerHit){const f=x.equipped??{type:"melee",rarity:"Common"};m.unshift(`ANIM_PLAYER|${c.id}|${f.type}|${f.rarity}|${p.crit?"crit":"hit"}|${p.damage}`)}if(p.crit&&p.didPlayerHit&&m.unshift(`🔥 Critical Hit! -${p.damage} to ${c.name}`),p.enemyDefeated){const f=Fs(c.level,c.isBoss);N=N.filter(I=>I.id!==i);const y=c.isBoss?Math.floor(c.level*12):Math.max(1,Math.floor(c.level*4));x.xp+=y;const k=10*4;let C=[...e.inventory],_=0,j=0,b=0;for(f.forEach(I=>{_+=I.value,C.length>=k?(x.gold+=I.value,b++):(C.push(I),j++)}),c.isBoss?m.unshift(`🎉 BOSS DEFEATED! ${f.length} Epic Items Found!`):m.unshift(`Enemy defeated! ${f.length} items dropped`),j>0&&m.unshift(`📦 ${j} items added to inventory`),b>0&&m.unshift(`💰 Inventory full! ${b} items converted to ${b*Math.floor(_/f.length)} gold`),x.gold+=_;x.xp>=x.nextLevelXp;)x.xp-=x.nextLevelXp,x.level+=1,x.skillPoints+=1,x.maxHp+=8,x.hp=x.maxHp,x.nextLevelXp=Math.floor(x.nextLevelXp*1.25),m.unshift(`Leveled up! Now level ${x.level}`);return ve({player:x,inventory:C,enemies:N,skills:e.skills}),{...e,player:x,enemies:N,inventory:C,log:m,skills:e.skills}}return ve({player:x,inventory:e.inventory,enemies:N,skills:e.skills}),{...e,player:x,enemies:N,log:m,skills:e.skills}}case"REMOVE":{const i=t.payload,o=e.enemies.filter(u=>u.id!==i);return ve({player:e.player,inventory:e.inventory,enemies:o,skills:e.skills}),{...e,enemies:o}}case"EQUIP":{const i=t.payload,o=e.inventory.find(u=>u.id===i);if(!o)return e;if(o.slot&&o.category){if(!(!o.requirements||Object.entries(o.requirements).every(([v,w])=>{var x;return(((x=e.player.attributes)==null?void 0:x[v])??0)>=w})))return e;const c={...e.player.equipment};c[o.slot]=o;const h={...e.player,equipment:c},g=je(h);return ve({player:g,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:g,lastStatsUpdate:Date.now()}}else{const u={...e.player,equipped:o},c=je(u);return ve({player:c,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:c,lastStatsUpdate:Date.now()}}}case"UNEQUIP":{const i=t.payload;if(!i||!((a=e.player.equipment)!=null&&a[i]))return e;const o={...e.player.equipment};delete o[i];const u={...e.player,equipment:o},c=je(u);return ve({player:c,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:c,lastStatsUpdate:Date.now()}}case"DISCARD":{const i=t.payload,o=e.inventory.filter(u=>u.id!==i);return ve({player:e.player,inventory:o,enemies:e.enemies,skills:e.skills}),{...e,inventory:o}}case"SELL_ALL":{const i=e.inventory.reduce((c,h)=>c+(h.value||0),0),o={...e.player,gold:(e.player.gold||0)+i},u=je(o);return ve({player:u,inventory:[],enemies:e.enemies,skills:e.skills}),{...e,player:u,inventory:[],log:[`Sold all items for ${i} gold`,...e.log].slice(0,200),lastStatsUpdate:Date.now()}}case"UPGRADE_SKILL":{const i=t.payload,o=1;if(e.player.skillPoints<o)return e;const u=(e.skills[i]??0)+1;if(u>10)return e;const c={...e.skills,[i]:u},h={...e.player};h.skillPoints-=o,h.skills=c,i==="endurance"&&(h.maxHp+=10,h.hp+=10);const g=je(h);return ve({player:g,inventory:e.inventory,enemies:e.enemies,skills:c}),{...e,player:g,skills:c,log:[`Upgraded ${i} to ${u}`,...e.log].slice(0,200)}}case"TOGGLE_AUTO":return{...e,autoCombat:!e.autoCombat};case"RESET":return ve({player:$l(),inventory:[],enemies:[Nr(1)],skills:{}}),{player:$l(),enemies:[Nr(1)],inventory:[],log:[],skills:{},activeCombinations:[],activeSynergies:[],lastStatsUpdate:Date.now()};case"LOG":return{...e,log:[t.payload,...e.log].slice(0,200)};case"UNLOCK_SKILL_GEM":{const i=qp(e.player,t.payload);if(i.success&&i.updatedPlayer){const o=je(i.updatedPlayer);return ve({player:o,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:o,log:[i.message,...e.log].slice(0,200)}}else return{...e,log:[i.message,...e.log].slice(0,200)}}case"UNLOCK_SUPPORT_GEM":{const i=Gp(e.player,t.payload);if(i.success&&i.updatedPlayer){const o=je(i.updatedPlayer);return ve({player:o,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:o,log:[i.message,...e.log].slice(0,200)}}else return{...e,log:[i.message,...e.log].slice(0,200)}}case"LEVEL_UP_SKILL_GEM":{const i=Vp(e.player,t.payload);if(i.success&&i.updatedPlayer){const o=je(i.updatedPlayer);return ve({player:o,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:o,log:[i.message,...e.log].slice(0,200)}}else return{...e,log:[i.message,...e.log].slice(0,200)}}case"LEVEL_UP_SUPPORT_GEM":{const i=Hp(e.player,t.payload);if(i.success&&i.updatedPlayer){const o=je(i.updatedPlayer);return ve({player:o,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:o,log:[i.message,...e.log].slice(0,200)}}else return{...e,log:[i.message,...e.log].slice(0,200)}}case"EQUIP_SKILL_TO_BAR":{const{skillId:i,slotIndex:o}=t.payload,u=Wp(e.player,i,o);if(u.success&&u.updatedPlayer){const c=je(u.updatedPlayer);return ve({player:c,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),Jo({...e,player:c,log:[u.message,...e.log].slice(0,200)})}else return{...e,log:[u.message,...e.log].slice(0,200)}}case"UNEQUIP_SKILL_FROM_BAR":{const i=Qp(e.player,t.payload);if(i.success&&i.updatedPlayer){const o=je(i.updatedPlayer);return ve({player:o,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),Jo({...e,player:o,log:[i.message,...e.log].slice(0,200)})}else return{...e,log:[i.message,...e.log].slice(0,200)}}case"ATTACH_SUPPORT_GEM":{const{skillId:i,supportId:o}=t.payload,u=Kp(e.player,i,o);if(u.success&&u.updatedPlayer){const c=je(u.updatedPlayer);return ve({player:c,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:c,log:[u.message,...e.log].slice(0,200)}}else return{...e,log:[u.message,...e.log].slice(0,200)}}case"DETACH_SUPPORT_GEM":{const{skillId:i,supportId:o}=t.payload,u=Yp(e.player,i,o);if(u.success&&u.updatedPlayer){const c=je(u.updatedPlayer);return ve({player:c,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:c,log:[u.message,...e.log].slice(0,200)}}else return{...e,log:[u.message,...e.log].slice(0,200)}}case"USE_SKILL":{const i=t.payload,o=e.player.skillGems.find(v=>v.id===i&&v.isEquipped);if(!o)return{...e,log:["Skill not found or not equipped",...e.log].slice(0,200)};const u=0;if(e.player.mana<u)return{...e,log:[`Not enough mana to use ${o.name}! (${u} required, ${e.player.mana} available)`,...e.log].slice(0,200)};const c={...e.player,mana:Math.max(0,e.player.mana-u)};let h=[`Used ${o.name}!`,...e.log];if(o.id==="whirlwind"){h.unshift(`ANIM_SKILL|whirlwind|${Date.now()}|3000`);const v=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);e.enemies.forEach(w=>{w.hp>0&&h.unshift(`ANIM_PLAYER|${w.id}|whirlwind|Unique|hit|${v}`)})}else if(o.id==="fireball"){const v=e.enemies.find(w=>w.hp>0);if(v){h.unshift(`ANIM_SKILL|fireball|${v.id}|${Date.now()}`);const w=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);h.unshift(`ANIM_PLAYER|${v.id}|magic|Rare|hit|${w}`)}}else if(o.id==="lightning_bolt"){const v=e.enemies.find(w=>w.hp>0);if(v){h.unshift(`ANIM_SKILL|lightning|${v.id}|${Date.now()}`);const w=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);h.unshift(`ANIM_PLAYER|${v.id}|magic|Magic|hit|${w}`)}}else if(o.id==="power_strike"){const v=e.enemies.find(w=>w.hp>0);if(v){const w=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);h.unshift(`ANIM_PLAYER|${v.id}|melee|Unique|hit|${w}`)}}else if(o.id==="heal"){const v=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);c.hp=Math.min(c.maxHp,c.hp+v),h.unshift(`ANIM_SKILL|heal|player|${Date.now()}`),h.unshift(`Healed for ${v} HP!`)}const g=je(c);return ve({player:g,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:g,log:h.slice(0,200)}}case"UPDATE_ENEMY_POSITIONS":{const i=t.payload,o=e.enemies.map(u=>({...u,position:i[u.id]||u.position}));return{...e,enemies:o}}case"UPDATE_PLAYER_POSITION":return{...e,playerPosition:t.payload};case"CHANNEL_WHIRLWIND":{const i=e.player.skillBar.slots.find(v=>(v==null?void 0:v.id)==="whirlwind");if(!i||!i.isUnlocked)return e;let o={...e.player},u=[];o.skillCooldowns||(o.skillCooldowns={});const c=Date.now(),h=o.skillCooldowns.whirlwind||0,g=i.scaling.baseCooldown||i.cooldown;if(g===0||c-h>=g){o.skillCooldowns.whirlwind=c;const w=(i.scaling.baseArea+(i.level-1)*i.scaling.areaPerLevel)*30,p=Math.floor(i.scaling.baseDamage+(i.level-1)*i.scaling.damagePerLevel),x=e.playerPosition||{x:150,y:300};let N=0,m=[...e.enemies];m.forEach(k=>{k.hp>0&&k.position&&Math.hypot(k.position.x-x.x,k.position.y-x.y)<=w&&(k.hp=Math.max(0,k.hp-p),N++)}),N>0&&(u.push(`ANIM_SKILL|whirlwind|${c}|1000`),u.push(`🌪️ Whirlwind channels continuously! (${N} enemies hit, range: ${Math.round(w)})`));const f=m.filter(k=>k.hp<=0);m=m.filter(k=>k.hp>0),f.forEach(k=>{const C=Fs(k.level,k.isBoss);C.forEach(_=>{o.gold+=_.value}),C.length>0&&u.push(`Enemy defeated by Whirlwind! ${C.length} items dropped`)});const y=je(o);return{...e,player:y,enemies:m,log:[...u,...e.log].slice(0,200)}}return e}default:return e}}const Ld=M.createContext({state:Ed,actions:{},dispatch:()=>{}});function ah({children:e}){const[t,n]=M.useReducer(rh,Ed);M.useEffect(()=>{const o=Bp();o&&n({type:"LOAD",payload:o})},[]);const l=M.useCallback(o=>{n({type:"UPDATE_ENEMY_POSITIONS",payload:o})},[]),r=M.useCallback(o=>{n({type:"UPDATE_PLAYER_POSITION",payload:o})},[]);M.useEffect(()=>{const o=setInterval(()=>{t.enemies.length<25&&n({type:"SPAWN"})},2200);return()=>clearInterval(o)},[t.enemies.length]),M.useEffect(()=>{const o=t.skills.quick??0,c=Math.max(300,Math.round(1e3/(1+o*.05))),h=setInterval(()=>{t.enemies.map(v=>v.id).forEach(v=>n({type:"TICK",payload:{enemyId:v}}))},c);return()=>clearInterval(h)},[t.enemies.length,t.skills]),M.useEffect(()=>{const o=t.player.skillBar.slots.find(u=>(u==null?void 0:u.id)==="whirlwind");if(o&&o.isUnlocked){const c=setInterval(()=>{n({type:"CHANNEL_WHIRLWIND"})},100);return()=>clearInterval(c)}},[t.player.skillBar]);const a=M.useMemo(()=>({spawnEnemy:(o,u)=>n({type:"SPAWN",payload:{level:o,kind:u}}),simulateTick:o=>n({type:"TICK",payload:{enemyId:o}}),removeEnemy:o=>n({type:"REMOVE",payload:o}),equipItem:o=>n({type:"EQUIP",payload:o}),discardItem:o=>n({type:"DISCARD",payload:o}),sellAll:()=>n({type:"SELL_ALL"}),upgradeSkill:o=>n({type:"UPGRADE_SKILL",payload:o}),resetAll:()=>n({type:"RESET"}),log:o=>n({type:"LOG",payload:o}),unlockSkillGem:o=>n({type:"UNLOCK_SKILL_GEM",payload:o}),unlockSupportGem:o=>n({type:"UNLOCK_SUPPORT_GEM",payload:o}),levelUpSkillGem:o=>n({type:"LEVEL_UP_SKILL_GEM",payload:o}),levelUpSupportGem:o=>n({type:"LEVEL_UP_SUPPORT_GEM",payload:o}),equipSkillToBar:(o,u)=>n({type:"EQUIP_SKILL_TO_BAR",payload:{skillId:o,slotIndex:u}}),unequipSkillFromBar:o=>n({type:"UNEQUIP_SKILL_FROM_BAR",payload:o}),attachSupportGem:(o,u)=>n({type:"ATTACH_SUPPORT_GEM",payload:{skillId:o,supportId:u}}),detachSupportGem:(o,u)=>n({type:"DETACH_SUPPORT_GEM",payload:{skillId:o,supportId:u}}),useSkill:o=>n({type:"USE_SKILL",payload:o}),updateEnemyPositions:l,updatePlayerPosition:r}),[l,r]),i=M.useMemo(()=>({state:t,actions:a,dispatch:n}),[t,a]);return s.jsx(Ld.Provider,{value:i,children:e})}function rt(){const e=M.useContext(Ld);if(!e)throw new Error("useGame must be used within a GameProvider");return e}function sh(){return s.jsxs("span",{className:`ml-2 inline-block bg-gradient-to-r from-purple-600 to-blue-500
                 text-xs text-white px-2 py-0.5 rounded-full shadow-md 
                 cursor-pointer hover:scale-105 transition-transform`,title:`Version: 0.2.0
Commit: aedcf13
Built: 10/16/2025, 5:55:34 PM`,onClick:()=>navigator.clipboard.writeText("aedcf13"),children:["v","0.2.0"," • ","aedcf13"]})}function ih({onOpenModal:e}){var o;const{state:t}=rt(),n=t.player,l=t.skills||{},r=Math.pow(1.05,l.power||0),a=(n.attackSpeed||1)*(1+(l.quick||0)*.05),i=(n.baseDps+(((o=n.equipped)==null?void 0:o.power)||0))*r+(n.dps-n.baseDps);return s.jsx("div",{className:"sticky-header w-full bg-gray-900/95 backdrop-blur-md border-b border-gray-700 shadow-lg",children:s.jsx("div",{className:"w-full px-4 py-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h1",{className:"header-title text-2xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:"Auto Battle Arena"}),s.jsx(sh,{})]}),s.jsxs("div",{className:"header-nav flex space-x-2",children:[s.jsx("button",{onClick:()=>e("skills"),className:"px-3 py-1.5 bg-blue-900/50 hover:bg-blue-800/60 border border-blue-600/50 text-blue-300 rounded-md transition-all duration-200 text-sm font-medium hover:shadow-lg hover:shadow-blue-500/20",children:"🎯 Skills"}),s.jsx("button",{onClick:()=>e("skillgems"),className:"px-3 py-1.5 bg-purple-900/50 hover:bg-purple-800/60 border border-purple-600/50 text-purple-300 rounded-md transition-all duration-200 text-sm font-medium hover:shadow-lg hover:shadow-purple-500/20",children:"💎 Skill Gems"}),s.jsx("button",{onClick:()=>e("combinations"),className:"px-3 py-1.5 bg-pink-900/50 hover:bg-pink-800/60 border border-pink-600/50 text-pink-300 rounded-md transition-all duration-200 text-sm font-medium hover:shadow-lg hover:shadow-pink-500/20",children:"🔗 Combinations"}),s.jsx("button",{onClick:()=>e("maps"),className:"px-3 py-1.5 bg-indigo-900/50 hover:bg-indigo-800/60 border border-indigo-600/50 text-indigo-300 rounded-md transition-all duration-200 text-sm font-medium hover:shadow-lg hover:shadow-indigo-500/20",children:"🗺️ Maps"}),s.jsx("button",{onClick:()=>e("inventory"),className:"px-3 py-1.5 bg-green-900/50 hover:bg-green-800/60 border border-green-600/50 text-green-300 rounded-md transition-all duration-200 text-sm font-medium hover:shadow-lg hover:shadow-green-500/20",children:"🎒 Inventory"}),s.jsx("button",{onClick:()=>e("log"),className:"px-3 py-1.5 bg-orange-900/50 hover:bg-orange-800/60 border border-orange-600/50 text-orange-300 rounded-md transition-all duration-200 text-sm font-medium hover:shadow-lg hover:shadow-orange-500/20",children:"📜 Combat Log"})]}),s.jsxs("div",{className:"header-stats flex flex-wrap gap-2 mt-1",children:[s.jsxs("div",{className:"bg-yellow-900/30 border border-yellow-600/40 text-yellow-300 rounded-md px-3 py-1.5 flex items-center space-x-2 text-sm",children:[s.jsx("span",{children:"💰"}),s.jsx("span",{children:Math.floor(n.gold).toLocaleString()})]}),s.jsxs("div",{className:"bg-red-900/30 border border-red-600/40 text-red-300 rounded-md px-3 py-1.5 flex items-center space-x-2 text-sm",children:[s.jsx("span",{children:"👹"}),s.jsx("span",{children:t.enemies.length})]}),s.jsxs("div",{className:"bg-orange-900/30 border border-orange-600/40 text-orange-300 rounded-md px-3 py-1.5 flex items-center space-x-2 text-sm",children:[s.jsx("span",{children:"⚔️"}),s.jsx("span",{children:i.toFixed(1)})]}),s.jsxs("div",{className:"bg-cyan-900/30 border border-cyan-600/40 text-cyan-300 rounded-md px-3 py-1.5 flex items-center space-x-2 text-sm",children:[s.jsx("span",{children:"⚡"}),s.jsxs("span",{children:[a.toFixed(1),"/s"]})]}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-600/40 text-purple-300 rounded-md px-3 py-1.5 flex items-center space-x-2 text-sm",children:[s.jsx("span",{children:"🎯"}),s.jsxs("span",{children:["Lv.",n.level]})]}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-600/40 text-blue-300 rounded-md px-3 py-1.5 flex items-center space-x-2 text-sm min-w-[120px]",children:[s.jsx("span",{children:"✨"}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"bg-blue-800/50 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-blue-400 h-full transition-all duration-300",style:{width:`${Math.floor(n.xp)/n.nextLevelXp*100}%`}})})})]})]})]})})})}const Sn=1400,nn=700;function oh(e){return!e||e==="Common"?"#ffffff":e==="Magic"?"#06b6d4":e==="Rare"?"#8b5cf6":e==="Unique"?"#fbbf24":"#ffffff"}const uh=vn.memo(function(){const t=M.useRef(null),{state:n,actions:l}=rt(),[r,a]=M.useState({x:150,y:nn/2}),[i,o]=M.useState({}),[u,c]=M.useState([]),[h,g]=M.useState([]),[v,w]=M.useState({}),[p,x]=M.useState({x:0,y:0,zoom:1}),[N,m]=M.useState(0),[f,y]=M.useState({active:!1,startTime:0,rotation:0}),[k,C]=M.useState(!1),_=M.useRef(0),b=1e3/60,I=M.useMemo(()=>{const L=[];for(let R=0;R<1e3;R++)L.push({x:0,y:0});return L},[]);let z=0;const J=M.useCallback((L,R)=>{const d=I[z%I.length];return d.x=L,d.y=R,z++,d},[I]),S=M.useCallback((L,R)=>{const d=(L-R)*.866,A=(L+R)*.5;return J(d,A)},[J]),F=M.useCallback(L=>J((L.x-p.x)*p.zoom+Sn/2,(L.y-p.y)*p.zoom+nn/2),[p.x,p.y,p.zoom,J]),B=M.useCallback((L,R)=>{const d=S(L,R);return F(d)},[S,F]);M.useEffect(()=>{const L={};n.enemies.forEach((R,d)=>{L[R.id]={x:Sn-120-d*28+(Math.random()-.5)*30,y:nn/2+(d%5-2)*36+(Math.random()-.5)*20}}),o(L),l.updateEnemyPositions(L),c(R=>R.slice(-120))},[n.enemies.length]),M.useEffect(()=>{const L=R=>{R.key.toLowerCase()==="d"&&C(d=>!d)};return window.addEventListener("keydown",L),()=>{window.removeEventListener("keydown",L)}},[]);const K=L=>({x:Math.max(30,Math.min(Sn-30,L.x)),y:Math.max(30,Math.min(nn-30,L.y))}),ne=(L,R)=>Math.hypot(L.x-R.x,L.y-R.y),pt=(L,R,d)=>{const A=R.x-L.x,Z=R.y-L.y,Q=Math.hypot(A,Z)||1;return{x:L.x+A/Q*d,y:L.y+Z/Q*d}},T=M.useRef("");M.useEffect(()=>{if(!n.log||n.log.length===0)return;const L=n.log[0];if(L!==T.current){if(T.current=L,L.startsWith("ANIM_PLAYER|")){const R=L.split("|"),d=R[1],A=R[2],Z=R[3],Q=R[4],E=Math.floor(Number(R[5]||0)),$=i[d],ke=oh(Z);if(A==="melee")g(U=>[...U,{kind:"slash",x:($==null?void 0:$.x)||300,y:($==null?void 0:$.y)||200,t:Date.now(),ttl:400,angle:Math.random()*Math.PI-Math.PI/2,color:ke}]);else if(A==="ranged"){if($){const U=$.x-r.x,H=$.y-r.y,V=Math.hypot(U,H)||1,ee=3*(n.player.projectileSpeed||1)*(1+(n.skills.arcane||0)*.1);c(ue=>[...ue,{x:r.x,y:r.y,vx:U/V*ee,vy:H/V*ee,life:800,color:ke,radius:3,size:2}])}}else if(A==="magic"&&$){const U=$.x-r.x,H=$.y-r.y,V=Math.hypot(U,H)||1,ee=2*(n.player.projectileSpeed||1)*(1+(n.skills.arcane||0)*.1);c(ue=>[...ue,{x:r.x,y:r.y,vx:U/V*ee,vy:H/V*ee,life:1200,color:ke,radius:6,size:4,glow:!0}])}if($){const U=Q==="crit"?`-${E}!!!`:`-${E}`;g(H=>[...H,{kind:"damage",x:$.x+(Math.random()-.5)*10,y:$.y-10+(Math.random()-.5)*6,t:Date.now(),ttl:1600,text:U,crit:Q==="crit",size:Math.min(28,10+Math.floor(E/2)),color:Q==="crit"?"#f59e0b":"#ff6b6b"}])}}if(L.startsWith("Enemy defeated! Loot:")){const R=L.match(/Loot: (.+)$/);R&&g(d=>[...d,{kind:"pickup",x:220,y:60,t:Date.now(),ttl:1200,text:R[1],color:"#fff"}])}if(L.includes("dodged"))if(L.includes("Player dodged"))g(R=>[...R,{kind:"dodge",x:r.x+(Math.random()-.5)*20,y:r.y-20+(Math.random()-.5)*10,t:Date.now(),ttl:1200,text:"DODGE!",color:"#22d3ee",size:16}]);else{const R=L.match(/(.+) dodged/);if(R){const d=R[1],A=n.enemies.find(Z=>Z.name===d);if(A){const Z=i[A.id];Z&&g(Q=>[...Q,{kind:"miss",x:Z.x+(Math.random()-.5)*20,y:Z.y-20+(Math.random()-.5)*10,t:Date.now(),ttl:1200,text:"MISS!",color:"#94a3b8",size:14}])}}}if(L.includes("hits back for")){const R=L.match(/hits back for (\d+)/);if(R){const d=parseInt(R[1]);g(A=>[...A,{kind:"player_damage",x:r.x+(Math.random()-.5)*15,y:r.y-15+(Math.random()-.5)*8,t:Date.now(),ttl:1400,text:`-${d}`,color:"#ef4444",size:Math.min(24,12+Math.floor(d/3))}])}}if(L.includes("blocked")&&L.includes("Player blocked")&&g(R=>[...R,{kind:"block",x:r.x+(Math.random()-.5)*20,y:r.y-20+(Math.random()-.5)*10,t:Date.now(),ttl:1200,text:"BLOCK!",color:"#fbbf24",size:16}]),L.startsWith("🔥 Critical Hit!"),L.startsWith("ANIM_SKILL|")){const R=L.split("|"),d=R[1];if(d==="whirlwind"){const A=Number(R[2]),Z=Number(R[3]);y({active:!0,startTime:Date.now(),rotation:0}),setTimeout(()=>{y(Q=>({...Q,active:!1}))},Z),g(Q=>[...Q,{kind:"whirlwind",x:r.x,y:r.y,t:A,ttl:Z,color:"#fbbf24",duration:Z}])}else d==="heal"?g(A=>[...A,{kind:"heal",x:r.x,y:r.y,t:Date.now(),ttl:2e3,color:"#10b981"}]):d==="fireball"?g(A=>[...A,{kind:"explosion",x:r.x,y:r.y,t:Date.now(),ttl:800,color:"#ff4400",size:20}]):d==="lightning_bolt"?g(A=>[...A,{kind:"lightning",x:r.x,y:r.y,t:Date.now(),ttl:600,color:"#00aaff",size:15}]):d==="power_strike"&&g(A=>[...A,{kind:"power_strike",x:r.x,y:r.y,t:Date.now(),ttl:700,color:"#ffaa00",size:18}])}}},[n.log,i,r]);const O=(L,R,d,A)=>ne(L,R)<d+A,q=M.useRef({idleAnimation:0,whirlwindRotation:0,lastUpdate:performance.now(),calculatedPlayerPos:null,calculatedEnemyPositions:null,calculatedProjectiles:null,calculatedEffects:null,calculatedDying:null,calculatedCamera:null});M.useEffect(()=>{let L=0,R=performance.now();function d(A){var st;const Z=Math.min(40,A-R);if(R=A,q.current.idleAnimation=A/1e3,f.active){const G=A-f.startTime;q.current.whirlwindRotation=G*.01}q.current.lastUpdate=A;let Q=r,E=i,$=u,ke=h,U=v,H=p;if(n.enemies.length>0){let G=null,Y=null,le=9999;if(n.enemies.forEach(me=>{const ge=i[me.id];if(!ge)return;const Ge=ne(r,ge);Ge<le&&(le=Ge,G=me,Y=ge)}),G&&Y){const me=((st=n.player.equipped)==null?void 0:st.type)==="ranged"?180:48;if(f.active){const Pe={x:Math.cos(q.current.whirlwindRotation*3)*15,y:Math.sin(q.current.whirlwindRotation*3)*15},Xe={x:Y.x+Pe.x,y:Y.y+Pe.y},ht=K(pt(r,Xe,2.5));let gt=!0;n.enemies.forEach(St=>{const tn=i[St.id];if(tn){let Hl=12;St.type==="melee"?Hl=12+St.level*.8:St.type==="ranged"?Hl=10+St.level*.6:Hl=14+St.level*1,O(ht,tn,18,Hl+2)&&(gt=!1)}}),gt&&(Q=ht)}else if(le>me){const ge=K(pt(r,Y,1.1));let Ge=!0;n.enemies.forEach(Pe=>{const Xe=i[Pe.id];if(Xe){let ht=12;Pe.type==="melee"?ht=12+Pe.level*.8:Pe.type==="ranged"?ht=10+Pe.level*.6:ht=14+Pe.level*1,O(ge,Xe,18,ht+2)&&(Ge=!1)}}),Ge&&(Q=ge)}else Q={x:r.x+Math.sin(A/300)*.2,y:r.y+Math.cos(A/300)*.2}}}else Q={x:r.x+Math.sin(A/2e3)*.5,y:r.y+Math.cos(A/3e3)*.3};const V=S(Q.x,Q.y);H={x:p.x+(V.x-p.x)*.1,y:p.y+(V.y-p.y)*.1,zoom:p.zoom};const ee={...i},ue={...v};n.enemies.forEach((G,Y)=>{const le=ee[G.id]||{x:Sn-120,y:nn/2};if(G.hp<=0){ue[G.id]||(ue[G.id]=Date.now());return}const me=Q.x-le.x,ge=Q.y-le.y,Ge=Math.hypot(me,ge)||1,Pe={x:le.x+me/Ge*.3,y:le.y+ge/Ge*.3};let Xe=12;if(G.type==="melee"?Xe=12+G.level*.8:G.type==="ranged"?Xe=10+G.level*.6:Xe=14+G.level*1,!O(Pe,Q,Xe+2,18)){let ht=!0;n.enemies.forEach(gt=>{if(gt.id!==G.id){const St=ee[gt.id];if(St){let tn=12;gt.type==="melee"?tn=12+gt.level*.8:gt.type==="ranged"?tn=10+gt.level*.6:tn=14+gt.level*1,O(Pe,St,Xe+1,tn+1)&&(ht=!1)}}}),ht&&(ee[G.id]=Pe)}}),E=ee,U=ue;const at=u.map(G=>({...G,x:G.x+G.vx,y:G.y+G.vy,life:G.life-Z})),$e=[...h];$=at.filter(G=>{if(G.life<=0)return!1;let Y=!1;return n.enemies.forEach(le=>{const me=E[le.id];if(me&&!Y){let ge=12;le.type==="melee"?ge=12+le.level*.8:le.type==="ranged"?ge=10+le.level*.6:ge=14+le.level*1,O({x:G.x,y:G.y},me,G.radius,ge)&&($e.push({kind:"impact",x:G.x,y:G.y,t:Date.now(),ttl:300,color:G.color,size:G.size*2}),Y=!0)}}),!Y}),ke=$e.filter(G=>Date.now()-G.t<G.ttl),q.current.calculatedPlayerPos=Q,q.current.calculatedEnemyPositions=E,q.current.calculatedProjectiles=$,q.current.calculatedEffects=ke,q.current.calculatedDying=U,q.current.calculatedCamera=H,L=requestAnimationFrame(d)}return L=requestAnimationFrame(d),()=>cancelAnimationFrame(L)},[n.enemies,n.player,n.log,f,r,i,p,u,h,v]),M.useEffect(()=>{const R=setInterval(()=>{const d=q.current;d.calculatedPlayerPos&&(a(d.calculatedPlayerPos),l.updatePlayerPosition(d.calculatedPlayerPos)),d.calculatedEnemyPositions&&o(d.calculatedEnemyPositions),d.calculatedProjectiles&&c(d.calculatedProjectiles),d.calculatedEffects&&g(d.calculatedEffects),d.calculatedDying&&w(d.calculatedDying),d.calculatedCamera&&x(d.calculatedCamera)},16);return()=>clearInterval(R)},[]);const ie=M.useCallback(()=>{const L=performance.now();if(L-_.current<b)return;_.current=L,z=0;const R=t.current;if(!R)return;const d=R.getContext("2d");if(!d)return;d.clearRect(0,0,R.width,R.height),d.fillStyle="#071024",d.fillRect(0,0,R.width,R.height),d.strokeStyle="#334155",d.lineWidth=2,d.strokeRect(10,10,R.width-20,R.height-20),n.enemies.forEach((E,$)=>{const ke=i[E.id]||{x:Sn-120-$*28,y:nn/2+$*36},U=B(ke.x,ke.y),H=v[E.id],V=E.hp<=0&&H?Math.max(0,1-(Date.now()-H)/1500):1;d.save(),d.globalAlpha=V;let ee=12;E.type==="melee"?(d.fillStyle="#dc2626",ee=12+E.level*.8):E.type==="ranged"?(d.fillStyle="#f97316",ee=10+E.level*.6):(d.fillStyle="#a78bfa",ee=14+E.level*1),d.beginPath(),d.arc(U.x,U.y,ee*p.zoom,0,Math.PI*2),d.fill(),d.fillStyle="#ffffff",E.type==="melee"?(d.beginPath(),d.moveTo(U.x-8*p.zoom,U.y-18*p.zoom),d.lineTo(U.x-2*p.zoom,U.y-26*p.zoom),d.lineTo(U.x+4*p.zoom,U.y-18*p.zoom),d.fill()):E.type==="ranged"?(d.beginPath(),d.arc(U.x,U.y-6*p.zoom,6*p.zoom,Math.PI*.2,Math.PI*.8),d.lineWidth=2,d.strokeStyle="#ffffff",d.stroke()):(d.beginPath(),d.arc(U.x,U.y,(ee+6)*p.zoom,0,Math.PI*2),d.strokeStyle="rgba(255,255,255,0.06)",d.lineWidth=2,d.stroke()),he(d,U.x,U.y-(ee+15)*p.zoom,40*p.zoom,6*p.zoom,E.hp,E.maxHp,V),en(d,`Lv.${E.level}`,U.x,U.y-(ee+25)*p.zoom,V),d.restore()});const A=B(r.x,r.y),Z=32*p.zoom;let Q=0;if(n.enemies.length===0&&(Q=Math.sin(N*2)*2*p.zoom),d.save(),f.active&&(d.translate(A.x,A.y+Q),d.rotate(f.rotation),d.translate(-A.x,-A.y-Q),d.shadowColor="#ffffff",d.shadowBlur=8*p.zoom),d.fillStyle=f.active?"#ffffff":"#000000",d.fillRect(A.x-Z/2,A.y-Z/2+Q,Z,Z),d.restore(),he(d,A.x,A.y-35*p.zoom+Q,50*p.zoom,8*p.zoom,n.player.hp,n.player.maxHp,1),en(d,`Lv.${n.player.level}`,A.x,A.y-50*p.zoom+Q,1),k){const E=n.player.skillBar.slots.find($=>($==null?void 0:$.id)==="whirlwind");if(E){d.save();const $=E.scaling.baseArea+(E.level-1)*E.scaling.areaPerLevel,ke=$*30,U=ke*p.zoom;d.globalAlpha=.3,d.strokeStyle="#00ff00",d.lineWidth=3*p.zoom,d.setLineDash([8*p.zoom,4*p.zoom]),d.beginPath(),d.arc(A.x,A.y+Q,U,0,Math.PI*2),d.stroke(),d.globalAlpha=.8,d.fillStyle="#00ff00",d.font=`${12*p.zoom}px Arial`,d.textAlign="center",d.fillText(`AOE: ${Math.round(ke)}px`,A.x,A.y+Q+U+15*p.zoom),d.fillText(`Area: ${$.toFixed(1)}x | Level: ${E.level}`,A.x,A.y+Q+U+30*p.zoom),d.setLineDash([]),d.restore()}}u.forEach(E=>{const $=B(E.x,E.y);d.save(),E.glow&&(d.shadowColor=E.color,d.shadowBlur=10*p.zoom),d.fillStyle=E.color,d.beginPath(),d.arc($.x,$.y,E.radius*p.zoom,0,Math.PI*2),d.fill(),d.restore()}),h.forEach(E=>{const $=B(E.x,E.y),ke=Date.now()-E.t,U=Math.min(1,ke/E.ttl);if(E.kind==="damage"||E.kind==="player_damage"||E.kind==="dodge"||E.kind==="miss"||E.kind==="block"){d.save(),d.globalAlpha=1-U,d.fillStyle=E.color,E.kind==="dodge"||E.kind==="miss"||E.kind==="block"?(d.font=`bold ${(E.size||16)*p.zoom}px Arial`,d.strokeStyle="#000",d.lineWidth=2*p.zoom):d.font=`${(E.size||16)*p.zoom}px bold sans-serif`,d.textAlign="center";const H=$.y-U*20*p.zoom;(E.kind==="dodge"||E.kind==="miss"||E.kind==="block")&&d.strokeText(E.text||"",$.x,H),d.fillText(E.text||"",$.x,H),d.restore()}else if(E.kind==="impact"){d.save(),d.globalAlpha=(1-U)*.8,d.fillStyle=E.color;const H=(E.size||8)*U*2;d.beginPath(),d.arc($.x,$.y,H,0,Math.PI*2),d.fill(),d.globalAlpha=(1-U)*.4,d.fillStyle="#ffffff",d.beginPath(),d.arc($.x,$.y,H*.5,0,Math.PI*2),d.fill(),d.restore()}else if(E.kind==="slash"){d.save(),d.globalAlpha=(1-U)*.9;const H=E.angle||0,V=(E.size||30)*p.zoom,ee=4*p.zoom*(1-U*.5),ue=Math.sin(U*Math.PI),at=V*ue,$e=$.x-Math.cos(H)*at/2,Xn=$.y-Math.sin(H)*at/2,st=$.x+Math.cos(H)*at/2,G=$.y+Math.sin(H)*at/2;d.strokeStyle=E.color,d.lineWidth=ee,d.lineCap="round",d.beginPath(),d.moveTo($e,Xn),d.lineTo(st,G),d.stroke(),d.globalAlpha=(1-U)*.6,d.strokeStyle="#ffffff",d.lineWidth=ee*.4,d.beginPath(),d.moveTo($e,Xn),d.lineTo(st,G),d.stroke(),U<.7&&(d.globalAlpha=(1-U)*.8,d.fillStyle=E.color,d.beginPath(),d.arc($e,Xn,2*p.zoom,0,Math.PI*2),d.fill(),d.beginPath(),d.arc(st,G,2*p.zoom,0,Math.PI*2),d.fill()),d.restore()}else if(E.kind==="explosion"){d.save();const H=Math.min(1,ke/E.ttl);d.globalAlpha=(1-H)*.8;const V=(E.size||15)*H*1.5;d.fillStyle=E.color,d.beginPath(),d.arc($.x,$.y,V,0,Math.PI*2),d.fill(),d.globalAlpha=(1-H)*.6,d.fillStyle="#ffff88",d.beginPath(),d.arc($.x,$.y,V*.6,0,Math.PI*2),d.fill(),d.restore()}else if(E.kind==="lightning"){d.save();const H=Math.min(1,ke/E.ttl);d.globalAlpha=(1-H)*.9,d.strokeStyle=E.color,d.lineWidth=3*p.zoom,d.lineCap="round";const V=6,ee=(E.size||12)*p.zoom;d.beginPath(),d.moveTo($.x,$.y-ee);for(let ue=1;ue<=V;ue++){const at=$.y-ee+ue/V*ee*2,$e=$.x+(Math.random()-.5)*20*p.zoom;d.lineTo($e,at)}d.stroke(),d.globalAlpha=(1-H)*.7,d.strokeStyle="#ffffff",d.lineWidth=1*p.zoom,d.stroke(),d.restore()}else if(E.kind==="power_strike"){d.save();const H=Math.min(1,ke/E.ttl);d.globalAlpha=(1-H)*.8;const V=(E.size||16)*H*2;d.strokeStyle=E.color,d.lineWidth=4*p.zoom,d.beginPath(),d.arc($.x,$.y,V,0,Math.PI*2),d.stroke(),d.globalAlpha=(1-H)*.5,d.fillStyle="#ffff00",d.beginPath(),d.arc($.x,$.y,V*.3,0,Math.PI*2),d.fill(),d.restore()}else if(E.kind==="pickup")d.save(),d.globalAlpha=1-U,d.fillStyle=E.color,d.font=`${14*p.zoom}px sans-serif`,d.textAlign="center",d.fillText(E.text||"",$.x,$.y),d.restore();else if(E.kind==="impact")d.save(),d.globalAlpha=1-U,d.strokeStyle=E.color,d.lineWidth=2,d.beginPath(),d.arc(E.x,E.y,U*20,0,Math.PI*2),d.stroke(),d.restore();else if(E.kind==="whirlwind"){const V=B(r.x,r.y),ue=Date.now()-E.t,$e=ue*.008;d.save();const st=Math.max(.7,1-U)+Math.sin(ue*.01)*.2;for(let Y=0;Y<4;Y++){const le=(Y+1)/4,me=(30+Y*12)*p.zoom,ge=$e*(1+Y*.3);d.globalAlpha=st*(1-le*.2),d.strokeStyle=Y===0?"#FFFFFF":"#F0F0F0",d.lineWidth=(4-Y)*p.zoom,d.beginPath(),d.setLineDash([15*p.zoom,8*p.zoom]),d.lineDashOffset=ge*30,d.arc(V.x,V.y,me,0,Math.PI*2),d.stroke()}d.globalAlpha=st*.9,d.fillStyle="#FFFFFF",d.beginPath(),d.arc(V.x,V.y,8*p.zoom,0,Math.PI*2),d.fill(),d.globalAlpha=st*.8,d.strokeStyle="#FFFFFF",d.lineWidth=2*p.zoom;for(let Y=0;Y<6;Y++){const le=$e*2+Y*Math.PI/3,me=25*p.zoom,ge=V.x+Math.cos(le)*me,Ge=V.y+Math.sin(le)*me,Pe=V.x+Math.cos(le+.5)*(me+15*p.zoom),Xe=V.y+Math.sin(le+.5)*(me+15*p.zoom);d.beginPath(),d.moveTo(ge,Ge),d.lineTo(Pe,Xe),d.stroke()}d.globalAlpha=st*.7,d.fillStyle="#FFD54F";for(let Y=0;Y<8;Y++){const le=$e*3+Y*Math.PI/4,me=(35+Math.sin(ue*.005+Y)*10)*p.zoom,ge=V.x+Math.cos(le)*me,Ge=V.y+Math.sin(le)*me,Pe=(2+Math.sin(ue*.01+Y)*1)*p.zoom;d.beginPath(),d.arc(ge,Ge,Pe,0,Math.PI*2),d.fill()}d.globalAlpha=.3+Math.sin(ue*.008)*.1,d.strokeStyle="#ff6b6b",d.lineWidth=3*p.zoom,d.setLineDash([10*p.zoom,5*p.zoom]),d.lineDashOffset=ue*.01;const G=n.player.skillBar.slots.find(Y=>(Y==null?void 0:Y.name)==="Whirlwind");if(G){const me=(G.scaling.baseArea+(G.level-1)*G.scaling.areaPerLevel)*30*p.zoom;d.beginPath(),d.arc(V.x,V.y,me,0,Math.PI*2),d.stroke()}d.setLineDash([]),d.restore()}else if(E.kind==="heal"){const H=B(r.x,r.y);d.save(),d.globalAlpha=1-U,d.fillStyle=E.color;for(let V=0;V<8;V++){const ee=V/8*Math.PI*2+U*Math.PI*2,ue=30*p.zoom*(1-U*.5),at=H.x+Math.cos(ee)*ue,$e=H.y+Math.sin(ee)*ue;d.beginPath(),d.arc(at,$e,3*p.zoom,0,Math.PI*2),d.fill()}d.restore()}})},[n.enemies,i,r,u,h,v,p,N,f,B]);function he(L,R,d,A,Z,Q,E,$){const ke=Math.max(0,Math.min(1,Q/E));L.fillStyle=`rgba(31,41,55,${$})`,L.fillRect(R-A/2,d-Z/2,A,Z);const U=L.createLinearGradient(R-A/2,d,R+A/2,d);U.addColorStop(0,"#16a34a"),U.addColorStop(1,"#dc2626"),L.fillStyle=U,L.globalAlpha=$,L.fillRect(R-A/2,d-Z/2,A*ke,Z),L.globalAlpha=1,L.strokeStyle=`rgba(0,0,0,${.6*$})`,L.lineWidth=1,L.strokeRect(R-A/2,d-Z/2,A,Z)}function en(L,R,d,A,Z){L.fillStyle=`rgba(255,255,255,${Z})`,L.font="12px sans-serif",L.textAlign="center",L.fillText(R,d,A)}return M.useEffect(()=>{let L;const R=()=>{ie(),L=requestAnimationFrame(R)};return L=requestAnimationFrame(R),()=>cancelAnimationFrame(L)},[ie]),s.jsx("div",{className:"game-canvas-container",children:s.jsx("canvas",{ref:t,width:Sn,height:nn,className:"game-canvas"})})});function ch(e){return{Common:"text-gray-400",Uncommon:"text-green-400",Rare:"text-blue-400",Epic:"text-purple-400",Legendary:"text-yellow-400"}[e||"Common"]||"text-gray-400"}function dh(e){return{fire:"text-red-400",ice:"text-blue-300",lightning:"text-yellow-300",poison:"text-green-300",physical:"text-gray-300"}[e||"physical"]||"text-gray-300"}function fh(e){return{fire:"🔥",ice:"❄️",lightning:"⚡",poison:"☠️",physical:"⚔️"}[e||"physical"]||"⚔️"}function mh(e){return{Common:.05,Uncommon:.08,Rare:.12,Epic:.18,Legendary:.25}[e||"Common"]||.05}const eu=vn.memo(function(){var h,g,v,w,p,x,N,m,f,y,k,C,_;const{state:t,actions:n}=rt(),l=t.player,r=t.skills||{},a=M.useMemo(()=>{var S;const j=Math.pow(1.05,r.power||0),b=(l.attackSpeed||1)*(1+(r.quick||0)*.05),I=(l.projectileSpeed||1)*(1+(r.arcane||0)*.1),z=(l.baseDps+(((S=l.equipped)==null?void 0:S.power)||0))*j+(l.dps-l.baseDps),J=(z*b).toFixed(1);return{powerMultiplier:j,attackSpeed:b,projectileSpeed:I,totalDps:z,estimatedDps:J}},[l.attackSpeed,l.baseDps,l.dps,(h=l.equipped)==null?void 0:h.power,r]),i=M.useMemo(()=>{var b;let j=0;return l.equipment&&Object.values(l.equipment).forEach(I=>{var z,J;(z=I==null?void 0:I.baseStats)!=null&&z.damage&&(j+=I.baseStats.damage),(J=I==null?void 0:I.affixes)==null||J.forEach(S=>{S.stat==="damage"&&(j+=S.value)})}),(b=l.equipped)!=null&&b.power&&(j+=l.equipped.power),j},[l.equipment,(g=l.equipped)==null?void 0:g.power]),o=M.useMemo(()=>{const j=l.baseDps||0,b=(r.power||0)*5;return Math.floor((j+i+b)*a.powerMultiplier)},[l.baseDps,r,i,a.powerMultiplier]),u=M.useMemo(()=>{var j;return{totalCritChance:((l.critChance||0)+mh((j=l.equipped)==null?void 0:j.rarity))*100,dodgeChance:(l.dodgeChance||0)*100,blockChance:(l.blockChance||0)*100,lifeSteal:(l.lifeSteal||0)*100,armor:l.armor||0,healthRegen:l.healthRegen||0,manaRegen:l.manaRegen||0}},[l.critChance,(v=l.equipped)==null?void 0:v.rarity,l.dodgeChance,l.blockChance,l.lifeSteal,l.armor,l.healthRegen,l.manaRegen]),c=M.useCallback(()=>{n.resetAll()},[n]);return s.jsxs("div",{className:"h-full flex flex-col bg-gray-900/95 text-white",children:[s.jsx("div",{className:"p-3 border-b border-gray-600",children:s.jsx("h2",{className:"text-lg font-bold text-center",children:"👤 Character Stats"})}),s.jsxs("div",{className:"flex-1 p-3 space-y-2 overflow-y-auto text-xs",children:[s.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700",children:[s.jsx("h3",{className:"text-xs font-semibold text-blue-300 mb-1",children:"📊 Basic Info"}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Level:"}),s.jsx("strong",{className:"text-blue-400",children:l.level})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"XP:"}),s.jsxs("span",{className:"text-green-400",children:[l.xp,"/",l.nextLevelXp]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"HP:"}),s.jsxs("span",{className:"text-red-400",children:[Math.floor(l.hp),"/",Math.floor(l.maxHp)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Mana:"}),s.jsxs("span",{className:"text-blue-400",children:[Math.floor(l.mana||0),"/",Math.floor(l.maxMana||50)]})]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700",children:[s.jsx("h3",{className:"text-xs font-semibold text-purple-300 mb-1",children:"💪 Attributes"}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Strength:"}),s.jsx("span",{className:"text-red-400",children:(((w=l.attributes)==null?void 0:w.strength)||10)+(((p=l.calculatedStats)==null?void 0:p.strength)||0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Dexterity:"}),s.jsx("span",{className:"text-green-400",children:(((x=l.attributes)==null?void 0:x.dexterity)||10)+(((N=l.calculatedStats)==null?void 0:N.dexterity)||0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Intelligence:"}),s.jsx("span",{className:"text-blue-400",children:(((m=l.attributes)==null?void 0:m.intelligence)||10)+(((f=l.calculatedStats)==null?void 0:f.intelligence)||0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Vitality:"}),s.jsx("span",{className:"text-orange-400",children:(((y=l.attributes)==null?void 0:y.vitality)||10)+(((k=l.calculatedStats)==null?void 0:k.vitality)||0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Luck:"}),s.jsx("span",{className:"text-yellow-400",children:(((C=l.attributes)==null?void 0:C.luck)||5)+(((_=l.calculatedStats)==null?void 0:_.luck)||0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Attr Points:"}),s.jsx("span",{className:"text-purple-400",children:l.attributePoints||0})]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700",children:[s.jsx("h3",{className:"text-xs font-semibold text-red-300 mb-1",children:"⚔️ Offensive"}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Base DPS:"}),s.jsx("span",{className:"text-orange-400",children:l.baseDps})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total DPS:"}),s.jsx("span",{className:"text-orange-300",children:l.dps})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Power:"}),s.jsx("span",{className:"text-purple-400",children:o})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Est. DPS:"}),s.jsx("span",{className:"text-yellow-400",children:a.estimatedDps})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Attack Speed:"}),s.jsxs("span",{className:"text-yellow-300",children:[a.attackSpeed.toFixed(1),"x"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Crit Chance:"}),s.jsxs("span",{className:"text-red-400",children:[u.totalCritChance.toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Life Steal:"}),s.jsxs("span",{className:"text-pink-400",children:[u.lifeSteal.toFixed(1),"%"]})]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700",children:[s.jsx("h3",{className:"text-xs font-semibold text-blue-300 mb-1",children:"🛡️ Defensive"}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Armor:"}),s.jsx("span",{className:"text-gray-300",children:u.armor.toFixed(1)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Dodge:"}),s.jsxs("span",{className:"text-green-400",children:[u.dodgeChance.toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Block:"}),s.jsxs("span",{className:"text-blue-400",children:[u.blockChance.toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"HP Regen:"}),s.jsxs("span",{className:"text-red-300",children:[u.healthRegen.toFixed(1),"/s"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"MP Regen:"}),s.jsxs("span",{className:"text-blue-300",children:[u.manaRegen.toFixed(1),"/s"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Proj Speed:"}),s.jsxs("span",{className:"text-cyan-400",children:[a.projectileSpeed.toFixed(1),"x"]})]})]})]}),(()=>{var b,I,z;const j=((b=l.equipment)==null?void 0:b.weapon)||l.equipped;return j?s.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700",children:[s.jsx("h3",{className:"text-xs font-semibold text-yellow-300 mb-1",children:"🗡️ Equipped Weapon"}),s.jsxs("div",{className:"text-xs space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Type:"}),s.jsx("span",{className:"text-gray-300",children:j.type||j.name||"None"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Rarity:"}),s.jsx("span",{className:ch(j.rarity),children:j.rarity||"Common"})]}),j.element&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Element:"}),s.jsxs("span",{className:dh(j.element),children:[fh(j.element)," ",j.element]})]}),(j.power||((I=j.baseStats)==null?void 0:I.damage))&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Power:"}),s.jsxs("span",{className:"text-orange-400",children:["+",j.power||((z=j.baseStats)==null?void 0:z.damage)||0]})]})]})]}):s.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700",children:[s.jsx("h3",{className:"text-xs font-semibold text-yellow-300 mb-1",children:"🗡️ Equipped Weapon"}),s.jsx("div",{className:"text-xs",children:s.jsx("span",{className:"text-gray-500",children:"No weapon equipped"})})]})})(),s.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700",children:[s.jsx("h3",{className:"text-xs font-semibold text-yellow-300 mb-1",children:"💰 Resources"}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"💰 Gold:"}),s.jsx("span",{className:"text-yellow-400",children:l.gold})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"🔮 Skill Points:"}),s.jsx("span",{className:"text-purple-400",children:l.skillPoints})]})]})]}),s.jsx("button",{onClick:c,className:"w-full bg-red-600 hover:bg-red-700 text-white py-1.5 px-3 rounded text-xs font-medium transition-colors",children:"🔄 Reset Character"})]})]})}),ph={Common:"#9ca3af",Magic:"#06b6d4",Rare:"#8b5cf6",Unique:"#fbbf24",Legendary:"#ff6b6b"},hh={fire:"#ff6b6b",ice:"#74c0fc",lightning:"#ffd43b",poison:"#51cf66"},gh={fire:"🔥",ice:"❄️",lightning:"⚡",poison:"☠️"};function ln(e){return e&&ph[e]||"#9ca3af"}function yh(e){return!e||e==="physical"?"":hh[e]||""}function tu(e){return!e||e==="physical"?"":gh[e]||""}const vh=M.memo(({slot:e,equippedItem:t,onUnequip:n,player:l})=>{var a;const r=M.useCallback(i=>{t&&(i.preventDefault(),n(e.id))},[n,e.id,t]);return s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"text-center mb-2",children:s.jsx("div",{className:"text-xs font-medium text-gray-400",children:e.name})}),s.jsx("div",{className:"relative bg-gray-800/70 border-2 rounded-xl p-3 h-20 flex flex-col items-center justify-center hover:bg-gray-700/70 transition-all cursor-pointer",style:{borderColor:t?ln(t.rarity):"#4b5563",boxShadow:t?`0 0 15px ${ln(t.rarity)}20`:"none"},onContextMenu:r,children:t?s.jsxs("div",{className:"text-center relative",children:[s.jsxs("div",{className:"text-2xl mb-1 relative",children:[e.icon,s.jsx("div",{className:"absolute inset-0 blur-sm opacity-50",style:{color:ln(t.rarity)},children:e.icon})]}),s.jsx("div",{className:"text-xs font-bold px-2 py-0.5 rounded-full bg-gray-900/80",style:{color:ln(t.rarity)},children:t.power?`+${t.power}`:(a=t.baseStats)!=null&&a.damage?`+${Math.floor(t.baseStats.damage)}`:"+?"}),t.damageType&&t.damageType!=="physical"&&s.jsx("div",{className:"absolute -top-1 -right-1 text-xs",children:tu(t.damageType)})]}):s.jsxs("div",{className:"text-center opacity-40",children:[s.jsx("div",{className:"text-2xl mb-1",children:e.icon}),s.jsx("div",{className:"text-xs text-gray-500",children:"Empty"})]})}),t&&s.jsx("div",{className:"text-center mt-2",children:s.jsx("div",{className:"text-xs font-bold truncate px-1",style:{color:ln(t.rarity)},title:t.name,children:t.name})}),t&&s.jsx("div",{className:"absolute right-full top-1/2 transform -translate-y-1/2 mr-3 opacity-0 group-hover:opacity-100 transition-all duration-200 z-20 pointer-events-none",children:s.jsxs("div",{className:"bg-gray-900/95 border-2 rounded-lg p-4 text-xs whitespace-nowrap shadow-2xl backdrop-blur-sm",style:{borderColor:ln(t.rarity)},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"text-lg",children:e.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-sm",style:{color:ln(t.rarity)},children:t.name}),s.jsxs("div",{className:"text-gray-400 text-xs",children:[t.type," • ",t.rarity]})]}),t.damageType&&t.damageType!=="physical"&&s.jsx("div",{className:"text-lg",children:tu(t.damageType)})]}),s.jsxs("div",{className:"border-t border-gray-700 pt-2",children:[t.power&&s.jsxs("div",{className:"text-orange-400 font-medium",children:["Power: +",t.power]}),t.baseStats&&s.jsxs("div",{className:"text-orange-400 font-medium",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Base Stats:"}),Object.entries(t.baseStats).map(([i,o])=>s.jsxs("div",{className:"text-xs",children:[i,": +",typeof o=="number"?Math.round(o*100)/100:String(o)]},i))]}),t.damageType&&t.damageType!=="physical"&&s.jsxs("div",{style:{color:yh(t.damageType)},children:["Damage Type: ",t.damageType]}),t.requirements&&Object.keys(t.requirements).length>0&&s.jsxs("div",{className:"mt-1 pt-1 border-t border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Requirements:"}),Object.entries(t.requirements).map(([i,o])=>{var h;const u=((h=l.attributes)==null?void 0:h[i])||0,c=u>=o;return s.jsxs("div",{className:`text-xs ${c?"text-green-400":"text-red-400"}`,children:[i,": ",o," (",u,")"]},i)})]}),t.affixes&&t.affixes.length>0&&s.jsxs("div",{className:"mt-1 pt-1 border-t border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Affixes:"}),t.affixes.map((i,o)=>s.jsxs("div",{className:"text-blue-300 text-xs",children:[i.name,": +",Math.round(i.value*100)/100]},o))]}),t.extras&&t.extras.length>0&&s.jsxs("div",{className:"mt-1 pt-1 border-t border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Bonuses:"}),t.extras.map((i,o)=>s.jsxs("div",{className:"text-blue-300 text-xs",children:[i.key,": +",i.val]},o))]})]})]})})]})}),xh=M.memo(function(){const{state:t,dispatch:n}=rt(),l=t.player,r=M.useMemo(()=>{const c={};return Ko.forEach(h=>{if(l.equipment&&l.equipment[h.id])c[h.id]=l.equipment[h.id];else if(l.equipped&&h.id==="weapon"){const g=l.equipped.type;(g==="melee"||g==="ranged")&&(c[h.id]=l.equipped)}}),c},[l.equipment,l.equipped]),a=M.useCallback(c=>r[c]||null,[r]),i=M.useMemo(()=>{var h;let c=0;return l.equipment&&(c+=Object.keys(l.equipment).length),l.equipped&&!((h=l.equipment)!=null&&h.weapon)&&(c+=1),c},[l.equipment,l.equipped]),o=M.useCallback(c=>{n({type:"UNEQUIP",payload:c})},[n]),u=M.useCallback(c=>{const h=a(c.id);return s.jsx(vh,{slot:c,equippedItem:h,onUnequip:o,player:l},c.id)},[a,o]);return s.jsxs("div",{className:"h-full flex flex-col bg-gray-900/95 text-white",children:[s.jsx("div",{className:"p-4 border-b border-gray-600",children:s.jsx("h2",{className:"text-xl font-bold text-center",children:"⚔️ EQUIPMENT"})}),s.jsx("div",{className:"flex-1 p-4",children:s.jsx("div",{className:"grid grid-cols-2 gap-3 h-full",children:Ko.map(u)})}),s.jsx("div",{className:"p-4 border-t border-gray-600",children:s.jsx("div",{className:"text-center text-sm text-gray-400",children:i===0?s.jsx("span",{children:"No equipment"}):i===1?s.jsx("span",{children:"1 item equipped"}):s.jsxs("span",{children:[i," items equipped"]})})})]})}),kh=[{key:"strength",name:"Strength",desc:At.strength,max:10},{key:"endurance",name:"Endurance",desc:At.endurance,max:10},{key:"agility",name:"Agility",desc:At.agility,max:10},{key:"precision",name:"Precision",desc:At.precision,max:10},{key:"quick",name:"Quick Reflexes",desc:At.quick,max:10},{key:"vitality",name:"Vitality",desc:At.vitality,max:10},{key:"fortune",name:"Fortune",desc:At.fortune,max:10},{key:"resilience",name:"Resilience",desc:At.resilience,max:10}];function wh(){const{state:e,dispatch:t}=rt(),n=e.skills||{};function l(r){e.player.skillPoints<=0||t({type:"UPGRADE_SKILL",payload:r})}return s.jsxs("div",{className:"panel p-4 h-full flex flex-col",children:[s.jsx("h2",{className:"text-lg font-bold mb-3",children:"Skill Tree"}),s.jsxs("div",{className:"mb-3 text-yellow-400 text-sm",children:["Skill Points: ",e.player.skillPoints]}),s.jsx("div",{className:"space-y-2 flex-1 scrollable-panel",children:kh.map(r=>{const a=n[r.key]??0,i=a>=r.max,o=e.player.skillPoints>0&&!i;return s.jsxs("div",{className:"bg-gray-700 p-3 rounded border border-gray-600",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-bold text-white",children:[r.name,s.jsxs("span",{className:"ml-2 text-sm text-gray-400",children:["(",a,"/",r.max,")"]})]}),s.jsx("div",{className:"text-sm text-gray-300 mt-1",children:r.desc})]}),s.jsx("button",{className:`ml-3 px-3 py-1 rounded text-sm font-medium ${i?"bg-green-600 text-white cursor-default":o?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,onClick:()=>l(r.key),disabled:!o,children:i?"MAX":"+"})]}),a>0&&s.jsx("div",{className:"mt-2 bg-gray-600 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${a/r.max*100}%`}})})]},r.key)})})]})}const Sh={Common:"#9ca3af",Magic:"#06b6d4",Rare:"#8b5cf6",Unique:"#fbbf24",Legendary:"#ff6b6b"},jh={fire:"#ff6b6b",ice:"#74c0fc",lightning:"#ffd43b",poison:"#51cf66"},Nh={fire:"🔥",ice:"❄️",lightning:"⚡",poison:"☠️"};function Ch(e){return e&&Sh[e]||"#9ca3af"}function Ph(e){return!e||e==="physical"?"":jh[e]||""}function Mh(e){return!e||e==="physical"?"":Nh[e]||""}const Eh=M.memo(({item:e,viewMode:t,onEquip:n,onSell:l})=>{const r=M.useCallback(()=>n(e.id),[n,e.id]),a=M.useCallback(()=>l(e.id),[l,e.id]);return s.jsx("div",{className:`bg-gray-700 rounded border border-gray-600 ${t==="grid"?"p-2":"p-3"}`,children:s.jsxs("div",{className:`${t==="grid"?"flex flex-col":"flex justify-between items-start"}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:`font-bold ${t==="grid"?"text-xs":"text-sm"}`,style:{color:Ch(e.rarity)},children:[t==="grid"?(e.name||"Unnamed Item").split(" ").slice(0,2).join(" "):e.name||"Unnamed Item"," ",Mh(e.damageType)]}),s.jsxs("div",{className:`text-gray-300 ${t==="grid"?"text-xs":"text-sm"}`,children:[e.baseStats?s.jsxs(s.Fragment,{children:[e.baseStats.damage&&`Damage: ${Math.floor(e.baseStats.damage)}`,e.baseStats.armor&&`Armor: ${Math.floor(e.baseStats.armor)}`,e.baseStats.health&&` • HP: +${Math.floor(e.baseStats.health)}`,e.category&&` • ${e.category}`,e.slot&&` • ${e.slot}`]}):s.jsxs(s.Fragment,{children:["Power: +",e.power," • ",e.type]}),e.damageType&&e.damageType!=="physical"&&s.jsxs("span",{style:{color:Ph(e.damageType)},children:[" • ",e.damageType]})]}),e.affixes&&e.affixes.length>0&&t==="list"&&s.jsx("div",{className:"text-xs text-blue-300 mt-1",children:e.affixes.map(i=>`${i.name}: +${i.value}`).join(", ")}),e.extras&&e.extras.length>0&&t==="list"&&s.jsx("div",{className:"text-xs text-blue-300 mt-1",children:e.extras.map(i=>`${i.key}: +${i.val}`).join(", ")}),e.requirements&&t==="list"&&s.jsxs("div",{className:"text-xs text-orange-300 mt-1",children:["Requires: ",Object.entries(e.requirements).map(([i,o])=>`${i}: ${o}`).join(", ")]}),s.jsxs("div",{className:"text-yellow-400 mt-1 text-xs",children:["Value: ",e.value," gold"]})]}),s.jsxs("div",{className:`flex gap-1 ${t==="grid"?"mt-2":"ml-3"}`,children:[s.jsx("button",{className:`bg-blue-600 hover:bg-blue-700 rounded text-xs transition-all ${t==="grid"?"px-1 py-0.5 flex-1":"px-2 py-1"}`,onClick:r,children:t==="grid"?"⚡":"Equip"}),s.jsx("button",{className:`bg-red-600 hover:bg-red-700 rounded text-xs transition-all ${t==="grid"?"px-1 py-0.5 flex-1":"px-2 py-1"}`,onClick:a,children:t==="grid"?"🗑️":"Discard"})]})]})})}),Lh=M.memo(function(){const{state:t,dispatch:n,actions:l}=rt(),[r,a]=M.useState(0),[i,o]=M.useState("list"),u=i==="grid"?6:4,c=10,h=M.useMemo(()=>t.inventory.slice().sort((m,f)=>{var j,b,I,z;const y=["Legendary","Unique","Rare","Magic","Common"],k=y.indexOf(m.rarity)-y.indexOf(f.rarity);if(k!==0)return k;const C=m.power||((j=m.baseStats)==null?void 0:j.damage)||((b=m.baseStats)==null?void 0:b.armor)||0;return(f.power||((I=f.baseStats)==null?void 0:I.damage)||((z=f.baseStats)==null?void 0:z.armor)||0)-C}),[t.inventory]),g=M.useMemo(()=>{const m=Math.min(c,Math.ceil(h.length/u)),f=c*u,y=h.slice(0,f),k=r*u,C=y.slice(k,k+u),_=h.length-f;return{totalPages:m,displayInventory:y,currentItems:C,excessItems:_}},[h,r,u,c]),v=M.useMemo(()=>t.inventory.reduce((m,f)=>m+(f.value||0),0),[t.inventory]),w=M.useCallback(()=>{window.confirm(`Sell all ${t.inventory.length} items for ${v} gold?`)&&l.sellAll()},[t.inventory.length,v,l]),p=M.useCallback(m=>{o(m),a(0)},[]),x=M.useCallback(m=>{n({type:"EQUIP",payload:m})},[n]),N=M.useCallback(m=>{n({type:"DISCARD",payload:m})},[n]);return s.jsxs("div",{className:"panel p-4 h-full flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h2",{className:"text-lg font-bold",children:"Inventory"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>p("list"),className:`px-2 py-1 rounded text-xs transition-all ${i==="list"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"📋 List"}),s.jsx("button",{onClick:()=>p("grid"),className:`px-2 py-1 rounded text-xs transition-all ${i==="grid"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"⊞ Grid"})]})]}),s.jsxs("div",{className:"mb-3 flex justify-between items-center",children:[s.jsxs("div",{className:"text-yellow-400 text-sm",children:["Gold: ",Math.floor(t.player.gold)]}),t.inventory.length>0&&s.jsx("button",{onClick:w,className:"px-3 py-1 bg-yellow-600 hover:bg-yellow-700 rounded text-xs transition-all text-black font-bold",children:"💰 Sell All"})]}),g.excessItems>0&&s.jsxs("div",{className:"mb-3 p-2 bg-orange-900/30 border border-orange-600/40 rounded text-orange-300 text-xs",children:["⚠️ ",g.excessItems," excess items converted to gold automatically"]}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Items"}),g.totalPages>1&&s.jsxs("div",{className:"text-xs text-gray-400",children:["Page ",r+1," of ",g.totalPages]})]}),s.jsxs("div",{className:`flex-1 ${i==="grid"?"grid grid-cols-2 gap-2":"space-y-2"}`,children:[g.displayInventory.length===0&&s.jsx("div",{className:"text-gray-400 text-sm col-span-2",children:"No items yet."}),g.currentItems.map(m=>s.jsx(Eh,{item:m,viewMode:i,onEquip:x,onSell:N},m.id))]}),g.totalPages>1&&s.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-gray-600",children:[s.jsx("button",{className:"px-3 py-1 bg-gray-600 hover:bg-gray-500 rounded text-sm disabled:opacity-50 transition-all",onClick:()=>a(m=>Math.max(0,m-1)),disabled:r===0,children:"Previous"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[s.jsxs("span",{children:["Page ",r+1," of ",g.totalPages]}),g.totalPages>=c&&s.jsxs("span",{className:"text-orange-400 text-xs",children:["(Max ",c," pages)"]})]}),s.jsx("button",{className:"px-3 py-1 bg-gray-600 hover:bg-gray-500 rounded text-sm disabled:opacity-50 transition-all",onClick:()=>a(m=>Math.min(g.totalPages-1,m+1)),disabled:r===g.totalPages-1,children:"Next"})]})]})]})});function nu(){const{state:e}=rt(),t=M.useRef(null),[n,l]=M.useState("All");M.useEffect(()=>{t.current&&(t.current.scrollTop=0)},[e.log]);const r=o=>o.includes("BOSS DEFEATED")?s.jsx("span",{className:"text-yellow-400 font-bold",children:o}):o.includes("defeated")?s.jsx("span",{className:"text-green-400",children:o}):o.includes("critical")?s.jsx("span",{className:"text-red-400",children:o}):o.includes("dodged")?s.jsx("span",{className:"text-blue-400",children:o}):o.includes("Level up")?s.jsx("span",{className:"text-purple-400 font-bold",children:o}):o.includes("died")?s.jsx("span",{className:"text-red-500 font-bold",children:o}):o.includes("EXP")||o.includes("exp")?s.jsx("span",{className:"text-green-300",children:o}):o.includes("Gold")||o.includes("gold")?s.jsx("span",{className:"text-yellow-300",children:o}):o.includes("found")||o.includes("dropped")||o.includes("item")?s.jsx("span",{className:"text-blue-300",children:o}):s.jsx("span",{className:"text-gray-300",children:o}),i=(()=>{let o=[...e.log];return n!=="All"&&(o=o.filter(u=>{switch(n){case"EXP":return u.includes("EXP")||u.includes("exp")||u.includes("Level up");case"Gold":return u.includes("Gold")||u.includes("gold");case"Items":return u.includes("found")||u.includes("dropped")||u.includes("item");default:return!0}})),o.slice(-50)})();return s.jsxs("div",{className:"bg-gray-900/95 border border-gray-600 rounded-lg p-4 h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-bold text-white",children:"Combat Log"}),s.jsx("div",{className:"flex space-x-1",children:["All","EXP","Gold","Items"].map(o=>s.jsx("button",{onClick:()=>l(o),className:`px-3 py-1 text-xs font-medium rounded transition-colors ${n===o?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:o},o))})]}),s.jsxs("div",{ref:t,className:"space-y-1 flex-1 overflow-y-auto text-sm bg-gray-800/50 rounded p-3 border border-gray-700",style:{maxHeight:"200px"},children:[i.length===0&&s.jsx("div",{className:"text-gray-500",children:n==="All"?"No combat yet...":`No ${n.toLowerCase()} entries...`}),i.map((o,u)=>s.jsx("div",{className:"font-mono text-xs",children:r(o)},u))]})]})}function bh(){const{state:e,dispatch:t}=rt(),{player:n,enemies:l,log:r}=e,a=l[0],i=u=>!u||u==="physical"?"":{fire:"🔥",ice:"❄️",lightning:"⚡",poison:"☠️"}[u]||"",o=u=>u?{berserker:"💢 Berserker",precise:"🎯 Precise",regeneration:"💚 Regeneration",shield:"🛡️ Shield",poison:"☠️ Poison",freeze:"❄️ Freeze",lightning:"⚡ Lightning",summon:"👥 Summon"}[u]||u:"";return s.jsxs("div",{className:"panel p-4 h-full flex flex-col",children:[s.jsx("h2",{className:"text-lg font-bold mb-3",children:"Combat"}),a&&s.jsxs("div",{className:"mb-4 p-3 bg-red-900 rounded",children:[s.jsxs("h3",{className:"font-bold text-red-200",children:[a.isBoss&&"👑 ",a.name," (Level ",a.level,")",a.isBoss&&" - BOSS"]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:["HP: ",a.hp,"/",a.maxHp]}),s.jsxs("div",{children:["Type: ",a.type]}),a.armor&&s.jsxs("div",{children:["Armor: ",a.armor]}),a.specialAbility&&s.jsx("div",{className:"text-yellow-300",children:o(a.specialAbility)})]})]}),s.jsxs("div",{className:"mb-4 p-3 bg-blue-900 rounded",children:[s.jsxs("h3",{className:"font-bold text-blue-200",children:["Player (Level ",n.level,")"]}),s.jsxs("div",{className:"text-sm grid grid-cols-2 gap-1",children:[s.jsxs("div",{children:["HP: ",n.hp,"/",n.maxHp]}),s.jsxs("div",{children:["DPS: ",n.dps]}),s.jsxs("div",{children:["XP: ",n.xp,"/",n.nextLevelXp]}),s.jsxs("div",{children:["Gold: ",n.gold]}),n.armor&&n.armor>0&&s.jsxs("div",{children:["Armor: ",n.armor]}),n.critChance&&n.critChance>0&&s.jsxs("div",{children:["Crit: ",(n.critChance*100).toFixed(1),"%"]}),n.dodgeChance&&n.dodgeChance>0&&s.jsxs("div",{children:["Dodge: ",(n.dodgeChance*100).toFixed(1),"%"]}),n.lifeSteal&&n.lifeSteal>0&&s.jsxs("div",{children:["Life Steal: ",(n.lifeSteal*100).toFixed(1),"%"]}),n.equipped&&n.equipped.damageType&&n.equipped.damageType!=="physical"&&s.jsxs("div",{children:["Element: ",i(n.equipped.damageType)]})]})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("button",{onClick:()=>t({type:"SPAWN"}),className:"px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm",children:"Spawn Enemy"}),a&&s.jsx("button",{onClick:()=>t({type:"TICK",payload:{enemyId:a.id}}),className:"px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-sm",children:"Combat Tick"}),s.jsxs("button",{onClick:()=>t({type:"TOGGLE_AUTO"}),className:`px-3 py-1 rounded text-sm ${e.autoCombat?"bg-yellow-600 hover:bg-yellow-700":"bg-gray-600 hover:bg-gray-700"}`,children:["Auto: ",e.autoCombat?"ON":"OFF"]})]}),s.jsxs("div",{className:"bg-gray-900 p-3 rounded h-32 overflow-y-auto",children:[s.jsx("h4",{className:"font-bold mb-2",children:"Combat Log"}),s.jsx("div",{className:"text-sm space-y-1",children:r.slice(0,10).map((u,c)=>s.jsx("div",{className:"text-gray-300",children:u},c))})]})]})}function _h({isOpen:e,onClose:t,title:n,children:l}){return M.useEffect(()=>{const r=a=>{a.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e,t]),e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 animate-fade-in",onClick:t}),s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-zoom-in",children:s.jsxs("div",{className:"bg-gray-900 rounded-xl shadow-2xl border border-gray-700 max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:r=>r.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700 bg-gray-800",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:n}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors duration-200 group","aria-label":"Close modal",children:s.jsx("svg",{className:"w-6 h-6 text-gray-400 group-hover:text-gray-200 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)] bg-gray-900",children:l})]})})]}):null}const Th=vn.memo(function({isOpen:t,onClose:n}){const{state:l,actions:r}=rt(),[a,i]=M.useState("skills"),[o,u]=M.useState(null),[c,h]=M.useState(null),[g,v]=M.useState(""),[w,p]=M.useState(new Set),x=S=>S.filter(F=>{const B=F.name.toLowerCase().includes(g.toLowerCase())||F.description.toLowerCase().includes(g.toLowerCase()),K=w.size===0||F.tags.some(ne=>w.has(ne));return B&&K}),N=S=>S.filter(F=>F.name.toLowerCase().includes(g.toLowerCase())||F.description.toLowerCase().includes(g.toLowerCase())),m=M.useMemo(()=>({availableSkills:x(Xo(l.player)),unlockedSkills:x(Zo(l.player)),availableSupports:N(Xp(l.player)),unlockedSupports:N(Zp(l.player))}),[l.player,g,w]),f=M.useMemo(()=>{const S=new Set;return[...Xo(l.player),...Zo(l.player)].forEach(F=>{F.tags.forEach(B=>S.add(B))}),Array.from(S).sort()},[l.player]),y=M.useCallback(S=>{r.unlockSkillGem(S)},[r]),k=M.useCallback(S=>{r.levelUpSkillGem(S)},[r]),C=M.useCallback(S=>{r.unlockSupportGem(S)},[r]),_=M.useCallback(S=>{r.levelUpSupportGem(S)},[r]);if(!t)return null;const j=S=>({Normal:"#ffffff",Magic:"#8888ff",Rare:"#ffff88",Unique:"#ff8800"})[S]||"#ffffff",b=(S,F)=>{const B=Yr(S),K=yn(S.level),ne=Kr(S,l.player.skillPoints),pt=(o==null?void 0:o.id)===S.id;return kl[S.rarity],s.jsxs("div",{className:`skill-card ${F?"locked":""} ${pt?"selected":""}`,onClick:()=>u(S),style:{borderColor:j(S.rarity)},children:[s.jsxs("div",{className:"skill-header",children:[s.jsx("span",{className:"skill-icon",children:S.icon}),s.jsxs("div",{className:"skill-info",children:[s.jsx("h4",{className:"skill-name",style:{color:j(S.rarity)},children:S.name}),s.jsxs("div",{className:"skill-meta",children:[s.jsxs("span",{className:"skill-level",children:["Lv.",S.level,"/",S.maxLevel]}),S.quality>0&&s.jsxs("span",{className:"skill-quality",children:["Q: ",S.quality,"%"]}),s.jsx("span",{className:"skill-rarity",children:S.rarity})]})]})]}),s.jsxs("div",{className:"skill-tags",children:[S.tags.slice(0,3).map(T=>s.jsx("span",{className:`skill-tag tag-${T.toLowerCase()}`,children:T},T)),S.tags.length>3&&s.jsxs("span",{className:"skill-tag-more",children:["+",S.tags.length-3]})]}),s.jsxs("div",{className:"skill-stats-preview",children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-label",children:"Damage:"}),s.jsx("span",{className:"stat-value",children:$s(S)})]}),S.supportGems.length>0&&s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-label",children:"Supports:"}),s.jsxs("span",{className:"stat-value",children:[S.supportGems.length,"/6"]})]})]}),s.jsxs("div",{className:"skill-actions",children:[F&&s.jsxs("button",{className:"unlock-btn",disabled:l.player.skillPoints<B,onClick:T=>{T.stopPropagation(),y(S.id)},children:["Unlock (",B," SP)"]}),!F&&ne&&s.jsxs("button",{className:"level-up-btn",onClick:T=>{T.stopPropagation(),k(S.id)},children:["Level Up (",K," SP)"]}),!F&&S.isEquipped&&s.jsx("span",{className:"equipped-indicator",children:"⚡ Equipped"})]})]},S.id)},I=(S,F)=>{const B=Yr(S),K=yn(S.level),ne=Kr(S,l.player.skillPoints),pt=(c==null?void 0:c.id)===S.id,T=m.unlockedSkills.filter(O=>Ba(O,S));return s.jsxs("div",{className:`support-card ${F?"locked":""} ${pt?"selected":""}`,onClick:()=>h(S),style:{borderColor:j(S.rarity)},children:[s.jsxs("div",{className:"support-header",children:[s.jsx("span",{className:"support-icon",children:S.icon}),s.jsxs("div",{className:"support-info",children:[s.jsx("h4",{className:"support-name",style:{color:j(S.rarity)},children:S.name}),s.jsxs("div",{className:"support-meta",children:[s.jsxs("span",{className:"support-level",children:["Lv.",S.level,"/",S.maxLevel]}),S.quality>0&&s.jsxs("span",{className:"support-quality",children:["Q: ",S.quality,"%"]}),s.jsx("span",{className:"support-rarity",children:S.rarity})]})]})]}),s.jsxs("div",{className:"support-tags",children:[S.tags.slice(0,3).map(O=>s.jsx("span",{className:`support-tag tag-${O.toLowerCase()}`,children:O},O)),S.tags.length>3&&s.jsxs("span",{className:"support-tag-more",children:["+",S.tags.length-3]})]}),s.jsxs("div",{className:"support-compatibility",children:[s.jsx("span",{className:"compatibility-label",children:"Compatible with:"}),s.jsxs("span",{className:"compatibility-count",children:[T.length," skills"]})]}),s.jsxs("div",{className:"support-actions",children:[F&&s.jsxs("button",{className:"unlock-btn",disabled:l.player.skillPoints<B,onClick:O=>{O.stopPropagation(),C(S.id)},children:["Unlock (",B," SP)"]}),!F&&ne&&s.jsxs("button",{className:"level-up-btn",onClick:O=>{O.stopPropagation(),_(S.id)},children:["Level Up (",K," SP)"]})]})]},S.id)},z=()=>{if(!o)return null;const S={damage:$s(o),manaCost:vd(o),cooldown:xd(o),area:kd(o),duration:wd(o)},F=cl(o),B=o.supportGems.length>0,K=kl[o.rarity];return s.jsxs("div",{className:"skill-details",children:[s.jsxs("div",{className:"skill-details-header",children:[s.jsxs("h3",{style:{color:j(o.rarity)},children:[o.icon," ",o.name]}),s.jsxs("div",{className:"skill-details-meta",children:[s.jsx("span",{className:"detail-rarity",style:{color:j(o.rarity)},children:o.rarity}),o.quality>0&&s.jsxs("span",{className:"detail-quality",children:["Quality: ",o.quality,"%"]})]})]}),s.jsx("p",{className:"skill-description",children:o.description}),s.jsxs("div",{className:"skill-tags-full",children:[s.jsx("h4",{children:"Tags:"}),s.jsx("div",{className:"tags-container",children:o.tags.map(ne=>s.jsx("span",{className:`skill-tag tag-${ne.toLowerCase()}`,children:ne},ne))})]}),s.jsxs("div",{className:"skill-stats",children:[s.jsx("h4",{children:"Statistics:"}),s.jsxs("div",{className:"stats-grid",children:[s.jsxs("div",{className:"stat-row",children:[s.jsx("span",{className:"stat-label",children:"Type:"}),s.jsx("span",{className:"stat-value",children:o.type})]}),s.jsxs("div",{className:"stat-row",children:[s.jsx("span",{className:"stat-label",children:"Category:"}),s.jsx("span",{className:"stat-value",children:o.category})]}),s.jsxs("div",{className:"stat-row",children:[s.jsx("span",{className:"stat-label",children:"Level:"}),s.jsxs("span",{className:"stat-value",children:[o.level,"/",o.maxLevel]})]}),S.damage>0&&s.jsxs("div",{className:"stat-row",children:[s.jsx("span",{className:"stat-label",children:"Damage:"}),s.jsx("span",{className:"stat-value",children:B?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"base-value",children:S.damage}),F.damage!==S.damage&&s.jsxs("span",{className:"final-value",children:[" → ",F.damage]})]}):S.damage})]}),s.jsxs("div",{className:"stat-row",children:[s.jsx("span",{className:"stat-label",children:"Mana Cost:"}),s.jsx("span",{className:"stat-value",children:B?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"base-value",children:S.manaCost}),F.manaCost!==S.manaCost&&s.jsxs("span",{className:"final-value",children:[" → ",F.manaCost]})]}):S.manaCost})]}),s.jsxs("div",{className:"stat-row",children:[s.jsx("span",{className:"stat-label",children:"Cooldown:"}),s.jsx("span",{className:"stat-value",children:B?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"base-value",children:[S.cooldown,"ms"]}),F.cooldown!==S.cooldown&&s.jsxs("span",{className:"final-value",children:[" → ",F.cooldown,"ms"]})]}):`${S.cooldown}ms`})]}),S.area>1&&s.jsxs("div",{className:"stat-row",children:[s.jsx("span",{className:"stat-label",children:"Area:"}),s.jsx("span",{className:"stat-value",children:B?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"base-value",children:[S.area.toFixed(1),"x"]}),F.area!==S.area&&s.jsxs("span",{className:"final-value",children:[" → ",F.area.toFixed(1),"x"]})]}):`${S.area.toFixed(1)}x`})]}),S.duration>0&&s.jsxs("div",{className:"stat-row",children:[s.jsx("span",{className:"stat-label",children:"Duration:"}),s.jsx("span",{className:"stat-value",children:B?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"base-value",children:[(S.duration/1e3).toFixed(1),"s"]}),F.duration!==S.duration&&s.jsxs("span",{className:"final-value",children:[" → ",(F.duration/1e3).toFixed(1),"s"]})]}):`${(S.duration/1e3).toFixed(1)}s`})]}),F.projectileCount>1&&s.jsxs("div",{className:"stat-row",children:[s.jsx("span",{className:"stat-label",children:"Projectiles:"}),s.jsx("span",{className:"stat-value",children:F.projectileCount})]})]})]}),K.damageBonus>0&&s.jsxs("div",{className:"rarity-bonuses",children:[s.jsx("h4",{children:"Rarity Bonuses:"}),s.jsxs("div",{className:"bonus-list",children:[K.damageBonus>0&&s.jsxs("div",{className:"bonus-item",children:["+",K.damageBonus,"% damage"]}),K.qualityBonus>0&&s.jsxs("div",{className:"bonus-item",children:["+",K.qualityBonus,"% quality"]}),K.areaOfEffectBonus&&s.jsxs("div",{className:"bonus-item",children:["+",K.areaOfEffectBonus,"% area of effect"]}),K.manaCostReduction&&s.jsxs("div",{className:"bonus-item",children:["-",K.manaCostReduction,"% mana cost"]})]})]}),o.supportGems.length>0&&s.jsxs("div",{className:"attached-supports",children:[s.jsxs("h4",{children:["Attached Support Gems (",o.supportGems.length,"/6):"]}),s.jsx("div",{className:"supports-list",children:o.supportGems.map(ne=>s.jsxs("div",{className:"attached-support",children:[s.jsxs("span",{className:"support-info",children:[ne.icon," ",ne.name," (Lv.",ne.level,")"]}),s.jsx("button",{className:"detach-btn",onClick:()=>r.detachSupportGem(o.id,ne.id),children:"Detach"})]},ne.id))})]})]})},J=()=>{if(!c)return null;const S=Sd(c),F=m.unlockedSkills.filter(B=>Ba(B,c));return kl[c.rarity],s.jsxs("div",{className:"support-details",children:[s.jsxs("div",{className:"support-details-header",children:[s.jsxs("h3",{style:{color:j(c.rarity)},children:[c.icon," ",c.name]}),s.jsxs("div",{className:"support-details-meta",children:[s.jsx("span",{className:"detail-rarity",style:{color:j(c.rarity)},children:c.rarity}),c.quality>0&&s.jsxs("span",{className:"detail-quality",children:["Quality: ",c.quality,"%"]})]})]}),s.jsx("p",{className:"support-description",children:c.description}),s.jsxs("div",{className:"support-tags-full",children:[s.jsx("h4",{children:"Tags:"}),s.jsx("div",{className:"tags-container",children:c.tags.map(B=>s.jsx("span",{className:`support-tag tag-${B.toLowerCase()}`,children:B},B))})]}),s.jsxs("div",{className:"support-stats",children:[s.jsx("h4",{children:"Statistics:"}),s.jsx("div",{className:"stats-grid",children:s.jsxs("div",{className:"stat-row",children:[s.jsx("span",{className:"stat-label",children:"Level:"}),s.jsxs("span",{className:"stat-value",children:[c.level,"/",c.maxLevel]})]})})]}),s.jsxs("div",{className:"support-modifiers",children:[s.jsx("h4",{children:"Modifiers:"}),s.jsx("div",{className:"modifiers-list",children:S.map((B,K)=>s.jsx("div",{className:"modifier-item",children:B.description},K))})]}),s.jsxs("div",{className:"compatibility-section",children:[s.jsxs("h4",{children:["Compatibility (",F.length," skills):"]}),s.jsx("div",{className:"compatible-skills",children:F.map(B=>s.jsxs("div",{className:"compatible-skill",children:[s.jsxs("span",{className:"skill-info",children:[B.icon," ",B.name]}),s.jsx("div",{className:"skill-tags-mini",children:B.tags.filter(K=>c.tags.some(ne=>ne===K||ne==="Support"&&["Attack","Spell","AoE","Projectile"].includes(K))).map(K=>s.jsx("span",{className:`tag-mini tag-${K.toLowerCase()}`,children:K},K))})]},B.id))})]}),c.isUnlocked&&s.jsxs("div",{className:"attach-to-skill",children:[s.jsx("h4",{children:"Attach to Skill:"}),s.jsx("div",{className:"attachable-skills",children:m.unlockedSkills.filter(B=>B.supportGems.length<6&&!B.supportGems.some(K=>K.id===c.id)&&Ba(B,c)).map(B=>s.jsxs("button",{className:"attach-btn",onClick:()=>r.attachSupportGem(B.id,c.id),children:[B.icon," ",B.name," (",B.supportGems.length,"/6)"]},B.id))})]})]})};return s.jsx("div",{className:"skill-gem-panel-overlay",children:s.jsxs("div",{className:"skill-gem-panel",children:[s.jsxs("div",{className:"panel-header",children:[s.jsx("h2",{children:"Skill Gems"}),s.jsxs("div",{className:"player-info",children:[s.jsxs("span",{children:["Skill Points: ",l.player.skillPoints]}),s.jsxs("span",{children:["Level: ",l.player.level]})]}),s.jsx("button",{className:"close-btn",onClick:n,children:"×"})]}),s.jsxs("div",{className:"panel-tabs",children:[s.jsxs("button",{className:`tab ${a==="skills"?"active":""}`,onClick:()=>i("skills"),children:["Active Skills (",m.unlockedSkills.length,"/",l.player.skillGems.length,")"]}),s.jsxs("button",{className:`tab ${a==="supports"?"active":""}`,onClick:()=>i("supports"),children:["Support Gems (",m.unlockedSupports.length,"/",l.player.supportGems.length,")"]})]}),s.jsxs("div",{className:"search-filter-controls",children:[s.jsx("div",{className:"search-bar",children:s.jsx("input",{type:"text",placeholder:"Search skills and support gems...",value:g,onChange:S=>v(S.target.value),className:"search-input"})}),a==="skills"&&s.jsxs("div",{className:"tag-filters",children:[s.jsx("span",{className:"filter-label",children:"Filter by tags:"}),s.jsxs("div",{className:"tag-buttons",children:[f.map(S=>s.jsx("button",{className:`tag-filter-btn ${w.has(S)?"active":""}`,onClick:()=>{const F=new Set(w);F.has(S)?F.delete(S):F.add(S),p(F)},children:S},S)),w.size>0&&s.jsx("button",{className:"clear-filters-btn",onClick:()=>p(new Set),children:"Clear All"})]})]})]}),s.jsx("div",{className:"panel-content",children:s.jsxs("div",{className:"gems-grid",children:[a==="skills"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"unlocked-section",children:[s.jsx("h3",{children:"Unlocked Skills"}),s.jsx("div",{className:"gems-list",children:m.unlockedSkills.map(S=>b(S,!1))})]}),s.jsxs("div",{className:"locked-section",children:[s.jsx("h3",{children:"Available Skills"}),s.jsx("div",{className:"gems-list",children:m.availableSkills.map(S=>b(S,!0))})]}),s.jsxs("div",{className:"unavailable-section",children:[s.jsx("h3",{children:"Locked Skills"}),s.jsx("div",{className:"gems-list",children:l.player.skillGems.filter(S=>!S.isUnlocked&&l.player.level<S.unlockLevel).map(S=>b(S,!0))})]})]}),a==="supports"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"unlocked-section",children:[s.jsx("h3",{children:"Unlocked Support Gems"}),s.jsx("div",{className:"gems-list",children:m.unlockedSupports.map(S=>I(S,!1))})]}),s.jsxs("div",{className:"locked-section",children:[s.jsx("h3",{children:"Available Support Gems"}),s.jsx("div",{className:"gems-list",children:m.availableSupports.map(S=>I(S,!0))})]}),s.jsxs("div",{className:"unavailable-section",children:[s.jsx("h3",{children:"Locked Support Gems"}),s.jsx("div",{className:"gems-list",children:l.player.supportGems.filter(S=>!S.isUnlocked&&l.player.level<S.unlockLevel).map(S=>I(S,!0))})]})]})]})}),s.jsxs("div",{className:"details-panel",children:[a==="skills"&&z(),a==="supports"&&J()]})]})})});function Rh({className:e=""}){const{state:t,actions:n}=rt(),[l,r]=M.useState(null),[a,i]=M.useState({}),o=t.player.skillBar,u=(o==null?void 0:o.maxSlots)||6,c=x=>o!=null&&o.slots&&o.slots[x]||null,h=x=>{r(l===x?null:x)},g=(x,N)=>{N.stopPropagation(),n.unequipSkillFromBar(x),r(null)},v=x=>{i(N=>({...N,[x]:!N[x]}))},w=x=>{const N=c(x),m=l===x,f=!N;return s.jsxs("div",{className:`skill-slot ${f?"empty":"filled"} ${m?"selected":""}`,onClick:()=>h(x),children:[s.jsx("div",{className:"slot-number",children:x+1}),N?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"skill-icon",title:N.name,children:N.icon}),s.jsx("div",{className:"skill-level",children:N.level}),N.supportGems.length>0&&s.jsx("div",{className:"support-indicator",children:s.jsx("span",{className:"support-count",children:N.supportGems.length})}),s.jsx("div",{className:"skill-mana-cost",children:cl(N).manaCost}),s.jsx("button",{className:"unequip-skill-btn",onClick:y=>g(x,y),title:"Unequip skill",children:"×"}),m&&s.jsxs("div",{className:"skill-tooltip",children:[s.jsxs("div",{className:"tooltip-header",children:[s.jsx("h4",{children:N.name}),s.jsx("span",{className:"skill-type",children:N.type})]}),s.jsxs("div",{className:"skill-tags",children:[s.jsx("span",{className:"tags-label",children:"Tags: "}),s.jsx("span",{className:"tags-list",children:cp(N)})]}),s.jsx("p",{className:"skill-description",children:N.description}),s.jsxs("div",{className:"skill-stats",children:[s.jsxs("div",{children:["Level: ",N.level,"/",N.maxLevel]}),(()=>{const y=cl(N);return s.jsxs(s.Fragment,{children:[y.damage>0&&s.jsxs("div",{children:["Damage: ",y.damage]}),s.jsxs("div",{children:["Mana: ",y.manaCost]}),s.jsxs("div",{children:["Cooldown: ",y.cooldown,"ms"]}),y.projectileCount>1&&s.jsxs("div",{children:["Projectiles: ",y.projectileCount]})]})})()]}),N.supportGems.length>0&&s.jsxs("div",{className:"support-gems",children:[s.jsxs("div",{className:"support-header",onClick:()=>v(N.id),children:[s.jsxs("span",{children:["Support Gems (",N.supportGems.length,"/6)"]}),s.jsx("span",{className:`expand-icon ${a[N.id]?"expanded":""}`,children:"▼"})]}),a[N.id]&&s.jsx("div",{className:"support-list",children:N.supportGems.map(y=>s.jsxs("div",{className:"support-item",children:[s.jsx("span",{className:"support-icon",children:y.icon}),s.jsx("span",{className:"support-name",children:y.name}),s.jsxs("span",{className:"support-level",children:["Lv.",y.level]}),s.jsx("button",{className:"detach-support-btn",onClick:k=>{k.stopPropagation(),n.detachSupportGem(N.id,y.id)},title:"Detach support gem",children:"×"})]},y.id))})]}),s.jsxs("div",{className:"tooltip-actions",children:[s.jsxs("div",{className:"auto-skill-status",children:[s.jsx("span",{className:"auto-indicator",children:"🔄 Auto-Active"}),s.jsx("span",{className:"skill-status",children:N.id==="whirlwind"?"Channeling in Combat":"Ready"})]}),s.jsx("button",{className:"unequip-btn-large",onClick:y=>g(x,y),title:"Unequip this skill",children:"Unequip Skill"})]})]})]}):s.jsxs("div",{className:"empty-slot-content",children:[s.jsx("div",{className:"empty-icon",children:"+"}),s.jsx("div",{className:"empty-text",children:"Empty"})]})]},x)},p=()=>{var N;const x=(N=o==null?void 0:o.slots)==null?void 0:N.find(m=>(m==null?void 0:m.id)==="whirlwind");return s.jsxs("div",{className:"combat-status",children:[s.jsxs("div",{className:"auto-combat-info",children:[s.jsx("span",{className:"status-label",children:"Combat Mode:"}),s.jsx("span",{className:"status-value",children:"Automatic Whirlwind"})]}),x&&s.jsxs("div",{className:"whirlwind-stats",children:[s.jsxs("span",{children:["Mana Cost: ",cl(x).manaCost,"/sec"]}),s.jsxs("span",{children:["Area Damage: ",cl(x).damage]})]})]})};return s.jsxs("div",{className:`skill-bar-container ${e}`,children:[s.jsxs("div",{className:"skill-bar-header",children:[s.jsx("h3",{children:"Combat Skills"}),s.jsx("div",{className:"skill-bar-info",children:s.jsxs("span",{children:["Active Skills: ",o!=null&&o.slots?o.slots.filter(x=>x!==null).length:0,"/",u]})})]}),s.jsx("div",{className:"skill-bar",children:Array.from({length:u},(x,N)=>w(N))}),p(),s.jsx("div",{className:"skill-bar-help",children:s.jsx("p",{children:"Skills activate automatically during combat • Click slots to view details and support gems"})})]})}const Ah=vn.memo(function(){const{state:t}=rt(),{activeCombinations:n=[],activeSynergies:l=[]}=t;return n.length===0&&l.length===0?s.jsxs("div",{className:"bg-gray-900/95 text-white p-4 rounded-lg border border-gray-600",children:[s.jsx("h3",{className:"text-lg font-bold text-center mb-3",children:"🔗 Skill Combinations"}),s.jsxs("div",{className:"text-center text-gray-400 text-sm",children:[s.jsx("p",{children:"Equip multiple skills to unlock powerful combinations!"}),s.jsx("p",{className:"mt-2",children:"Try combining:"}),s.jsxs("ul",{className:"mt-1 space-y-1",children:[s.jsx("li",{children:"• Fire + Lightning skills for Elemental Mastery"}),s.jsx("li",{children:"• Melee + Spell skills for Spellsword"}),s.jsx("li",{children:"• Multiple AoE skills for Area Specialist"})]})]})]}):s.jsxs("div",{className:"bg-gray-900/95 text-white p-4 rounded-lg border border-gray-600",children:[s.jsx("h3",{className:"text-lg font-bold text-center mb-3",children:"🔗 Skill Combinations"}),n.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-md font-semibold text-yellow-400 mb-2",children:"✨ Active Combinations"}),s.jsx("div",{className:"space-y-2",children:n.map(r=>s.jsx(Dh,{combination:r},r.id))})]}),l.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-semibold text-blue-400 mb-2",children:"⚡ Active Synergies"}),s.jsx("div",{className:"space-y-2",children:l.map(r=>s.jsx(zh,{synergy:r},r.id))})]})]})}),Dh=vn.memo(function({combination:t}){return s.jsxs("div",{className:"bg-gray-800/70 p-3 rounded border border-yellow-500/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-lg",children:t.icon}),s.jsx("h5",{className:"font-semibold text-yellow-300",children:t.name})]}),s.jsx("p",{className:"text-xs text-gray-300 mb-2",children:t.description}),s.jsx("div",{className:"space-y-1",children:t.bonuses.map((n,l)=>s.jsx("div",{className:"text-xs",children:s.jsxs("span",{className:"text-green-400",children:[n.isPercentage?`+${n.value}%`:`+${n.value}`," ",n.description]})},l))})]})}),zh=vn.memo(function({synergy:t}){const n=a=>{switch(a){case"onUse":return"when used";case"onKill":return"on kill";case"onCrit":return"on critical hit";case"onHit":return"on hit";default:return a}},l=a=>{switch(a){case"whirlwind":return"Whirlwind";case"fireball":return"Fireball";case"lightning_bolt":return"Lightning Bolt";case"all_spells":return"Any Spell";default:return a}},r=a=>{switch(a){case"whirlwind":return"Whirlwind";case"fireball":return"Fireball";case"lightning_bolt":return"Lightning Bolt";case"all_spells":return"All Spells";case"player":return"Player";default:return a}};return s.jsxs("div",{className:"bg-gray-800/70 p-3 rounded border border-blue-500/30",children:[s.jsx("h5",{className:"font-semibold text-blue-300 mb-1",children:t.name}),s.jsx("p",{className:"text-xs text-gray-300 mb-2",children:t.description}),s.jsxs("div",{className:"text-xs space-y-1",children:[s.jsxs("div",{className:"text-gray-400",children:[s.jsx("span",{className:"text-white",children:l(t.triggerSkill)})," ",n(t.condition)," affects"," ",s.jsx("span",{className:"text-white",children:r(t.targetSkill)})]}),s.jsxs("div",{className:"text-cyan-400",children:[t.bonus.isPercentage?`${t.bonus.value}%`:t.bonus.value," ",t.bonus.description]}),t.duration&&s.jsxs("div",{className:"text-gray-500",children:["Duration: ",t.duration/1e3,"s"]}),t.cooldown&&s.jsxs("div",{className:"text-gray-500",children:["Cooldown: ",t.cooldown/1e3,"s"]})]})]})}),Ih={common:[{k:"str",min:1,max:3},{k:"vit",min:2,max:4}],magic:[{k:"str",min:2,max:5},{k:"dex",min:2,max:5},{k:"vit",min:3,max:7}],rare:[{k:"str",min:3,max:8},{k:"dex",min:3,max:8},{k:"vit",min:5,max:10},{k:"crit",min:1,max:5}],unique:[{k:"str",min:6,max:12},{k:"dex",min:6,max:12},{k:"vit",min:8,max:15},{k:"crit",min:3,max:8},{k:"lifesteal",min:1,max:4}]},dr=new Map,$h=1e3,Fh={Common:2,Magic:3,Rare:4,Unique:5};function lu(e,t){return Math.floor(Math.random()*(t-e+1))+e}function Oh(e){const t=`${e}`;if(dr.has(t)&&Math.random()>.8)return dr.get(t).map(o=>({...o,value:lu(Math.floor(o.value*.8),Math.ceil(o.value*1.2))}));const n=Ih[e.toLowerCase()],l=Fh[e],r=[],a=[...n];for(let i=0;i<l&&a.length;i++){const o=Math.floor(Math.random()*a.length),u=a.splice(o,1)[0];r.push({key:u.k,value:lu(u.min,u.max)})}return dr.size<$h&&dr.set(t,[...r]),r}function bd(e=1e3){const t=performance.now();for(let r=0;r<e;r++)Ol(Math.floor(Math.random()*100)+1,Math.random()>.9);const l=performance.now()-t;return{operation:"Equipment Generation",iterations:e,totalTime:l,averageTime:l/e,itemsPerSecond:e/l*1e3}}function _d(e=1e3){const t=performance.now();for(let r=0;r<e;r++)Fs(Math.floor(Math.random()*100)+1,Math.random()>.9);const l=performance.now()-t;return{operation:"Loot Generation",iterations:e,totalTime:l,averageTime:l/e,itemsPerSecond:e/l*1e3}}function Td(e=1e3){const t=["Common","Magic","Rare","Unique"],n=performance.now();for(let a=0;a<e;a++){const i=t[Math.floor(Math.random()*t.length)];Oh(i)}const r=performance.now()-n;return{operation:"Affix Generation",iterations:e,totalTime:r,averageTime:r/e,itemsPerSecond:e/r*1e3}}function Rd(e=100){const t=$l(),n=["weapon","helm","chest","legs","boots","gloves"];for(let i=0;i<n.length;i++){const o=Ol(50,!1);t.equipment[n[i]]=o}const l=performance.now();for(let i=0;i<e;i++)je(t);const a=performance.now()-l;return{operation:"Player Stat Calculation",iterations:e,totalTime:a,averageTime:a/e,itemsPerSecond:e/a*1e3}}function Ad(){console.log("🚀 Starting Performance Test Suite...");const e=[];return console.log("Testing equipment generation..."),e.push(bd(1e3)),console.log("Testing loot generation..."),e.push(_d(1e3)),console.log("Testing affix generation..."),e.push(Td(1e3)),console.log("Testing stat calculation..."),e.push(Rd(100)),console.log("✅ Performance Test Suite Complete!"),e.forEach(t=>{console.log(`
📊 ${t.operation}:`),console.log(`  Iterations: ${t.iterations}`),console.log(`  Total Time: ${t.totalTime.toFixed(2)}ms`),console.log(`  Average Time: ${t.averageTime.toFixed(4)}ms`),console.log(`  Items/Second: ${t.itemsPerSecond.toFixed(0)}`)}),e}function Uh(){if("memory"in performance){const e=performance.memory;console.log(`
🧠 Memory Usage:`),console.log(`  Used JS Heap: ${(e.usedJSHeapSize/1024/1024).toFixed(2)} MB`),console.log(`  Total JS Heap: ${(e.totalJSHeapSize/1024/1024).toFixed(2)} MB`),console.log(`  Heap Limit: ${(e.jsHeapSizeLimit/1024/1024).toFixed(2)} MB`)}else console.log("Memory API not available in this browser")}typeof window<"u"&&(window.performanceTest={runSuite:Ad,testMemory:Uh,testEquipment:bd,testLoot:_d,testAffixes:Td,testStats:Rd});function Bh(){const[e,t]=M.useState(!1),[n,l]=M.useState([]),[r,a]=M.useState(!1),[i,o]=M.useState(""),u=async()=>{a(!0);try{const c=Ad();if(l(c),"memory"in performance){const h=performance.memory;o(`Used: ${(h.usedJSHeapSize/1024/1024).toFixed(2)} MB | Total: ${(h.totalJSHeapSize/1024/1024).toFixed(2)} MB`)}}catch(c){console.error("Performance test failed:",c)}finally{a(!1)}};return e?s.jsxs("div",{className:"fixed bottom-4 right-4 bg-gray-900 border border-gray-700 rounded-lg p-4 max-w-md w-80 shadow-xl z-50",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"text-white font-bold text-sm",children:"Performance Monitor"}),s.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-white text-lg leading-none",children:"×"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:u,disabled:r,className:`w-full px-3 py-2 rounded text-sm font-medium ${r?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:r?"Running Tests...":"Run Performance Tests"}),i&&s.jsxs("div",{className:"text-xs text-gray-300 bg-gray-800 p-2 rounded",children:[s.jsx("strong",{children:"Memory:"})," ",i]}),n.length>0&&s.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[s.jsx("h4",{className:"text-white text-xs font-semibold",children:"Test Results:"}),n.map((c,h)=>s.jsxs("div",{className:"bg-gray-800 p-2 rounded text-xs",children:[s.jsx("div",{className:"text-blue-400 font-medium",children:c.operation}),s.jsxs("div",{className:"text-gray-300 space-y-1",children:[s.jsxs("div",{children:["Iterations: ",c.iterations]}),s.jsxs("div",{children:["Avg Time: ",c.averageTime.toFixed(4),"ms"]}),s.jsxs("div",{className:"text-green-400",children:["Speed: ",c.itemsPerSecond.toFixed(0)," items/sec"]})]})]},h))]}),s.jsxs("div",{className:"text-xs text-gray-400 border-t border-gray-700 pt-2",children:[s.jsx("div",{children:"💡 Tips:"}),s.jsx("div",{children:"• Higher items/sec = better performance"}),s.jsx("div",{children:"• Lower avg time = faster operations"}),s.jsx("div",{children:"• Check console for detailed logs"})]})]})]}):s.jsx("button",{onClick:()=>t(!0),className:"fixed bottom-4 right-4 bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg text-sm font-medium shadow-lg z-50",children:"📊 Performance"})}function qh({isOpen:e,onClose:t}){var w;const{state:n,actions:l}=rt(),[r,a]=M.useState(null),[i,o]=M.useState("available");if(!e)return null;const u=n.player.mapDevice,c=n.player.level;if(!u)return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Map Device Error"}),s.jsx("p",{className:"text-gray-300",children:"Map device not initialized. Please restart the game."}),s.jsx("button",{onClick:t,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Close"})]})});const h=p=>{l.log(`Starting map: ${p.name} (Tier ${p.tier})`),t()},g=p=>p.map(x=>s.jsxs("div",{className:`text-xs p-1 rounded ${x.type==="prefix"?"bg-red-900/30 text-red-300":"bg-blue-900/30 text-blue-300"}`,children:[s.jsx("span",{className:"font-semibold",children:x.name}),s.jsx("div",{className:"text-xs opacity-80",children:x.description})]},x.id)),v=(p,x=!0)=>{const N=gp(p),m=yp(p),f=Cd(p,c,u.completedMaps),y=u.completedMaps.includes(p.id);return s.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${(r==null?void 0:r.id)===p.id?"border-yellow-400 bg-yellow-900/20":f?"border-gray-600 hover:border-gray-400 bg-gray-800/50":"border-gray-700 bg-gray-900/50 opacity-50"}`,onClick:()=>a(p),children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:`font-bold text-lg ${p.rarity==="Unique"?"text-orange-400":p.rarity==="Rare"?"text-yellow-400":p.rarity==="Magic"?"text-blue-400":"text-white"}`,children:p.name}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Tier ",p.tier," • Level ",p.baseLevel," • ",p.layout," layout"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-sm font-semibold ${N<100?"text-green-400":N<200?"text-yellow-400":N<300?"text-orange-400":"text-red-400"}`,children:["Difficulty: ",N]}),y&&s.jsxs("div",{className:"text-xs text-green-400",children:["✓ Completed (",p.timesCompleted,"x)"]})]})]}),s.jsx("p",{className:"text-sm text-gray-300 mb-3",children:p.description}),p.modifiers.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-400 mb-1",children:"Map Modifiers:"}),s.jsx("div",{className:"space-y-1",children:g(p.modifiers)})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-400 mb-1",children:"Rewards:"}),s.jsx("div",{className:"text-xs text-gray-300 space-y-1",children:m.map((k,C)=>s.jsxs("div",{children:[k.type==="equipment"&&`${k.quantity}x Equipment (Level ${k.minLevel}-${k.maxLevel})`,k.type==="skillGem"&&`${k.quantity}x ${k.rarity} Skill Gem`,k.type==="supportGem"&&`${k.quantity}x ${k.rarity} Support Gem`,k.type==="experience"&&`${k.quantity} Experience`,k.guaranteed&&" (Guaranteed)"]},C))})]}),!f&&p.unlockRequirement&&s.jsxs("div",{className:"text-xs text-red-400 mb-2",children:[s.jsx("div",{className:"font-semibold",children:"Requirements:"}),p.unlockRequirement.playerLevel&&s.jsxs("div",{children:["• Level ",p.unlockRequirement.playerLevel," (Current: ",c,")"]}),p.unlockRequirement.completedMaps&&s.jsxs("div",{children:["• Complete: ",p.unlockRequirement.completedMaps.join(", ")]})]}),x&&f&&s.jsxs("button",{onClick:k=>{k.stopPropagation(),h(p)},className:"w-full mt-2 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition-colors",children:["Run Map (",Math.floor(p.completionTime/60),":",(p.completionTime%60).toString().padStart(2,"0"),")"]})]},p.id)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-900 border border-gray-600 rounded-lg p-6 max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Map Device"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white text-2xl",children:"×"})]}),s.jsxs("div",{className:"flex space-x-4 mb-4",children:[s.jsx("button",{onClick:()=>o("available"),className:`px-4 py-2 rounded ${i==="available"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Available Maps"}),s.jsxs("button",{onClick:()=>o("stash"),className:`px-4 py-2 rounded ${i==="stash"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:["Map Stash (",((w=u.mapStash)==null?void 0:w.length)||0,")"]}),s.jsx("button",{onClick:()=>o("atlas"),className:`px-4 py-2 rounded ${i==="atlas"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Atlas Progress"})]}),i==="atlas"&&s.jsxs("div",{className:"mb-4 p-4 bg-gray-800 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Atlas of Worlds"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-400",children:"Current Tier:"}),s.jsxs("div",{className:"text-white font-semibold",children:["Tier ",u.atlasProgress.tier]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-400",children:"Maps Completed:"}),s.jsxs("div",{className:"text-white font-semibold",children:[u.atlasProgress.completedCount," / ",u.atlasProgress.totalCount]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-400",children:"Bonus Objectives:"}),s.jsx("div",{className:"text-white font-semibold",children:u.atlasProgress.bonusObjectives})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-400",children:"Completion Rate:"}),s.jsxs("div",{className:"text-white font-semibold",children:[Math.floor(u.atlasProgress.completedCount/u.atlasProgress.totalCount*100),"%"]})]})]})]}),s.jsxs("div",{className:"overflow-y-auto max-h-[60vh]",children:[i==="available"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.availableMaps.map(p=>v(p))}),i==="stash"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:!u.mapStash||u.mapStash.length===0?s.jsx("div",{className:"col-span-full text-center text-gray-400 py-8",children:"No maps in stash. Maps can be found as drops from enemies or purchased from vendors."}):u.mapStash.map(p=>v(p))}),i==="atlas"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.availableMaps.map(p=>v(p,!1))})]}),u.currentMap&&s.jsxs("div",{className:"mt-4 p-4 bg-green-900/30 border border-green-600 rounded-lg",children:[s.jsx("div",{className:"text-green-400 font-semibold",children:"Currently Running:"}),s.jsxs("div",{className:"text-white",children:[u.currentMap.name," (Tier ",u.currentMap.tier,")"]})]})]})})}function Gh(){const[e,t]=M.useState(null),n=i=>{t(i)},l=()=>{t(null)},r=()=>{switch(e){case"combat":return s.jsx(bh,{});case"character":return s.jsx(eu,{});case"skills":return s.jsx(wh,{});case"skillgems":return s.jsx(Th,{isOpen:!0,onClose:l});case"combinations":return s.jsx(Ah,{});case"inventory":return s.jsx(Lh,{});case"log":return s.jsx(nu,{});case"maps":return s.jsx(qh,{isOpen:!0,onClose:l});default:return null}},a=()=>{switch(e){case"combat":return"Combat";case"character":return"Character Status";case"skills":return"Skill Tree";case"skillgems":return"Skill Gems";case"combinations":return"Skill Combinations";case"inventory":return"Inventory";case"log":return"Combat Log";case"maps":return"Map Device";default:return""}};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(ih,{onOpenModal:n}),s.jsxs("main",{className:"flex-1 flex",children:[s.jsx("div",{className:"w-80 min-w-80 bg-gray-900/95 border-r border-gray-600 flex flex-col",children:s.jsx(eu,{})}),s.jsxs("div",{className:"flex-1 flex flex-col p-2",children:[s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx(uh,{})}),s.jsx("div",{className:"mt-2",children:s.jsx(Rh,{})}),s.jsx("div",{className:"h-64 mt-2",children:s.jsx(nu,{})})]}),s.jsx("div",{className:"w-80 min-w-80 bg-gray-900/95 border-l border-gray-600 flex flex-col",children:s.jsx(xh,{})})]}),s.jsx(_h,{isOpen:e!==null,onClose:l,title:a(),children:r()}),s.jsx(Bh,{})]})}gd(document.getElementById("root")).render(s.jsx(vn.StrictMode,{children:s.jsx(ah,{children:s.jsx(Gh,{})})}));
