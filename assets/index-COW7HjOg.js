(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function Ad(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lc={exports:{}},ea={},rc={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Symbol.for("react.element"),Rd=Symbol.for("react.portal"),Dd=Symbol.for("react.fragment"),zd=Symbol.for("react.strict_mode"),Id=Symbol.for("react.profiler"),$d=Symbol.for("react.provider"),Fd=Symbol.for("react.context"),Bd=Symbol.for("react.forward_ref"),Ud=Symbol.for("react.suspense"),Od=Symbol.for("react.memo"),qd=Symbol.for("react.lazy"),zi=Symbol.iterator;function Gd(e){return e===null||typeof e!="object"?null:(e=zi&&e[zi]||e["@@iterator"],typeof e=="function"?e:null)}var ac={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sc=Object.assign,ic={};function Xn(e,t,n){this.props=e,this.context=t,this.refs=ic,this.updater=n||ac}Xn.prototype.isReactComponent={};Xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function oc(){}oc.prototype=Xn.prototype;function Bs(e,t,n){this.props=e,this.context=t,this.refs=ic,this.updater=n||ac}var Us=Bs.prototype=new oc;Us.constructor=Bs;sc(Us,Xn.prototype);Us.isPureReactComponent=!0;var Ii=Array.isArray,cc=Object.prototype.hasOwnProperty,Os={current:null},uc={key:!0,ref:!0,__self:!0,__source:!0};function dc(e,t,n){var l,r={},a=null,i=null;if(t!=null)for(l in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)cc.call(t,l)&&!uc.hasOwnProperty(l)&&(r[l]=t[l]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var u=Array(o),d=0;d<o;d++)u[d]=arguments[d+2];r.children=u}if(e&&e.defaultProps)for(l in o=e.defaultProps,o)r[l]===void 0&&(r[l]=o[l]);return{$$typeof:ql,type:e,key:a,ref:i,props:r,_owner:Os.current}}function Vd(e,t){return{$$typeof:ql,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qs(e){return typeof e=="object"&&e!==null&&e.$$typeof===ql}function Wd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $i=/\/+/g;function ya(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wd(""+e.key):t.toString(36)}function pr(e,t,n,l,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ql:case Rd:i=!0}}if(i)return i=e,r=r(i),e=l===""?"."+ya(i,0):l,Ii(r)?(n="",e!=null&&(n=e.replace($i,"$&/")+"/"),pr(r,t,n,"",function(d){return d})):r!=null&&(qs(r)&&(r=Vd(r,n+(!r.key||i&&i.key===r.key?"":(""+r.key).replace($i,"$&/")+"/")+e)),t.push(r)),1;if(i=0,l=l===""?".":l+":",Ii(e))for(var o=0;o<e.length;o++){a=e[o];var u=l+ya(a,o);i+=pr(a,t,n,u,r)}else if(u=Gd(e),typeof u=="function")for(e=u.call(e),o=0;!(a=e.next()).done;)a=a.value,u=l+ya(a,o++),i+=pr(a,t,n,u,r);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Kl(e,t,n){if(e==null)return e;var l=[],r=0;return pr(e,l,"","",function(a){return t.call(n,a,r++)}),l}function Hd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},hr={transition:null},Qd={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:hr,ReactCurrentOwner:Os};function fc(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Kl,forEach:function(e,t,n){Kl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Kl(e,function(){t++}),t},toArray:function(e){return Kl(e,function(t){return t})||[]},only:function(e){if(!qs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Xn;ae.Fragment=Dd;ae.Profiler=Id;ae.PureComponent=Bs;ae.StrictMode=zd;ae.Suspense=Ud;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qd;ae.act=fc;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=sc({},e.props),r=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Os.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)cc.call(t,u)&&!uc.hasOwnProperty(u)&&(l[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)l.children=n;else if(1<u){o=Array(u);for(var d=0;d<u;d++)o[d]=arguments[d+2];l.children=o}return{$$typeof:ql,type:e.type,key:r,ref:a,props:l,_owner:i}};ae.createContext=function(e){return e={$$typeof:Fd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$d,_context:e},e.Consumer=e};ae.createElement=dc;ae.createFactory=function(e){var t=dc.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:Bd,render:e}};ae.isValidElement=qs;ae.lazy=function(e){return{$$typeof:qd,_payload:{_status:-1,_result:e},_init:Hd}};ae.memo=function(e,t){return{$$typeof:Od,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=hr.transition;hr.transition={};try{e()}finally{hr.transition=t}};ae.unstable_act=fc;ae.useCallback=function(e,t){return Oe.current.useCallback(e,t)};ae.useContext=function(e){return Oe.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};ae.useEffect=function(e,t){return Oe.current.useEffect(e,t)};ae.useId=function(){return Oe.current.useId()};ae.useImperativeHandle=function(e,t,n){return Oe.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return Oe.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return Oe.current.useReducer(e,t,n)};ae.useRef=function(e){return Oe.current.useRef(e)};ae.useState=function(e){return Oe.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return Oe.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return Oe.current.useTransition()};ae.version="18.3.1";rc.exports=ae;var C=rc.exports;const wn=Ad(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd=C,Yd=Symbol.for("react.element"),Xd=Symbol.for("react.fragment"),Zd=Object.prototype.hasOwnProperty,Jd=Kd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ef={key:!0,ref:!0,__self:!0,__source:!0};function mc(e,t,n){var l,r={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(l in t)Zd.call(t,l)&&!ef.hasOwnProperty(l)&&(r[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps,t)r[l]===void 0&&(r[l]=t[l]);return{$$typeof:Yd,type:e,key:a,ref:i,props:r,_owner:Jd.current}}ea.Fragment=Xd;ea.jsx=mc;ea.jsxs=mc;lc.exports=ea;var s=lc.exports,pc={exports:{}},et={},hc={exports:{}},gc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,W){var U=D.length;D.push(W);e:for(;0<U;){var le=U-1>>>1,w=D[le];if(0<r(w,W))D[le]=W,D[U]=w,U=le;else break e}}function n(D){return D.length===0?null:D[0]}function l(D){if(D.length===0)return null;var W=D[0],U=D.pop();if(U!==W){D[0]=U;e:for(var le=0,w=D.length,z=w>>>1;le<z;){var M=2*(le+1)-1,I=D[M],c=M+1,P=D[c];if(0>r(I,U))c<w&&0>r(P,I)?(D[le]=P,D[c]=U,le=c):(D[le]=I,D[M]=U,le=M);else if(c<w&&0>r(P,U))D[le]=P,D[c]=U,le=c;else break e}}return W}function r(D,W){var U=D.sortIndex-W.sortIndex;return U!==0?U:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var u=[],d=[],f=1,g=null,h=3,v=!1,p=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var W=n(d);W!==null;){if(W.callback===null)l(d);else if(W.startTime<=D)l(d),W.sortIndex=W.expirationTime,t(u,W);else break;W=n(d)}}function S(D){if(k=!1,x(D),!p)if(n(u)!==null)p=!0,re(N);else{var W=n(d);W!==null&&fe(S,W.startTime-D)}}function N(D,W){p=!1,k&&(k=!1,y(B),B=-1),v=!0;var U=h;try{for(x(W),g=n(u);g!==null&&(!(g.expirationTime>W)||D&&!G());){var le=g.callback;if(typeof le=="function"){g.callback=null,h=g.priorityLevel;var w=le(g.expirationTime<=W);W=e.unstable_now(),typeof w=="function"?g.callback=w:g===n(u)&&l(u),x(W)}else l(u);g=n(u)}if(g!==null)var z=!0;else{var M=n(d);M!==null&&fe(S,M.startTime-W),z=!1}return z}finally{g=null,h=U,v=!1}}var A=!1,F=null,B=-1,X=5,H=-1;function G(){return!(e.unstable_now()-H<X)}function ee(){if(F!==null){var D=e.unstable_now();H=D;var W=!0;try{W=F(!0,D)}finally{W?$():(A=!1,F=null)}}else A=!1}var $;if(typeof m=="function")$=function(){m(ee)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,se=q.port2;q.port1.onmessage=ee,$=function(){se.postMessage(null)}}else $=function(){R(ee,0)};function re(D){F=D,A||(A=!0,$())}function fe(D,W){B=R(function(){D(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){p||v||(p=!0,re(N))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var U=h;h=W;try{return D()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=h;h=D;try{return W()}finally{h=U}},e.unstable_scheduleCallback=function(D,W,U){var le=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?le+U:le):U=le,D){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=U+w,D={id:f++,callback:W,priorityLevel:D,startTime:U,expirationTime:w,sortIndex:-1},U>le?(D.sortIndex=U,t(d,D),n(u)===null&&D===n(d)&&(k?(y(B),B=-1):k=!0,fe(S,U-le))):(D.sortIndex=w,t(u,D),p||v||(p=!0,re(N))),D},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(D){var W=h;return function(){var U=h;h=W;try{return D.apply(this,arguments)}finally{h=U}}}})(gc);hc.exports=gc;var tf=hc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nf=C,Je=tf;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yc=new Set,jl={};function kn(e,t){Gn(e,t),Gn(e+"Capture",t)}function Gn(e,t){for(jl[e]=t,e=0;e<t.length;e++)yc.add(t[e])}var Et=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ha=Object.prototype.hasOwnProperty,lf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fi={},Bi={};function rf(e){return Ha.call(Bi,e)?!0:Ha.call(Fi,e)?!1:lf.test(e)?Bi[e]=!0:(Fi[e]=!0,!1)}function af(e,t,n,l){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sf(e,t,n,l){if(t===null||typeof t>"u"||af(e,t,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qe(e,t,n,l,r,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gs=/[\-:]([a-z])/g;function Vs(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gs,Vs);De[t]=new qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gs,Vs);De[t]=new qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gs,Vs);De[t]=new qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new qe(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ws(e,t,n,l){var r=De.hasOwnProperty(t)?De[t]:null;(r!==null?r.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sf(t,n,r,l)&&(n=null),l||r===null?rf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,l=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,l?e.setAttributeNS(l,t,n):e.setAttribute(t,n))))}var Rt=nf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yl=Symbol.for("react.element"),Nn=Symbol.for("react.portal"),Cn=Symbol.for("react.fragment"),Hs=Symbol.for("react.strict_mode"),Qa=Symbol.for("react.profiler"),xc=Symbol.for("react.provider"),vc=Symbol.for("react.context"),Qs=Symbol.for("react.forward_ref"),Ka=Symbol.for("react.suspense"),Ya=Symbol.for("react.suspense_list"),Ks=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),wc=Symbol.for("react.offscreen"),Ui=Symbol.iterator;function el(e){return e===null||typeof e!="object"?null:(e=Ui&&e[Ui]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,xa;function cl(e){if(xa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xa=t&&t[1]||""}return`
`+xa+e}var va=!1;function wa(e,t){if(!e||va)return"";va=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var l=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){l=d}e.call(t.prototype)}else{try{throw Error()}catch(d){l=d}e()}}catch(d){if(d&&l&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),a=l.stack.split(`
`),i=r.length-1,o=a.length-1;1<=i&&0<=o&&r[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(r[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||r[i]!==a[o]){var u=`
`+r[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=o);break}}}finally{va=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?cl(e):""}function of(e){switch(e.tag){case 5:return cl(e.type);case 16:return cl("Lazy");case 13:return cl("Suspense");case 19:return cl("SuspenseList");case 0:case 2:case 15:return e=wa(e.type,!1),e;case 11:return e=wa(e.type.render,!1),e;case 1:return e=wa(e.type,!0),e;default:return""}}function Xa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cn:return"Fragment";case Nn:return"Portal";case Qa:return"Profiler";case Hs:return"StrictMode";case Ka:return"Suspense";case Ya:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vc:return(e.displayName||"Context")+".Consumer";case xc:return(e._context.displayName||"Context")+".Provider";case Qs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ks:return t=e.displayName||null,t!==null?t:Xa(e.type)||"Memo";case It:t=e._payload,e=e._init;try{return Xa(e(t))}catch{}}return null}function cf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xa(t);case 8:return t===Hs?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uf(e){var t=kc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(i){l=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(i){l=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xl(e){e._valueTracker||(e._valueTracker=uf(e))}function Sc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=kc(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Pr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Za(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Oi(e,t){var n=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;n=Zt(t.value!=null?t.value:n),e._wrapperState={initialChecked:l,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jc(e,t){t=t.checked,t!=null&&Ws(e,"checked",t,!1)}function Ja(e,t){jc(e,t);var n=Zt(t.value),l=t.type;if(n!=null)l==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?es(e,t.type,n):t.hasOwnProperty("defaultValue")&&es(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qi(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function es(e,t,n){(t!=="number"||Pr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ul=Array.isArray;function In(e,t,n,l){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Zt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,l&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function ts(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(ul(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zt(n)}}function bc(e,t){var n=Zt(t.value),l=Zt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),l!=null&&(e.defaultValue=""+l)}function Vi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ns(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zl,Cc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,l,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,l,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zl=Zl||document.createElement("div"),Zl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},df=["Webkit","ms","Moz","O"];Object.keys(pl).forEach(function(e){df.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pl[t]=pl[e]})});function Pc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pl.hasOwnProperty(e)&&pl[e]?(""+t).trim():t+"px"}function Mc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var l=n.indexOf("--")===0,r=Pc(n,t[n],l);n==="float"&&(n="cssFloat"),l?e.setProperty(n,r):e[n]=r}}var ff=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ls(e,t){if(t){if(ff[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function rs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var as=null;function Ys(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ss=null,$n=null,Fn=null;function Wi(e){if(e=Wl(e)){if(typeof ss!="function")throw Error(L(280));var t=e.stateNode;t&&(t=aa(t),ss(e.stateNode,e.type,t))}}function Lc(e){$n?Fn?Fn.push(e):Fn=[e]:$n=e}function Ec(){if($n){var e=$n,t=Fn;if(Fn=$n=null,Wi(e),t)for(e=0;e<t.length;e++)Wi(t[e])}}function _c(e,t){return e(t)}function Tc(){}var ka=!1;function Ac(e,t,n){if(ka)return e(t,n);ka=!0;try{return _c(e,t,n)}finally{ka=!1,($n!==null||Fn!==null)&&(Tc(),Ec())}}function Nl(e,t){var n=e.stateNode;if(n===null)return null;var l=aa(n);if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var is=!1;if(Et)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){is=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{is=!1}function mf(e,t,n,l,r,a,i,o,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var hl=!1,Mr=null,Lr=!1,os=null,pf={onError:function(e){hl=!0,Mr=e}};function hf(e,t,n,l,r,a,i,o,u){hl=!1,Mr=null,mf.apply(pf,arguments)}function gf(e,t,n,l,r,a,i,o,u){if(hf.apply(this,arguments),hl){if(hl){var d=Mr;hl=!1,Mr=null}else throw Error(L(198));Lr||(Lr=!0,os=d)}}function Sn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Rc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hi(e){if(Sn(e)!==e)throw Error(L(188))}function yf(e){var t=e.alternate;if(!t){if(t=Sn(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,l=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(l=r.return,l!==null){n=l;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Hi(r),e;if(a===l)return Hi(r),t;a=a.sibling}throw Error(L(188))}if(n.return!==l.return)n=r,l=a;else{for(var i=!1,o=r.child;o;){if(o===n){i=!0,n=r,l=a;break}if(o===l){i=!0,l=r,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,l=r;break}if(o===l){i=!0,l=a,n=r;break}o=o.sibling}if(!i)throw Error(L(189))}}if(n.alternate!==l)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Dc(e){return e=yf(e),e!==null?zc(e):null}function zc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zc(e);if(t!==null)return t;e=e.sibling}return null}var Ic=Je.unstable_scheduleCallback,Qi=Je.unstable_cancelCallback,xf=Je.unstable_shouldYield,vf=Je.unstable_requestPaint,be=Je.unstable_now,wf=Je.unstable_getCurrentPriorityLevel,Xs=Je.unstable_ImmediatePriority,$c=Je.unstable_UserBlockingPriority,Er=Je.unstable_NormalPriority,kf=Je.unstable_LowPriority,Fc=Je.unstable_IdlePriority,ta=null,St=null;function Sf(e){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(ta,e,void 0,(e.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:Nf,jf=Math.log,bf=Math.LN2;function Nf(e){return e>>>=0,e===0?32:31-(jf(e)/bf|0)|0}var Jl=64,er=4194304;function dl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _r(e,t){var n=e.pendingLanes;if(n===0)return 0;var l=0,r=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~r;o!==0?l=dl(o):(a&=i,a!==0&&(l=dl(a)))}else i=n&~r,i!==0?l=dl(i):a!==0&&(l=dl(a));if(l===0)return 0;if(t!==0&&t!==l&&!(t&r)&&(r=l&-l,a=t&-t,r>=a||r===16&&(a&4194240)!==0))return t;if(l&4&&(l|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)n=31-pt(t),r=1<<n,l|=e[n],t&=~r;return l}function Cf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-pt(a),o=1<<i,u=r[i];u===-1?(!(o&n)||o&l)&&(r[i]=Cf(o,t)):u<=t&&(e.expiredLanes|=o),a&=~o}}function cs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bc(){var e=Jl;return Jl<<=1,!(Jl&4194240)&&(Jl=64),e}function Sa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pt(t),e[t]=n}function Mf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-pt(n),a=1<<r;t[r]=0,l[r]=-1,e[r]=-1,n&=~a}}function Zs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-pt(n),r=1<<l;r&t|e[l]&t&&(e[l]|=t),n&=~r}}var de=0;function Uc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Oc,Js,qc,Gc,Vc,us=!1,tr=[],Gt=null,Vt=null,Wt=null,Cl=new Map,Pl=new Map,Bt=[],Lf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ki(e,t){switch(e){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":Cl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(t.pointerId)}}function nl(e,t,n,l,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Wl(t),t!==null&&Js(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Ef(e,t,n,l,r){switch(t){case"focusin":return Gt=nl(Gt,e,t,n,l,r),!0;case"dragenter":return Vt=nl(Vt,e,t,n,l,r),!0;case"mouseover":return Wt=nl(Wt,e,t,n,l,r),!0;case"pointerover":var a=r.pointerId;return Cl.set(a,nl(Cl.get(a)||null,e,t,n,l,r)),!0;case"gotpointercapture":return a=r.pointerId,Pl.set(a,nl(Pl.get(a)||null,e,t,n,l,r)),!0}return!1}function Wc(e){var t=cn(e.target);if(t!==null){var n=Sn(t);if(n!==null){if(t=n.tag,t===13){if(t=Rc(n),t!==null){e.blockedOn=t,Vc(e.priority,function(){qc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ds(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);as=l,n.target.dispatchEvent(l),as=null}else return t=Wl(n),t!==null&&Js(t),e.blockedOn=n,!1;t.shift()}return!0}function Yi(e,t,n){gr(e)&&n.delete(t)}function _f(){us=!1,Gt!==null&&gr(Gt)&&(Gt=null),Vt!==null&&gr(Vt)&&(Vt=null),Wt!==null&&gr(Wt)&&(Wt=null),Cl.forEach(Yi),Pl.forEach(Yi)}function ll(e,t){e.blockedOn===t&&(e.blockedOn=null,us||(us=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,_f)))}function Ml(e){function t(r){return ll(r,e)}if(0<tr.length){ll(tr[0],e);for(var n=1;n<tr.length;n++){var l=tr[n];l.blockedOn===e&&(l.blockedOn=null)}}for(Gt!==null&&ll(Gt,e),Vt!==null&&ll(Vt,e),Wt!==null&&ll(Wt,e),Cl.forEach(t),Pl.forEach(t),n=0;n<Bt.length;n++)l=Bt[n],l.blockedOn===e&&(l.blockedOn=null);for(;0<Bt.length&&(n=Bt[0],n.blockedOn===null);)Wc(n),n.blockedOn===null&&Bt.shift()}var Bn=Rt.ReactCurrentBatchConfig,Tr=!0;function Tf(e,t,n,l){var r=de,a=Bn.transition;Bn.transition=null;try{de=1,ei(e,t,n,l)}finally{de=r,Bn.transition=a}}function Af(e,t,n,l){var r=de,a=Bn.transition;Bn.transition=null;try{de=4,ei(e,t,n,l)}finally{de=r,Bn.transition=a}}function ei(e,t,n,l){if(Tr){var r=ds(e,t,n,l);if(r===null)Ta(e,t,l,Ar,n),Ki(e,l);else if(Ef(r,e,t,n,l))l.stopPropagation();else if(Ki(e,l),t&4&&-1<Lf.indexOf(e)){for(;r!==null;){var a=Wl(r);if(a!==null&&Oc(a),a=ds(e,t,n,l),a===null&&Ta(e,t,l,Ar,n),a===r)break;r=a}r!==null&&l.stopPropagation()}else Ta(e,t,l,null,n)}}var Ar=null;function ds(e,t,n,l){if(Ar=null,e=Ys(l),e=cn(e),e!==null)if(t=Sn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Rc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ar=e,null}function Hc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wf()){case Xs:return 1;case $c:return 4;case Er:case kf:return 16;case Fc:return 536870912;default:return 16}default:return 16}}var Ot=null,ti=null,yr=null;function Qc(){if(yr)return yr;var e,t=ti,n=t.length,l,r="value"in Ot?Ot.value:Ot.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var i=n-e;for(l=1;l<=i&&t[n-l]===r[a-l];l++);return yr=r.slice(e,1<l?1-l:void 0)}function xr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nr(){return!0}function Xi(){return!1}function tt(e){function t(n,l,r,a,i){this._reactName=n,this._targetInst=r,this.type=l,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?nr:Xi,this.isPropagationStopped=Xi,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ni=tt(Zn),Vl=we({},Zn,{view:0,detail:0}),Rf=tt(Vl),ja,ba,rl,na=we({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:li,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rl&&(rl&&e.type==="mousemove"?(ja=e.screenX-rl.screenX,ba=e.screenY-rl.screenY):ba=ja=0,rl=e),ja)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),Zi=tt(na),Df=we({},na,{dataTransfer:0}),zf=tt(Df),If=we({},Vl,{relatedTarget:0}),Na=tt(If),$f=we({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ff=tt($f),Bf=we({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uf=tt(Bf),Of=we({},Zn,{data:0}),Ji=tt(Of),qf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vf[e])?!!t[e]:!1}function li(){return Wf}var Hf=we({},Vl,{key:function(e){if(e.key){var t=qf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:li,charCode:function(e){return e.type==="keypress"?xr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qf=tt(Hf),Kf=we({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eo=tt(Kf),Yf=we({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:li}),Xf=tt(Yf),Zf=we({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jf=tt(Zf),em=we({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tm=tt(em),nm=[9,13,27,32],ri=Et&&"CompositionEvent"in window,gl=null;Et&&"documentMode"in document&&(gl=document.documentMode);var lm=Et&&"TextEvent"in window&&!gl,Kc=Et&&(!ri||gl&&8<gl&&11>=gl),to=" ",no=!1;function Yc(e,t){switch(e){case"keyup":return nm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pn=!1;function rm(e,t){switch(e){case"compositionend":return Xc(t);case"keypress":return t.which!==32?null:(no=!0,to);case"textInput":return e=t.data,e===to&&no?null:e;default:return null}}function am(e,t){if(Pn)return e==="compositionend"||!ri&&Yc(e,t)?(e=Qc(),yr=ti=Ot=null,Pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kc&&t.locale!=="ko"?null:t.data;default:return null}}var sm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sm[e.type]:t==="textarea"}function Zc(e,t,n,l){Lc(l),t=Rr(t,"onChange"),0<t.length&&(n=new ni("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var yl=null,Ll=null;function im(e){cu(e,0)}function la(e){var t=En(e);if(Sc(t))return e}function om(e,t){if(e==="change")return t}var Jc=!1;if(Et){var Ca;if(Et){var Pa="oninput"in document;if(!Pa){var ro=document.createElement("div");ro.setAttribute("oninput","return;"),Pa=typeof ro.oninput=="function"}Ca=Pa}else Ca=!1;Jc=Ca&&(!document.documentMode||9<document.documentMode)}function ao(){yl&&(yl.detachEvent("onpropertychange",eu),Ll=yl=null)}function eu(e){if(e.propertyName==="value"&&la(Ll)){var t=[];Zc(t,Ll,e,Ys(e)),Ac(im,t)}}function cm(e,t,n){e==="focusin"?(ao(),yl=t,Ll=n,yl.attachEvent("onpropertychange",eu)):e==="focusout"&&ao()}function um(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return la(Ll)}function dm(e,t){if(e==="click")return la(t)}function fm(e,t){if(e==="input"||e==="change")return la(t)}function mm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:mm;function El(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var r=n[l];if(!Ha.call(t,r)||!gt(e[r],t[r]))return!1}return!0}function so(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function io(e,t){var n=so(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=so(n)}}function tu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nu(){for(var e=window,t=Pr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pr(e.document)}return t}function ai(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pm(e){var t=nu(),n=e.focusedElem,l=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&tu(n.ownerDocument.documentElement,n)){if(l!==null&&ai(n)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(l.start,r);l=l.end===void 0?a:Math.min(l.end,r),!e.extend&&a>l&&(r=l,l=a,a=r),r=io(n,a);var i=io(n,l);r&&i&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),a>l?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hm=Et&&"documentMode"in document&&11>=document.documentMode,Mn=null,fs=null,xl=null,ms=!1;function oo(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ms||Mn==null||Mn!==Pr(l)||(l=Mn,"selectionStart"in l&&ai(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xl&&El(xl,l)||(xl=l,l=Rr(fs,"onSelect"),0<l.length&&(t=new ni("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Mn)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ln={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionend:lr("Transition","TransitionEnd")},Ma={},lu={};Et&&(lu=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function ra(e){if(Ma[e])return Ma[e];if(!Ln[e])return e;var t=Ln[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lu)return Ma[e]=t[n];return e}var ru=ra("animationend"),au=ra("animationiteration"),su=ra("animationstart"),iu=ra("transitionend"),ou=new Map,co="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(e,t){ou.set(e,t),kn(t,[e])}for(var La=0;La<co.length;La++){var Ea=co[La],gm=Ea.toLowerCase(),ym=Ea[0].toUpperCase()+Ea.slice(1);en(gm,"on"+ym)}en(ru,"onAnimationEnd");en(au,"onAnimationIteration");en(su,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(iu,"onTransitionEnd");Gn("onMouseEnter",["mouseout","mouseover"]);Gn("onMouseLeave",["mouseout","mouseover"]);Gn("onPointerEnter",["pointerout","pointerover"]);Gn("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xm=new Set("cancel close invalid load scroll toggle".split(" ").concat(fl));function uo(e,t,n){var l=e.type||"unknown-event";e.currentTarget=n,gf(l,t,void 0,e),e.currentTarget=null}function cu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],r=l.event;l=l.listeners;e:{var a=void 0;if(t)for(var i=l.length-1;0<=i;i--){var o=l[i],u=o.instance,d=o.currentTarget;if(o=o.listener,u!==a&&r.isPropagationStopped())break e;uo(r,o,d),a=u}else for(i=0;i<l.length;i++){if(o=l[i],u=o.instance,d=o.currentTarget,o=o.listener,u!==a&&r.isPropagationStopped())break e;uo(r,o,d),a=u}}}if(Lr)throw e=os,Lr=!1,os=null,e}function he(e,t){var n=t[xs];n===void 0&&(n=t[xs]=new Set);var l=e+"__bubble";n.has(l)||(uu(t,e,2,!1),n.add(l))}function _a(e,t,n){var l=0;t&&(l|=4),uu(n,e,l,t)}var rr="_reactListening"+Math.random().toString(36).slice(2);function _l(e){if(!e[rr]){e[rr]=!0,yc.forEach(function(n){n!=="selectionchange"&&(xm.has(n)||_a(n,!1,e),_a(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rr]||(t[rr]=!0,_a("selectionchange",!1,t))}}function uu(e,t,n,l){switch(Hc(t)){case 1:var r=Tf;break;case 4:r=Af;break;default:r=ei}n=r.bind(null,t,n,e),r=void 0,!is||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),l?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ta(e,t,n,l,r){var a=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var i=l.tag;if(i===3||i===4){var o=l.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(i===4)for(i=l.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;i=i.return}for(;o!==null;){if(i=cn(o),i===null)return;if(u=i.tag,u===5||u===6){l=a=i;continue e}o=o.parentNode}}l=l.return}Ac(function(){var d=a,f=Ys(n),g=[];e:{var h=ou.get(e);if(h!==void 0){var v=ni,p=e;switch(e){case"keypress":if(xr(n)===0)break e;case"keydown":case"keyup":v=Qf;break;case"focusin":p="focus",v=Na;break;case"focusout":p="blur",v=Na;break;case"beforeblur":case"afterblur":v=Na;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Zi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Xf;break;case ru:case au:case su:v=Ff;break;case iu:v=Jf;break;case"scroll":v=Rf;break;case"wheel":v=tm;break;case"copy":case"cut":case"paste":v=Uf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=eo}var k=(t&4)!==0,R=!k&&e==="scroll",y=k?h!==null?h+"Capture":null:h;k=[];for(var m=d,x;m!==null;){x=m;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,y!==null&&(S=Nl(m,y),S!=null&&k.push(Tl(m,S,x)))),R)break;m=m.return}0<k.length&&(h=new v(h,p,null,n,f),g.push({event:h,listeners:k}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==as&&(p=n.relatedTarget||n.fromElement)&&(cn(p)||p[_t]))break e;if((v||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,v?(p=n.relatedTarget||n.toElement,v=d,p=p?cn(p):null,p!==null&&(R=Sn(p),p!==R||p.tag!==5&&p.tag!==6)&&(p=null)):(v=null,p=d),v!==p)){if(k=Zi,S="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(k=eo,S="onPointerLeave",y="onPointerEnter",m="pointer"),R=v==null?h:En(v),x=p==null?h:En(p),h=new k(S,m+"leave",v,n,f),h.target=R,h.relatedTarget=x,S=null,cn(f)===d&&(k=new k(y,m+"enter",p,n,f),k.target=x,k.relatedTarget=R,S=k),R=S,v&&p)t:{for(k=v,y=p,m=0,x=k;x;x=jn(x))m++;for(x=0,S=y;S;S=jn(S))x++;for(;0<m-x;)k=jn(k),m--;for(;0<x-m;)y=jn(y),x--;for(;m--;){if(k===y||y!==null&&k===y.alternate)break t;k=jn(k),y=jn(y)}k=null}else k=null;v!==null&&fo(g,h,v,k,!1),p!==null&&R!==null&&fo(g,R,p,k,!0)}}e:{if(h=d?En(d):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var N=om;else if(lo(h))if(Jc)N=fm;else{N=um;var A=cm}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=dm);if(N&&(N=N(e,d))){Zc(g,N,n,f);break e}A&&A(e,h,d),e==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&es(h,"number",h.value)}switch(A=d?En(d):window,e){case"focusin":(lo(A)||A.contentEditable==="true")&&(Mn=A,fs=d,xl=null);break;case"focusout":xl=fs=Mn=null;break;case"mousedown":ms=!0;break;case"contextmenu":case"mouseup":case"dragend":ms=!1,oo(g,n,f);break;case"selectionchange":if(hm)break;case"keydown":case"keyup":oo(g,n,f)}var F;if(ri)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Pn?Yc(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(Kc&&n.locale!=="ko"&&(Pn||B!=="onCompositionStart"?B==="onCompositionEnd"&&Pn&&(F=Qc()):(Ot=f,ti="value"in Ot?Ot.value:Ot.textContent,Pn=!0)),A=Rr(d,B),0<A.length&&(B=new Ji(B,e,null,n,f),g.push({event:B,listeners:A}),F?B.data=F:(F=Xc(n),F!==null&&(B.data=F)))),(F=lm?rm(e,n):am(e,n))&&(d=Rr(d,"onBeforeInput"),0<d.length&&(f=new Ji("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:d}),f.data=F))}cu(g,t)})}function Tl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rr(e,t){for(var n=t+"Capture",l=[];e!==null;){var r=e,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=Nl(e,n),a!=null&&l.unshift(Tl(e,a,r)),a=Nl(e,t),a!=null&&l.push(Tl(e,a,r))),e=e.return}return l}function jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fo(e,t,n,l,r){for(var a=t._reactName,i=[];n!==null&&n!==l;){var o=n,u=o.alternate,d=o.stateNode;if(u!==null&&u===l)break;o.tag===5&&d!==null&&(o=d,r?(u=Nl(n,a),u!=null&&i.unshift(Tl(n,u,o))):r||(u=Nl(n,a),u!=null&&i.push(Tl(n,u,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var vm=/\r\n?/g,wm=/\u0000|\uFFFD/g;function mo(e){return(typeof e=="string"?e:""+e).replace(vm,`
`).replace(wm,"")}function ar(e,t,n){if(t=mo(t),mo(e)!==t&&n)throw Error(L(425))}function Dr(){}var ps=null,hs=null;function gs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ys=typeof setTimeout=="function"?setTimeout:void 0,km=typeof clearTimeout=="function"?clearTimeout:void 0,po=typeof Promise=="function"?Promise:void 0,Sm=typeof queueMicrotask=="function"?queueMicrotask:typeof po<"u"?function(e){return po.resolve(null).then(e).catch(jm)}:ys;function jm(e){setTimeout(function(){throw e})}function Aa(e,t){var n=t,l=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(l===0){e.removeChild(r),Ml(t);return}l--}else n!=="$"&&n!=="$?"&&n!=="$!"||l++;n=r}while(n);Ml(t)}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ho(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jn=Math.random().toString(36).slice(2),kt="__reactFiber$"+Jn,Al="__reactProps$"+Jn,_t="__reactContainer$"+Jn,xs="__reactEvents$"+Jn,bm="__reactListeners$"+Jn,Nm="__reactHandles$"+Jn;function cn(e){var t=e[kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_t]||n[kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ho(e);e!==null;){if(n=e[kt])return n;e=ho(e)}return t}e=n,n=e.parentNode}return null}function Wl(e){return e=e[kt]||e[_t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function En(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function aa(e){return e[Al]||null}var vs=[],_n=-1;function tn(e){return{current:e}}function ge(e){0>_n||(e.current=vs[_n],vs[_n]=null,_n--)}function me(e,t){_n++,vs[_n]=e.current,e.current=t}var Jt={},Fe=tn(Jt),We=tn(!1),pn=Jt;function Vn(e,t){var n=e.type.contextTypes;if(!n)return Jt;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=t[a];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function He(e){return e=e.childContextTypes,e!=null}function zr(){ge(We),ge(Fe)}function go(e,t,n){if(Fe.current!==Jt)throw Error(L(168));me(Fe,t),me(We,n)}function du(e,t,n){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var r in l)if(!(r in t))throw Error(L(108,cf(e)||"Unknown",r));return we({},n,l)}function Ir(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jt,pn=Fe.current,me(Fe,e),me(We,We.current),!0}function yo(e,t,n){var l=e.stateNode;if(!l)throw Error(L(169));n?(e=du(e,t,pn),l.__reactInternalMemoizedMergedChildContext=e,ge(We),ge(Fe),me(Fe,e)):ge(We),me(We,n)}var Ct=null,sa=!1,Ra=!1;function fu(e){Ct===null?Ct=[e]:Ct.push(e)}function Cm(e){sa=!0,fu(e)}function nn(){if(!Ra&&Ct!==null){Ra=!0;var e=0,t=de;try{var n=Ct;for(de=1;e<n.length;e++){var l=n[e];do l=l(!0);while(l!==null)}Ct=null,sa=!1}catch(r){throw Ct!==null&&(Ct=Ct.slice(e+1)),Ic(Xs,nn),r}finally{de=t,Ra=!1}}return null}var Tn=[],An=0,$r=null,Fr=0,lt=[],rt=0,hn=null,Pt=1,Mt="";function sn(e,t){Tn[An++]=Fr,Tn[An++]=$r,$r=e,Fr=t}function mu(e,t,n){lt[rt++]=Pt,lt[rt++]=Mt,lt[rt++]=hn,hn=e;var l=Pt;e=Mt;var r=32-pt(l)-1;l&=~(1<<r),n+=1;var a=32-pt(t)+r;if(30<a){var i=r-r%5;a=(l&(1<<i)-1).toString(32),l>>=i,r-=i,Pt=1<<32-pt(t)+r|n<<r|l,Mt=a+e}else Pt=1<<a|n<<r|l,Mt=e}function si(e){e.return!==null&&(sn(e,1),mu(e,1,0))}function ii(e){for(;e===$r;)$r=Tn[--An],Tn[An]=null,Fr=Tn[--An],Tn[An]=null;for(;e===hn;)hn=lt[--rt],lt[rt]=null,Mt=lt[--rt],lt[rt]=null,Pt=lt[--rt],lt[rt]=null}var Ze=null,Xe=null,ye=!1,mt=null;function pu(e,t){var n=at(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,Xe=Ht(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hn!==null?{id:Pt,overflow:Mt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=at(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ze=e,Xe=null,!0):!1;default:return!1}}function ws(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ks(e){if(ye){var t=Xe;if(t){var n=t;if(!xo(e,t)){if(ws(e))throw Error(L(418));t=Ht(n.nextSibling);var l=Ze;t&&xo(e,t)?pu(l,n):(e.flags=e.flags&-4097|2,ye=!1,Ze=e)}}else{if(ws(e))throw Error(L(418));e.flags=e.flags&-4097|2,ye=!1,Ze=e}}}function vo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function sr(e){if(e!==Ze)return!1;if(!ye)return vo(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gs(e.type,e.memoizedProps)),t&&(t=Xe)){if(ws(e))throw hu(),Error(L(418));for(;t;)pu(e,t),t=Ht(t.nextSibling)}if(vo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xe=Ht(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=Ze?Ht(e.stateNode.nextSibling):null;return!0}function hu(){for(var e=Xe;e;)e=Ht(e.nextSibling)}function Wn(){Xe=Ze=null,ye=!1}function oi(e){mt===null?mt=[e]:mt.push(e)}var Pm=Rt.ReactCurrentBatchConfig;function al(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var l=n.stateNode}if(!l)throw Error(L(147,e));var r=l,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=r.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function ir(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wo(e){var t=e._init;return t(e._payload)}function gu(e){function t(y,m){if(e){var x=y.deletions;x===null?(y.deletions=[m],y.flags|=16):x.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function l(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function r(y,m){return y=Xt(y,m),y.index=0,y.sibling=null,y}function a(y,m,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<m?(y.flags|=2,m):x):(y.flags|=2,m)):(y.flags|=1048576,m)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,m,x,S){return m===null||m.tag!==6?(m=Ua(x,y.mode,S),m.return=y,m):(m=r(m,x),m.return=y,m)}function u(y,m,x,S){var N=x.type;return N===Cn?f(y,m,x.props.children,S,x.key):m!==null&&(m.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===It&&wo(N)===m.type)?(S=r(m,x.props),S.ref=al(y,m,x),S.return=y,S):(S=Nr(x.type,x.key,x.props,null,y.mode,S),S.ref=al(y,m,x),S.return=y,S)}function d(y,m,x,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=Oa(x,y.mode,S),m.return=y,m):(m=r(m,x.children||[]),m.return=y,m)}function f(y,m,x,S,N){return m===null||m.tag!==7?(m=mn(x,y.mode,S,N),m.return=y,m):(m=r(m,x),m.return=y,m)}function g(y,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ua(""+m,y.mode,x),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Yl:return x=Nr(m.type,m.key,m.props,null,y.mode,x),x.ref=al(y,null,m),x.return=y,x;case Nn:return m=Oa(m,y.mode,x),m.return=y,m;case It:var S=m._init;return g(y,S(m._payload),x)}if(ul(m)||el(m))return m=mn(m,y.mode,x,null),m.return=y,m;ir(y,m)}return null}function h(y,m,x,S){var N=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:o(y,m,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yl:return x.key===N?u(y,m,x,S):null;case Nn:return x.key===N?d(y,m,x,S):null;case It:return N=x._init,h(y,m,N(x._payload),S)}if(ul(x)||el(x))return N!==null?null:f(y,m,x,S,null);ir(y,x)}return null}function v(y,m,x,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(x)||null,o(m,y,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yl:return y=y.get(S.key===null?x:S.key)||null,u(m,y,S,N);case Nn:return y=y.get(S.key===null?x:S.key)||null,d(m,y,S,N);case It:var A=S._init;return v(y,m,x,A(S._payload),N)}if(ul(S)||el(S))return y=y.get(x)||null,f(m,y,S,N,null);ir(m,S)}return null}function p(y,m,x,S){for(var N=null,A=null,F=m,B=m=0,X=null;F!==null&&B<x.length;B++){F.index>B?(X=F,F=null):X=F.sibling;var H=h(y,F,x[B],S);if(H===null){F===null&&(F=X);break}e&&F&&H.alternate===null&&t(y,F),m=a(H,m,B),A===null?N=H:A.sibling=H,A=H,F=X}if(B===x.length)return n(y,F),ye&&sn(y,B),N;if(F===null){for(;B<x.length;B++)F=g(y,x[B],S),F!==null&&(m=a(F,m,B),A===null?N=F:A.sibling=F,A=F);return ye&&sn(y,B),N}for(F=l(y,F);B<x.length;B++)X=v(F,y,B,x[B],S),X!==null&&(e&&X.alternate!==null&&F.delete(X.key===null?B:X.key),m=a(X,m,B),A===null?N=X:A.sibling=X,A=X);return e&&F.forEach(function(G){return t(y,G)}),ye&&sn(y,B),N}function k(y,m,x,S){var N=el(x);if(typeof N!="function")throw Error(L(150));if(x=N.call(x),x==null)throw Error(L(151));for(var A=N=null,F=m,B=m=0,X=null,H=x.next();F!==null&&!H.done;B++,H=x.next()){F.index>B?(X=F,F=null):X=F.sibling;var G=h(y,F,H.value,S);if(G===null){F===null&&(F=X);break}e&&F&&G.alternate===null&&t(y,F),m=a(G,m,B),A===null?N=G:A.sibling=G,A=G,F=X}if(H.done)return n(y,F),ye&&sn(y,B),N;if(F===null){for(;!H.done;B++,H=x.next())H=g(y,H.value,S),H!==null&&(m=a(H,m,B),A===null?N=H:A.sibling=H,A=H);return ye&&sn(y,B),N}for(F=l(y,F);!H.done;B++,H=x.next())H=v(F,y,B,H.value,S),H!==null&&(e&&H.alternate!==null&&F.delete(H.key===null?B:H.key),m=a(H,m,B),A===null?N=H:A.sibling=H,A=H);return e&&F.forEach(function(ee){return t(y,ee)}),ye&&sn(y,B),N}function R(y,m,x,S){if(typeof x=="object"&&x!==null&&x.type===Cn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Yl:e:{for(var N=x.key,A=m;A!==null;){if(A.key===N){if(N=x.type,N===Cn){if(A.tag===7){n(y,A.sibling),m=r(A,x.props.children),m.return=y,y=m;break e}}else if(A.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===It&&wo(N)===A.type){n(y,A.sibling),m=r(A,x.props),m.ref=al(y,A,x),m.return=y,y=m;break e}n(y,A);break}else t(y,A);A=A.sibling}x.type===Cn?(m=mn(x.props.children,y.mode,S,x.key),m.return=y,y=m):(S=Nr(x.type,x.key,x.props,null,y.mode,S),S.ref=al(y,m,x),S.return=y,y=S)}return i(y);case Nn:e:{for(A=x.key;m!==null;){if(m.key===A)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(y,m.sibling),m=r(m,x.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else t(y,m);m=m.sibling}m=Oa(x,y.mode,S),m.return=y,y=m}return i(y);case It:return A=x._init,R(y,m,A(x._payload),S)}if(ul(x))return p(y,m,x,S);if(el(x))return k(y,m,x,S);ir(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(y,m.sibling),m=r(m,x),m.return=y,y=m):(n(y,m),m=Ua(x,y.mode,S),m.return=y,y=m),i(y)):n(y,m)}return R}var Hn=gu(!0),yu=gu(!1),Br=tn(null),Ur=null,Rn=null,ci=null;function ui(){ci=Rn=Ur=null}function di(e){var t=Br.current;ge(Br),e._currentValue=t}function Ss(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Un(e,t){Ur=e,ci=Rn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ve=!0),e.firstContext=null)}function it(e){var t=e._currentValue;if(ci!==e)if(e={context:e,memoizedValue:t,next:null},Rn===null){if(Ur===null)throw Error(L(308));Rn=e,Ur.dependencies={lanes:0,firstContext:e}}else Rn=Rn.next=e;return t}var un=null;function fi(e){un===null?un=[e]:un.push(e)}function xu(e,t,n,l){var r=t.interleaved;return r===null?(n.next=n,fi(t)):(n.next=r.next,r.next=n),t.interleaved=n,Tt(e,l)}function Tt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $t=!1;function mi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qt(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,ce&2){var r=l.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),l.pending=t,Tt(e,n)}return r=l.interleaved,r===null?(t.next=t,fi(l)):(t.next=r.next,r.next=t),l.interleaved=t,Tt(e,n)}function vr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Zs(e,n)}}function ko(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:l.shared,effects:l.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Or(e,t,n,l){var r=e.updateQueue;$t=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var u=o,d=u.next;u.next=null,i===null?a=d:i.next=d,i=u;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==i&&(o===null?f.firstBaseUpdate=d:o.next=d,f.lastBaseUpdate=u))}if(a!==null){var g=r.baseState;i=0,f=d=u=null,o=a;do{var h=o.lane,v=o.eventTime;if((l&h)===h){f!==null&&(f=f.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,k=o;switch(h=t,v=n,k.tag){case 1:if(p=k.payload,typeof p=="function"){g=p.call(v,g,h);break e}g=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=k.payload,h=typeof p=="function"?p.call(v,g,h):p,h==null)break e;g=we({},g,h);break e;case 2:$t=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=r.effects,h===null?r.effects=[o]:h.push(o))}else v={eventTime:v,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(d=f=v,u=g):f=f.next=v,i|=h;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;h=o,o=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(f===null&&(u=g),r.baseState=u,r.firstBaseUpdate=d,r.lastBaseUpdate=f,t=r.shared.interleaved,t!==null){r=t;do i|=r.lane,r=r.next;while(r!==t)}else a===null&&(r.shared.lanes=0);yn|=i,e.lanes=i,e.memoizedState=g}}function So(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],r=l.callback;if(r!==null){if(l.callback=null,l=n,typeof r!="function")throw Error(L(191,r));r.call(l)}}}var Hl={},jt=tn(Hl),Rl=tn(Hl),Dl=tn(Hl);function dn(e){if(e===Hl)throw Error(L(174));return e}function pi(e,t){switch(me(Dl,t),me(Rl,e),me(jt,Hl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ns(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ns(t,e)}ge(jt),me(jt,t)}function Qn(){ge(jt),ge(Rl),ge(Dl)}function wu(e){dn(Dl.current);var t=dn(jt.current),n=ns(t,e.type);t!==n&&(me(Rl,e),me(jt,n))}function hi(e){Rl.current===e&&(ge(jt),ge(Rl))}var xe=tn(0);function qr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Da=[];function gi(){for(var e=0;e<Da.length;e++)Da[e]._workInProgressVersionPrimary=null;Da.length=0}var wr=Rt.ReactCurrentDispatcher,za=Rt.ReactCurrentBatchConfig,gn=0,ve=null,Pe=null,Ee=null,Gr=!1,vl=!1,zl=0,Mm=0;function ze(){throw Error(L(321))}function yi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gt(e[n],t[n]))return!1;return!0}function xi(e,t,n,l,r,a){if(gn=a,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wr.current=e===null||e.memoizedState===null?Tm:Am,e=n(l,r),vl){a=0;do{if(vl=!1,zl=0,25<=a)throw Error(L(301));a+=1,Ee=Pe=null,t.updateQueue=null,wr.current=Rm,e=n(l,r)}while(vl)}if(wr.current=Vr,t=Pe!==null&&Pe.next!==null,gn=0,Ee=Pe=ve=null,Gr=!1,t)throw Error(L(300));return e}function vi(){var e=zl!==0;return zl=0,e}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?ve.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function ot(){if(Pe===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Ee===null?ve.memoizedState:Ee.next;if(t!==null)Ee=t,Pe=e;else{if(e===null)throw Error(L(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Ee===null?ve.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Il(e,t){return typeof t=="function"?t(e):t}function Ia(e){var t=ot(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var l=Pe,r=l.baseQueue,a=n.pending;if(a!==null){if(r!==null){var i=r.next;r.next=a.next,a.next=i}l.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,l=l.baseState;var o=i=null,u=null,d=a;do{var f=d.lane;if((gn&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),l=d.hasEagerState?d.eagerState:e(l,d.action);else{var g={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(o=u=g,i=l):u=u.next=g,ve.lanes|=f,yn|=f}d=d.next}while(d!==null&&d!==a);u===null?i=l:u.next=o,gt(l,t.memoizedState)||(Ve=!0),t.memoizedState=l,t.baseState=i,t.baseQueue=u,n.lastRenderedState=l}if(e=n.interleaved,e!==null){r=e;do a=r.lane,ve.lanes|=a,yn|=a,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $a(e){var t=ot(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var l=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var i=r=r.next;do a=e(a,i.action),i=i.next;while(i!==r);gt(a,t.memoizedState)||(Ve=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,l]}function ku(){}function Su(e,t){var n=ve,l=ot(),r=t(),a=!gt(l.memoizedState,r);if(a&&(l.memoizedState=r,Ve=!0),l=l.queue,wi(Nu.bind(null,n,l,e),[e]),l.getSnapshot!==t||a||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,$l(9,bu.bind(null,n,l,r,t),void 0,null),_e===null)throw Error(L(349));gn&30||ju(n,t,r)}return r}function ju(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bu(e,t,n,l){t.value=n,t.getSnapshot=l,Cu(t)&&Pu(e)}function Nu(e,t,n){return n(function(){Cu(t)&&Pu(e)})}function Cu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gt(e,n)}catch{return!0}}function Pu(e){var t=Tt(e,1);t!==null&&ht(t,e,1,-1)}function jo(e){var t=wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:e},t.queue=e,e=e.dispatch=_m.bind(null,ve,e),[t.memoizedState,e]}function $l(e,t,n,l){return e={tag:e,create:t,destroy:n,deps:l,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e)),e}function Mu(){return ot().memoizedState}function kr(e,t,n,l){var r=wt();ve.flags|=e,r.memoizedState=$l(1|t,n,void 0,l===void 0?null:l)}function ia(e,t,n,l){var r=ot();l=l===void 0?null:l;var a=void 0;if(Pe!==null){var i=Pe.memoizedState;if(a=i.destroy,l!==null&&yi(l,i.deps)){r.memoizedState=$l(t,n,a,l);return}}ve.flags|=e,r.memoizedState=$l(1|t,n,a,l)}function bo(e,t){return kr(8390656,8,e,t)}function wi(e,t){return ia(2048,8,e,t)}function Lu(e,t){return ia(4,2,e,t)}function Eu(e,t){return ia(4,4,e,t)}function _u(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Tu(e,t,n){return n=n!=null?n.concat([e]):null,ia(4,4,_u.bind(null,t,e),n)}function ki(){}function Au(e,t){var n=ot();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&yi(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Ru(e,t){var n=ot();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&yi(t,l[1])?l[0]:(e=e(),n.memoizedState=[e,t],e)}function Du(e,t,n){return gn&21?(gt(n,t)||(n=Bc(),ve.lanes|=n,yn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ve=!0),e.memoizedState=n)}function Lm(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var l=za.transition;za.transition={};try{e(!1),t()}finally{de=n,za.transition=l}}function zu(){return ot().memoizedState}function Em(e,t,n){var l=Yt(e);if(n={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null},Iu(e))$u(t,n);else if(n=xu(e,t,n,l),n!==null){var r=Ue();ht(n,e,l,r),Fu(n,t,l)}}function _m(e,t,n){var l=Yt(e),r={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null};if(Iu(e))$u(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(r.hasEagerState=!0,r.eagerState=o,gt(o,i)){var u=t.interleaved;u===null?(r.next=r,fi(t)):(r.next=u.next,u.next=r),t.interleaved=r;return}}catch{}finally{}n=xu(e,t,r,l),n!==null&&(r=Ue(),ht(n,e,l,r),Fu(n,t,l))}}function Iu(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function $u(e,t){vl=Gr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fu(e,t,n){if(n&4194240){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Zs(e,n)}}var Vr={readContext:it,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},Tm={readContext:it,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:bo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,kr(4194308,4,_u.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kr(4194308,4,e,t)},useInsertionEffect:function(e,t){return kr(4,2,e,t)},useMemo:function(e,t){var n=wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var l=wt();return t=n!==void 0?n(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=Em.bind(null,ve,e),[l.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:jo,useDebugValue:ki,useDeferredValue:function(e){return wt().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Lm.bind(null,e[1]),wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var l=ve,r=wt();if(ye){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),_e===null)throw Error(L(349));gn&30||ju(l,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,bo(Nu.bind(null,l,a,e),[e]),l.flags|=2048,$l(9,bu.bind(null,l,a,n,t),void 0,null),n},useId:function(){var e=wt(),t=_e.identifierPrefix;if(ye){var n=Mt,l=Pt;n=(l&~(1<<32-pt(l)-1)).toString(32)+n,t=":"+t+"R"+n,n=zl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Mm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Am={readContext:it,useCallback:Au,useContext:it,useEffect:wi,useImperativeHandle:Tu,useInsertionEffect:Lu,useLayoutEffect:Eu,useMemo:Ru,useReducer:Ia,useRef:Mu,useState:function(){return Ia(Il)},useDebugValue:ki,useDeferredValue:function(e){var t=ot();return Du(t,Pe.memoizedState,e)},useTransition:function(){var e=Ia(Il)[0],t=ot().memoizedState;return[e,t]},useMutableSource:ku,useSyncExternalStore:Su,useId:zu,unstable_isNewReconciler:!1},Rm={readContext:it,useCallback:Au,useContext:it,useEffect:wi,useImperativeHandle:Tu,useInsertionEffect:Lu,useLayoutEffect:Eu,useMemo:Ru,useReducer:$a,useRef:Mu,useState:function(){return $a(Il)},useDebugValue:ki,useDeferredValue:function(e){var t=ot();return Pe===null?t.memoizedState=e:Du(t,Pe.memoizedState,e)},useTransition:function(){var e=$a(Il)[0],t=ot().memoizedState;return[e,t]},useMutableSource:ku,useSyncExternalStore:Su,useId:zu,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function js(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return(e=e._reactInternals)?Sn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var l=Ue(),r=Yt(e),a=Lt(l,r);a.payload=t,n!=null&&(a.callback=n),t=Qt(e,a,r),t!==null&&(ht(t,e,r,l),vr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=Ue(),r=Yt(e),a=Lt(l,r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Qt(e,a,r),t!==null&&(ht(t,e,r,l),vr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ue(),l=Yt(e),r=Lt(n,l);r.tag=2,t!=null&&(r.callback=t),t=Qt(e,r,l),t!==null&&(ht(t,e,l,n),vr(t,e,l))}};function No(e,t,n,l,r,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,a,i):t.prototype&&t.prototype.isPureReactComponent?!El(n,l)||!El(r,a):!0}function Bu(e,t,n){var l=!1,r=Jt,a=t.contextType;return typeof a=="object"&&a!==null?a=it(a):(r=He(t)?pn:Fe.current,l=t.contextTypes,a=(l=l!=null)?Vn(e,r):Jt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function Co(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function bs(e,t,n,l){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},mi(e);var a=t.contextType;typeof a=="object"&&a!==null?r.context=it(a):(a=He(t)?pn:Fe.current,r.context=Vn(e,a)),r.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(js(e,t,a,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&oa.enqueueReplaceState(r,r.state,null),Or(e,n,r,l),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Kn(e,t){try{var n="",l=t;do n+=of(l),l=l.return;while(l);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:r,digest:null}}function Fa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ns(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dm=typeof WeakMap=="function"?WeakMap:Map;function Uu(e,t,n){n=Lt(-1,n),n.tag=3,n.payload={element:null};var l=t.value;return n.callback=function(){Hr||(Hr=!0,Ds=l),Ns(e,t)},n}function Ou(e,t,n){n=Lt(-1,n),n.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var r=t.value;n.payload=function(){return l(r)},n.callback=function(){Ns(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ns(e,t),typeof l!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Po(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new Dm;var r=new Set;l.set(t,r)}else r=l.get(t),r===void 0&&(r=new Set,l.set(t,r));r.has(n)||(r.add(n),e=Km.bind(null,e,t,n),t.then(e,e))}function Mo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lo(e,t,n,l,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Lt(-1,1),t.tag=2,Qt(n,t,1))),n.lanes|=1),e)}var zm=Rt.ReactCurrentOwner,Ve=!1;function Be(e,t,n,l){t.child=e===null?yu(t,null,n,l):Hn(t,e.child,n,l)}function Eo(e,t,n,l,r){n=n.render;var a=t.ref;return Un(t,r),l=xi(e,t,n,l,a,r),n=vi(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,At(e,t,r)):(ye&&n&&si(t),t.flags|=1,Be(e,t,l,r),t.child)}function _o(e,t,n,l,r){if(e===null){var a=n.type;return typeof a=="function"&&!Li(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,qu(e,t,a,l,r)):(e=Nr(n.type,null,l,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&r)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:El,n(i,l)&&e.ref===t.ref)return At(e,t,r)}return t.flags|=1,e=Xt(a,l),e.ref=t.ref,e.return=t,t.child=e}function qu(e,t,n,l,r){if(e!==null){var a=e.memoizedProps;if(El(a,l)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=l=a,(e.lanes&r)!==0)e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,At(e,t,r)}return Cs(e,t,n,l,r)}function Gu(e,t,n){var l=t.pendingProps,r=l.children,a=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(zn,Ye),Ye|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(zn,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=a!==null?a.baseLanes:n,me(zn,Ye),Ye|=l}else a!==null?(l=a.baseLanes|n,t.memoizedState=null):l=n,me(zn,Ye),Ye|=l;return Be(e,t,r,n),t.child}function Vu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,l,r){var a=He(n)?pn:Fe.current;return a=Vn(t,a),Un(t,r),n=xi(e,t,n,l,a,r),l=vi(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,At(e,t,r)):(ye&&l&&si(t),t.flags|=1,Be(e,t,n,r),t.child)}function To(e,t,n,l,r){if(He(n)){var a=!0;Ir(t)}else a=!1;if(Un(t,r),t.stateNode===null)Sr(e,t),Bu(t,n,l),bs(t,n,l,r),l=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var u=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=it(d):(d=He(n)?pn:Fe.current,d=Vn(t,d));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==l||u!==d)&&Co(t,i,l,d),$t=!1;var h=t.memoizedState;i.state=h,Or(t,l,i,r),u=t.memoizedState,o!==l||h!==u||We.current||$t?(typeof f=="function"&&(js(t,n,f,l),u=t.memoizedState),(o=$t||No(t,n,o,l,h,u,d))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=u),i.props=l,i.state=u,i.context=d,l=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,vu(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:dt(t.type,o),i.props=d,g=t.pendingProps,h=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=it(u):(u=He(n)?pn:Fe.current,u=Vn(t,u));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==g||h!==u)&&Co(t,i,l,u),$t=!1,h=t.memoizedState,i.state=h,Or(t,l,i,r);var p=t.memoizedState;o!==g||h!==p||We.current||$t?(typeof v=="function"&&(js(t,n,v,l),p=t.memoizedState),(d=$t||No(t,n,d,l,h,p,u)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,p,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,p,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=p),i.props=l,i.state=p,i.context=u,l=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),l=!1)}return Ps(e,t,n,l,a,r)}function Ps(e,t,n,l,r,a){Vu(e,t);var i=(t.flags&128)!==0;if(!l&&!i)return r&&yo(t,n,!1),At(e,t,a);l=t.stateNode,zm.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&i?(t.child=Hn(t,e.child,null,a),t.child=Hn(t,null,o,a)):Be(e,t,o,a),t.memoizedState=l.state,r&&yo(t,n,!0),t.child}function Wu(e){var t=e.stateNode;t.pendingContext?go(e,t.pendingContext,t.pendingContext!==t.context):t.context&&go(e,t.context,!1),pi(e,t.containerInfo)}function Ao(e,t,n,l,r){return Wn(),oi(r),t.flags|=256,Be(e,t,n,l),t.child}var Ms={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hu(e,t,n){var l=t.pendingProps,r=xe.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(r&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),me(xe,r&1),e===null)return ks(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=l.children,e=l.fallback,a?(l=t.mode,a=t.child,i={mode:"hidden",children:i},!(l&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=da(i,l,0,null),e=mn(e,l,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ls(n),t.memoizedState=Ms,e):Si(t,i));if(r=e.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return Im(e,t,i,l,o,r,n);if(a){a=l.fallback,i=t.mode,r=e.child,o=r.sibling;var u={mode:"hidden",children:l.children};return!(i&1)&&t.child!==r?(l=t.child,l.childLanes=0,l.pendingProps=u,t.deletions=null):(l=Xt(r,u),l.subtreeFlags=r.subtreeFlags&14680064),o!==null?a=Xt(o,a):(a=mn(a,i,n,null),a.flags|=2),a.return=t,l.return=t,l.sibling=a,t.child=l,l=a,a=t.child,i=e.child.memoizedState,i=i===null?Ls(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Ms,l}return a=e.child,e=a.sibling,l=Xt(a,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=n),l.return=t,l.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=l,t.memoizedState=null,l}function Si(e,t){return t=da({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function or(e,t,n,l){return l!==null&&oi(l),Hn(t,e.child,null,n),e=Si(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Im(e,t,n,l,r,a,i){if(n)return t.flags&256?(t.flags&=-257,l=Fa(Error(L(422))),or(e,t,i,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=l.fallback,r=t.mode,l=da({mode:"visible",children:l.children},r,0,null),a=mn(a,r,i,null),a.flags|=2,l.return=t,a.return=t,l.sibling=a,t.child=l,t.mode&1&&Hn(t,e.child,null,i),t.child.memoizedState=Ls(i),t.memoizedState=Ms,a);if(!(t.mode&1))return or(e,t,i,null);if(r.data==="$!"){if(l=r.nextSibling&&r.nextSibling.dataset,l)var o=l.dgst;return l=o,a=Error(L(419)),l=Fa(a,l,void 0),or(e,t,i,l)}if(o=(i&e.childLanes)!==0,Ve||o){if(l=_e,l!==null){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(l.suspendedLanes|i)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,Tt(e,r),ht(l,e,r,-1))}return Mi(),l=Fa(Error(L(421))),or(e,t,i,l)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=Ym.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,Xe=Ht(r.nextSibling),Ze=t,ye=!0,mt=null,e!==null&&(lt[rt++]=Pt,lt[rt++]=Mt,lt[rt++]=hn,Pt=e.id,Mt=e.overflow,hn=t),t=Si(t,l.children),t.flags|=4096,t)}function Ro(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ss(e.return,t,n)}function Ba(e,t,n,l,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=l,a.tail=n,a.tailMode=r)}function Qu(e,t,n){var l=t.pendingProps,r=l.revealOrder,a=l.tail;if(Be(e,t,l.children,n),l=xe.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ro(e,n,t);else if(e.tag===19)Ro(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(me(xe,l),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&qr(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ba(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&qr(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ba(t,!0,n,null,a);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Xt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $m(e,t,n){switch(t.tag){case 3:Wu(t),Wn();break;case 5:wu(t);break;case 1:He(t.type)&&Ir(t);break;case 4:pi(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,r=t.memoizedProps.value;me(Br,l._currentValue),l._currentValue=r;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(me(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?Hu(e,t,n):(me(xe,xe.current&1),e=At(e,t,n),e!==null?e.sibling:null);me(xe,xe.current&1);break;case 19:if(l=(n&t.childLanes)!==0,e.flags&128){if(l)return Qu(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),me(xe,xe.current),l)break;return null;case 22:case 23:return t.lanes=0,Gu(e,t,n)}return At(e,t,n)}var Ku,Es,Yu,Xu;Ku=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Es=function(){};Yu=function(e,t,n,l){var r=e.memoizedProps;if(r!==l){e=t.stateNode,dn(jt.current);var a=null;switch(n){case"input":r=Za(e,r),l=Za(e,l),a=[];break;case"select":r=we({},r,{value:void 0}),l=we({},l,{value:void 0}),a=[];break;case"textarea":r=ts(e,r),l=ts(e,l),a=[];break;default:typeof r.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Dr)}ls(n,l);var i;n=null;for(d in r)if(!l.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var o=r[d];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(jl.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in l){var u=l[d];if(o=r!=null?r[d]:void 0,l.hasOwnProperty(d)&&u!==o&&(u!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&o[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(a||(a=[]),a.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(a=a||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(jl.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&he("scroll",e),a||o===u||(a=[])):(a=a||[]).push(d,u))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Xu=function(e,t,n,l){n!==l&&(t.flags|=4)};function sl(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,l|=r.subtreeFlags&14680064,l|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function Fm(e,t,n){var l=t.pendingProps;switch(ii(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return He(t.type)&&zr(),Ie(t),null;case 3:return l=t.stateNode,Qn(),ge(We),ge(Fe),gi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(sr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&($s(mt),mt=null))),Es(e,t),Ie(t),null;case 5:hi(t);var r=dn(Dl.current);if(n=t.type,e!==null&&t.stateNode!=null)Yu(e,t,n,l,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(L(166));return Ie(t),null}if(e=dn(jt.current),sr(t)){l=t.stateNode,n=t.type;var a=t.memoizedProps;switch(l[kt]=t,l[Al]=a,e=(t.mode&1)!==0,n){case"dialog":he("cancel",l),he("close",l);break;case"iframe":case"object":case"embed":he("load",l);break;case"video":case"audio":for(r=0;r<fl.length;r++)he(fl[r],l);break;case"source":he("error",l);break;case"img":case"image":case"link":he("error",l),he("load",l);break;case"details":he("toggle",l);break;case"input":Oi(l,a),he("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!a.multiple},he("invalid",l);break;case"textarea":Gi(l,a),he("invalid",l)}ls(n,a),r=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?l.textContent!==o&&(a.suppressHydrationWarning!==!0&&ar(l.textContent,o,e),r=["children",o]):typeof o=="number"&&l.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&ar(l.textContent,o,e),r=["children",""+o]):jl.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&he("scroll",l)}switch(n){case"input":Xl(l),qi(l,a,!0);break;case"textarea":Xl(l),Vi(l);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(l.onclick=Dr)}l=r,t.updateQueue=l,l!==null&&(t.flags|=4)}else{i=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=i.createElement(n,{is:l.is}):(e=i.createElement(n),n==="select"&&(i=e,l.multiple?i.multiple=!0:l.size&&(i.size=l.size))):e=i.createElementNS(e,n),e[kt]=t,e[Al]=l,Ku(e,t,!1,!1),t.stateNode=e;e:{switch(i=rs(n,l),n){case"dialog":he("cancel",e),he("close",e),r=l;break;case"iframe":case"object":case"embed":he("load",e),r=l;break;case"video":case"audio":for(r=0;r<fl.length;r++)he(fl[r],e);r=l;break;case"source":he("error",e),r=l;break;case"img":case"image":case"link":he("error",e),he("load",e),r=l;break;case"details":he("toggle",e),r=l;break;case"input":Oi(e,l),r=Za(e,l),he("invalid",e);break;case"option":r=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},r=we({},l,{value:void 0}),he("invalid",e);break;case"textarea":Gi(e,l),r=ts(e,l),he("invalid",e);break;default:r=l}ls(n,r),o=r;for(a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="style"?Mc(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Cc(e,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&bl(e,u):typeof u=="number"&&bl(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(jl.hasOwnProperty(a)?u!=null&&a==="onScroll"&&he("scroll",e):u!=null&&Ws(e,a,u,i))}switch(n){case"input":Xl(e),qi(e,l,!1);break;case"textarea":Xl(e),Vi(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Zt(l.value));break;case"select":e.multiple=!!l.multiple,a=l.value,a!=null?In(e,!!l.multiple,a,!1):l.defaultValue!=null&&In(e,!!l.multiple,l.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Dr)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)Xu(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(L(166));if(n=dn(Dl.current),dn(jt.current),sr(t)){if(l=t.stateNode,n=t.memoizedProps,l[kt]=t,(a=l.nodeValue!==n)&&(e=Ze,e!==null))switch(e.tag){case 3:ar(l.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ar(l.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else l=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),l[kt]=t,t.stateNode=l}return Ie(t),null;case 13:if(ge(xe),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&Xe!==null&&t.mode&1&&!(t.flags&128))hu(),Wn(),t.flags|=98560,a=!1;else if(a=sr(t),l!==null&&l.dehydrated!==null){if(e===null){if(!a)throw Error(L(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(L(317));a[kt]=t}else Wn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),a=!1}else mt!==null&&($s(mt),mt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Me===0&&(Me=3):Mi())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return Qn(),Es(e,t),e===null&&_l(t.stateNode.containerInfo),Ie(t),null;case 10:return di(t.type._context),Ie(t),null;case 17:return He(t.type)&&zr(),Ie(t),null;case 19:if(ge(xe),a=t.memoizedState,a===null)return Ie(t),null;if(l=(t.flags&128)!==0,i=a.rendering,i===null)if(l)sl(a,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=qr(e),i!==null){for(t.flags|=128,sl(a,!1),l=i.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=n,n=t.child;n!==null;)a=n,e=l,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return me(xe,xe.current&1|2),t.child}e=e.sibling}a.tail!==null&&be()>Yn&&(t.flags|=128,l=!0,sl(a,!1),t.lanes=4194304)}else{if(!l)if(e=qr(i),e!==null){if(t.flags|=128,l=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),sl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ye)return Ie(t),null}else 2*be()-a.renderingStartTime>Yn&&n!==1073741824&&(t.flags|=128,l=!0,sl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=be(),t.sibling=null,n=xe.current,me(xe,l?n&1|2:n&1),t):(Ie(t),null);case 22:case 23:return Pi(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?Ye&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Bm(e,t){switch(ii(t),t.tag){case 1:return He(t.type)&&zr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qn(),ge(We),ge(Fe),gi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hi(t),null;case 13:if(ge(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(xe),null;case 4:return Qn(),null;case 10:return di(t.type._context),null;case 22:case 23:return Pi(),null;case 24:return null;default:return null}}var cr=!1,$e=!1,Um=typeof WeakSet=="function"?WeakSet:Set,O=null;function Dn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(l){Se(e,t,l)}else n.current=null}function _s(e,t,n){try{n()}catch(l){Se(e,t,l)}}var Do=!1;function Om(e,t){if(ps=Tr,e=nu(),ai(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var r=l.anchorOffset,a=l.focusNode;l=l.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,u=-1,d=0,f=0,g=e,h=null;t:for(;;){for(var v;g!==n||r!==0&&g.nodeType!==3||(o=i+r),g!==a||l!==0&&g.nodeType!==3||(u=i+l),g.nodeType===3&&(i+=g.nodeValue.length),(v=g.firstChild)!==null;)h=g,g=v;for(;;){if(g===e)break t;if(h===n&&++d===r&&(o=i),h===a&&++f===l&&(u=i),(v=g.nextSibling)!==null)break;g=h,h=g.parentNode}g=v}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(hs={focusedElem:e,selectionRange:n},Tr=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var k=p.memoizedProps,R=p.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?k:dt(t.type,k),R);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(S){Se(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return p=Do,Do=!1,p}function wl(e,t,n){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var r=l=l.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,a!==void 0&&_s(t,n,a)}r=r.next}while(r!==l)}}function ca(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var l=n.create;n.destroy=l()}n=n.next}while(n!==t)}}function Ts(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zu(e){var t=e.alternate;t!==null&&(e.alternate=null,Zu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[Al],delete t[xs],delete t[bm],delete t[Nm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ju(e){return e.tag===5||e.tag===3||e.tag===4}function zo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ju(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function As(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Dr));else if(l!==4&&(e=e.child,e!==null))for(As(e,t,n),e=e.sibling;e!==null;)As(e,t,n),e=e.sibling}function Rs(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Rs(e,t,n),e=e.sibling;e!==null;)Rs(e,t,n),e=e.sibling}var Ae=null,ft=!1;function Dt(e,t,n){for(n=n.child;n!==null;)ed(e,t,n),n=n.sibling}function ed(e,t,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(ta,n)}catch{}switch(n.tag){case 5:$e||Dn(n,t);case 6:var l=Ae,r=ft;Ae=null,Dt(e,t,n),Ae=l,ft=r,Ae!==null&&(ft?(e=Ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(ft?(e=Ae,n=n.stateNode,e.nodeType===8?Aa(e.parentNode,n):e.nodeType===1&&Aa(e,n),Ml(e)):Aa(Ae,n.stateNode));break;case 4:l=Ae,r=ft,Ae=n.stateNode.containerInfo,ft=!0,Dt(e,t,n),Ae=l,ft=r;break;case 0:case 11:case 14:case 15:if(!$e&&(l=n.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){r=l=l.next;do{var a=r,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&_s(n,t,i),r=r.next}while(r!==l)}Dt(e,t,n);break;case 1:if(!$e&&(Dn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=n.memoizedProps,l.state=n.memoizedState,l.componentWillUnmount()}catch(o){Se(n,t,o)}Dt(e,t,n);break;case 21:Dt(e,t,n);break;case 22:n.mode&1?($e=(l=$e)||n.memoizedState!==null,Dt(e,t,n),$e=l):Dt(e,t,n);break;default:Dt(e,t,n)}}function Io(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Um),t.forEach(function(l){var r=Xm.bind(null,e,l);n.has(l)||(n.add(l),l.then(r,r))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var r=n[l];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ae=o.stateNode,ft=!1;break e;case 3:Ae=o.stateNode.containerInfo,ft=!0;break e;case 4:Ae=o.stateNode.containerInfo,ft=!0;break e}o=o.return}if(Ae===null)throw Error(L(160));ed(a,i,r),Ae=null,ft=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(d){Se(r,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)td(t,e),t=t.sibling}function td(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),vt(e),l&4){try{wl(3,e,e.return),ca(3,e)}catch(k){Se(e,e.return,k)}try{wl(5,e,e.return)}catch(k){Se(e,e.return,k)}}break;case 1:ut(t,e),vt(e),l&512&&n!==null&&Dn(n,n.return);break;case 5:if(ut(t,e),vt(e),l&512&&n!==null&&Dn(n,n.return),e.flags&32){var r=e.stateNode;try{bl(r,"")}catch(k){Se(e,e.return,k)}}if(l&4&&(r=e.stateNode,r!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&jc(r,a),rs(o,i);var d=rs(o,a);for(i=0;i<u.length;i+=2){var f=u[i],g=u[i+1];f==="style"?Mc(r,g):f==="dangerouslySetInnerHTML"?Cc(r,g):f==="children"?bl(r,g):Ws(r,f,g,d)}switch(o){case"input":Ja(r,a);break;case"textarea":bc(r,a);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?In(r,!!a.multiple,v,!1):h!==!!a.multiple&&(a.defaultValue!=null?In(r,!!a.multiple,a.defaultValue,!0):In(r,!!a.multiple,a.multiple?[]:"",!1))}r[Al]=a}catch(k){Se(e,e.return,k)}}break;case 6:if(ut(t,e),vt(e),l&4){if(e.stateNode===null)throw Error(L(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(k){Se(e,e.return,k)}}break;case 3:if(ut(t,e),vt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Ml(t.containerInfo)}catch(k){Se(e,e.return,k)}break;case 4:ut(t,e),vt(e);break;case 13:ut(t,e),vt(e),r=e.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(Ni=be())),l&4&&Io(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?($e=(d=$e)||f,ut(t,e),$e=d):ut(t,e),vt(e),l&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(O=e,f=e.child;f!==null;){for(g=O=f;O!==null;){switch(h=O,v=h.child,h.tag){case 0:case 11:case 14:case 15:wl(4,h,h.return);break;case 1:Dn(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){l=h,n=h.return;try{t=l,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(k){Se(l,n,k)}}break;case 5:Dn(h,h.return);break;case 22:if(h.memoizedState!==null){Fo(g);continue}}v!==null?(v.return=h,O=v):Fo(g)}f=f.sibling}e:for(f=null,g=e;;){if(g.tag===5){if(f===null){f=g;try{r=g.stateNode,d?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=g.stateNode,u=g.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Pc("display",i))}catch(k){Se(e,e.return,k)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(k){Se(e,e.return,k)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:ut(t,e),vt(e),l&4&&Io(e);break;case 21:break;default:ut(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ju(n)){var l=n;break e}n=n.return}throw Error(L(160))}switch(l.tag){case 5:var r=l.stateNode;l.flags&32&&(bl(r,""),l.flags&=-33);var a=zo(e);Rs(e,a,r);break;case 3:case 4:var i=l.stateNode.containerInfo,o=zo(e);As(e,o,i);break;default:throw Error(L(161))}}catch(u){Se(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qm(e,t,n){O=e,nd(e)}function nd(e,t,n){for(var l=(e.mode&1)!==0;O!==null;){var r=O,a=r.child;if(r.tag===22&&l){var i=r.memoizedState!==null||cr;if(!i){var o=r.alternate,u=o!==null&&o.memoizedState!==null||$e;o=cr;var d=$e;if(cr=i,($e=u)&&!d)for(O=r;O!==null;)i=O,u=i.child,i.tag===22&&i.memoizedState!==null?Bo(r):u!==null?(u.return=i,O=u):Bo(r);for(;a!==null;)O=a,nd(a),a=a.sibling;O=r,cr=o,$e=d}$o(e)}else r.subtreeFlags&8772&&a!==null?(a.return=r,O=a):$o(e)}}function $o(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||ca(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!$e)if(n===null)l.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);l.componentDidUpdate(r,n.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&So(t,a,l);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}So(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&Ml(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}$e||t.flags&512&&Ts(t)}catch(h){Se(t,t.return,h)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Fo(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function Bo(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ca(4,t)}catch(u){Se(t,n,u)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var r=t.return;try{l.componentDidMount()}catch(u){Se(t,r,u)}}var a=t.return;try{Ts(t)}catch(u){Se(t,a,u)}break;case 5:var i=t.return;try{Ts(t)}catch(u){Se(t,i,u)}}}catch(u){Se(t,t.return,u)}if(t===e){O=null;break}var o=t.sibling;if(o!==null){o.return=t.return,O=o;break}O=t.return}}var Gm=Math.ceil,Wr=Rt.ReactCurrentDispatcher,ji=Rt.ReactCurrentOwner,st=Rt.ReactCurrentBatchConfig,ce=0,_e=null,Ce=null,Re=0,Ye=0,zn=tn(0),Me=0,Fl=null,yn=0,ua=0,bi=0,kl=null,Ge=null,Ni=0,Yn=1/0,Nt=null,Hr=!1,Ds=null,Kt=null,ur=!1,qt=null,Qr=0,Sl=0,zs=null,jr=-1,br=0;function Ue(){return ce&6?be():jr!==-1?jr:jr=be()}function Yt(e){return e.mode&1?ce&2&&Re!==0?Re&-Re:Pm.transition!==null?(br===0&&(br=Bc()),br):(e=de,e!==0||(e=window.event,e=e===void 0?16:Hc(e.type)),e):1}function ht(e,t,n,l){if(50<Sl)throw Sl=0,zs=null,Error(L(185));Gl(e,n,l),(!(ce&2)||e!==_e)&&(e===_e&&(!(ce&2)&&(ua|=n),Me===4&&Ut(e,Re)),Qe(e,l),n===1&&ce===0&&!(t.mode&1)&&(Yn=be()+500,sa&&nn()))}function Qe(e,t){var n=e.callbackNode;Pf(e,t);var l=_r(e,e===_e?Re:0);if(l===0)n!==null&&Qi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(n!=null&&Qi(n),t===1)e.tag===0?Cm(Uo.bind(null,e)):fu(Uo.bind(null,e)),Sm(function(){!(ce&6)&&nn()}),n=null;else{switch(Uc(l)){case 1:n=Xs;break;case 4:n=$c;break;case 16:n=Er;break;case 536870912:n=Fc;break;default:n=Er}n=ud(n,ld.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ld(e,t){if(jr=-1,br=0,ce&6)throw Error(L(327));var n=e.callbackNode;if(On()&&e.callbackNode!==n)return null;var l=_r(e,e===_e?Re:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=Kr(e,l);else{t=l;var r=ce;ce|=2;var a=ad();(_e!==e||Re!==t)&&(Nt=null,Yn=be()+500,fn(e,t));do try{Hm();break}catch(o){rd(e,o)}while(!0);ui(),Wr.current=a,ce=r,Ce!==null?t=0:(_e=null,Re=0,t=Me)}if(t!==0){if(t===2&&(r=cs(e),r!==0&&(l=r,t=Is(e,r))),t===1)throw n=Fl,fn(e,0),Ut(e,l),Qe(e,be()),n;if(t===6)Ut(e,l);else{if(r=e.current.alternate,!(l&30)&&!Vm(r)&&(t=Kr(e,l),t===2&&(a=cs(e),a!==0&&(l=a,t=Is(e,a))),t===1))throw n=Fl,fn(e,0),Ut(e,l),Qe(e,be()),n;switch(e.finishedWork=r,e.finishedLanes=l,t){case 0:case 1:throw Error(L(345));case 2:on(e,Ge,Nt);break;case 3:if(Ut(e,l),(l&130023424)===l&&(t=Ni+500-be(),10<t)){if(_r(e,0)!==0)break;if(r=e.suspendedLanes,(r&l)!==l){Ue(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ys(on.bind(null,e,Ge,Nt),t);break}on(e,Ge,Nt);break;case 4:if(Ut(e,l),(l&4194240)===l)break;for(t=e.eventTimes,r=-1;0<l;){var i=31-pt(l);a=1<<i,i=t[i],i>r&&(r=i),l&=~a}if(l=r,l=be()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Gm(l/1960))-l,10<l){e.timeoutHandle=ys(on.bind(null,e,Ge,Nt),l);break}on(e,Ge,Nt);break;case 5:on(e,Ge,Nt);break;default:throw Error(L(329))}}}return Qe(e,be()),e.callbackNode===n?ld.bind(null,e):null}function Is(e,t){var n=kl;return e.current.memoizedState.isDehydrated&&(fn(e,t).flags|=256),e=Kr(e,t),e!==2&&(t=Ge,Ge=n,t!==null&&$s(t)),e}function $s(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function Vm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var l=0;l<n.length;l++){var r=n[l],a=r.getSnapshot;r=r.value;try{if(!gt(a(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ut(e,t){for(t&=~bi,t&=~ua,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),l=1<<n;e[n]=-1,t&=~l}}function Uo(e){if(ce&6)throw Error(L(327));On();var t=_r(e,0);if(!(t&1))return Qe(e,be()),null;var n=Kr(e,t);if(e.tag!==0&&n===2){var l=cs(e);l!==0&&(t=l,n=Is(e,l))}if(n===1)throw n=Fl,fn(e,0),Ut(e,t),Qe(e,be()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,on(e,Ge,Nt),Qe(e,be()),null}function Ci(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(Yn=be()+500,sa&&nn())}}function xn(e){qt!==null&&qt.tag===0&&!(ce&6)&&On();var t=ce;ce|=1;var n=st.transition,l=de;try{if(st.transition=null,de=1,e)return e()}finally{de=l,st.transition=n,ce=t,!(ce&6)&&nn()}}function Pi(){Ye=zn.current,ge(zn)}function fn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,km(n)),Ce!==null)for(n=Ce.return;n!==null;){var l=n;switch(ii(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&zr();break;case 3:Qn(),ge(We),ge(Fe),gi();break;case 5:hi(l);break;case 4:Qn();break;case 13:ge(xe);break;case 19:ge(xe);break;case 10:di(l.type._context);break;case 22:case 23:Pi()}n=n.return}if(_e=e,Ce=e=Xt(e.current,null),Re=Ye=t,Me=0,Fl=null,bi=ua=yn=0,Ge=kl=null,un!==null){for(t=0;t<un.length;t++)if(n=un[t],l=n.interleaved,l!==null){n.interleaved=null;var r=l.next,a=n.pending;if(a!==null){var i=a.next;a.next=r,l.next=i}n.pending=l}un=null}return e}function rd(e,t){do{var n=Ce;try{if(ui(),wr.current=Vr,Gr){for(var l=ve.memoizedState;l!==null;){var r=l.queue;r!==null&&(r.pending=null),l=l.next}Gr=!1}if(gn=0,Ee=Pe=ve=null,vl=!1,zl=0,ji.current=null,n===null||n.return===null){Me=1,Fl=t,Ce=null;break}e:{var a=e,i=n.return,o=n,u=t;if(t=Re,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=o,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Mo(i);if(v!==null){v.flags&=-257,Lo(v,i,o,a,t),v.mode&1&&Po(a,d,t),t=v,u=d;var p=t.updateQueue;if(p===null){var k=new Set;k.add(u),t.updateQueue=k}else p.add(u);break e}else{if(!(t&1)){Po(a,d,t),Mi();break e}u=Error(L(426))}}else if(ye&&o.mode&1){var R=Mo(i);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Lo(R,i,o,a,t),oi(Kn(u,o));break e}}a=u=Kn(u,o),Me!==4&&(Me=2),kl===null?kl=[a]:kl.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=Uu(a,u,t);ko(a,y);break e;case 1:o=u;var m=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Kt===null||!Kt.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=Ou(a,o,t);ko(a,S);break e}}a=a.return}while(a!==null)}id(n)}catch(N){t=N,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(!0)}function ad(){var e=Wr.current;return Wr.current=Vr,e===null?Vr:e}function Mi(){(Me===0||Me===3||Me===2)&&(Me=4),_e===null||!(yn&268435455)&&!(ua&268435455)||Ut(_e,Re)}function Kr(e,t){var n=ce;ce|=2;var l=ad();(_e!==e||Re!==t)&&(Nt=null,fn(e,t));do try{Wm();break}catch(r){rd(e,r)}while(!0);if(ui(),ce=n,Wr.current=l,Ce!==null)throw Error(L(261));return _e=null,Re=0,Me}function Wm(){for(;Ce!==null;)sd(Ce)}function Hm(){for(;Ce!==null&&!xf();)sd(Ce)}function sd(e){var t=cd(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?id(e):Ce=t,ji.current=null}function id(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Bm(n,t),n!==null){n.flags&=32767,Ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,Ce=null;return}}else if(n=Fm(n,t,Ye),n!==null){Ce=n;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);Me===0&&(Me=5)}function on(e,t,n){var l=de,r=st.transition;try{st.transition=null,de=1,Qm(e,t,n,l)}finally{st.transition=r,de=l}return null}function Qm(e,t,n,l){do On();while(qt!==null);if(ce&6)throw Error(L(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Mf(e,a),e===_e&&(Ce=_e=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ur||(ur=!0,ud(Er,function(){return On(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=st.transition,st.transition=null;var i=de;de=1;var o=ce;ce|=4,ji.current=null,Om(e,n),td(n,e),pm(hs),Tr=!!ps,hs=ps=null,e.current=n,qm(n),vf(),ce=o,de=i,st.transition=a}else e.current=n;if(ur&&(ur=!1,qt=e,Qr=r),a=e.pendingLanes,a===0&&(Kt=null),Sf(n.stateNode),Qe(e,be()),t!==null)for(l=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],l(r.value,{componentStack:r.stack,digest:r.digest});if(Hr)throw Hr=!1,e=Ds,Ds=null,e;return Qr&1&&e.tag!==0&&On(),a=e.pendingLanes,a&1?e===zs?Sl++:(Sl=0,zs=e):Sl=0,nn(),null}function On(){if(qt!==null){var e=Uc(Qr),t=st.transition,n=de;try{if(st.transition=null,de=16>e?16:e,qt===null)var l=!1;else{if(e=qt,qt=null,Qr=0,ce&6)throw Error(L(331));var r=ce;for(ce|=4,O=e.current;O!==null;){var a=O,i=a.child;if(O.flags&16){var o=a.deletions;if(o!==null){for(var u=0;u<o.length;u++){var d=o[u];for(O=d;O!==null;){var f=O;switch(f.tag){case 0:case 11:case 15:wl(8,f,a)}var g=f.child;if(g!==null)g.return=f,O=g;else for(;O!==null;){f=O;var h=f.sibling,v=f.return;if(Zu(f),f===d){O=null;break}if(h!==null){h.return=v,O=h;break}O=v}}}var p=a.alternate;if(p!==null){var k=p.child;if(k!==null){p.child=null;do{var R=k.sibling;k.sibling=null,k=R}while(k!==null)}}O=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,O=i;else e:for(;O!==null;){if(a=O,a.flags&2048)switch(a.tag){case 0:case 11:case 15:wl(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,O=y;break e}O=a.return}}var m=e.current;for(O=m;O!==null;){i=O;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,O=x;else e:for(i=m;O!==null;){if(o=O,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ca(9,o)}}catch(N){Se(o,o.return,N)}if(o===i){O=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,O=S;break e}O=o.return}}if(ce=r,nn(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(ta,e)}catch{}l=!0}return l}finally{de=n,st.transition=t}}return!1}function Oo(e,t,n){t=Kn(n,t),t=Uu(e,t,1),e=Qt(e,t,1),t=Ue(),e!==null&&(Gl(e,1,t),Qe(e,t))}function Se(e,t,n){if(e.tag===3)Oo(e,e,n);else for(;t!==null;){if(t.tag===3){Oo(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kt===null||!Kt.has(l))){e=Kn(n,e),e=Ou(t,e,1),t=Qt(t,e,1),e=Ue(),t!==null&&(Gl(t,1,e),Qe(t,e));break}}t=t.return}}function Km(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Re&n)===n&&(Me===4||Me===3&&(Re&130023424)===Re&&500>be()-Ni?fn(e,0):bi|=n),Qe(e,t)}function od(e,t){t===0&&(e.mode&1?(t=er,er<<=1,!(er&130023424)&&(er=4194304)):t=1);var n=Ue();e=Tt(e,t),e!==null&&(Gl(e,t,n),Qe(e,n))}function Ym(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),od(e,n)}function Xm(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(L(314))}l!==null&&l.delete(t),od(e,n)}var cd;cd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||We.current)Ve=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ve=!1,$m(e,t,n);Ve=!!(e.flags&131072)}else Ve=!1,ye&&t.flags&1048576&&mu(t,Fr,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Sr(e,t),e=t.pendingProps;var r=Vn(t,Fe.current);Un(t,n),r=xi(null,t,l,e,r,n);var a=vi();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,He(l)?(a=!0,Ir(t)):a=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,mi(t),r.updater=oa,t.stateNode=r,r._reactInternals=t,bs(t,l,e,n),t=Ps(null,t,l,!0,a,n)):(t.tag=0,ye&&a&&si(t),Be(null,t,r,n),t=t.child),t;case 16:l=t.elementType;e:{switch(Sr(e,t),e=t.pendingProps,r=l._init,l=r(l._payload),t.type=l,r=t.tag=Jm(l),e=dt(l,e),r){case 0:t=Cs(null,t,l,e,n);break e;case 1:t=To(null,t,l,e,n);break e;case 11:t=Eo(null,t,l,e,n);break e;case 14:t=_o(null,t,l,dt(l.type,e),n);break e}throw Error(L(306,l,""))}return t;case 0:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:dt(l,r),Cs(e,t,l,r,n);case 1:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:dt(l,r),To(e,t,l,r,n);case 3:e:{if(Wu(t),e===null)throw Error(L(387));l=t.pendingProps,a=t.memoizedState,r=a.element,vu(e,t),Or(t,l,null,n);var i=t.memoizedState;if(l=i.element,a.isDehydrated)if(a={element:l,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){r=Kn(Error(L(423)),t),t=Ao(e,t,l,n,r);break e}else if(l!==r){r=Kn(Error(L(424)),t),t=Ao(e,t,l,n,r);break e}else for(Xe=Ht(t.stateNode.containerInfo.firstChild),Ze=t,ye=!0,mt=null,n=yu(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wn(),l===r){t=At(e,t,n);break e}Be(e,t,l,n)}t=t.child}return t;case 5:return wu(t),e===null&&ks(t),l=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,gs(l,r)?i=null:a!==null&&gs(l,a)&&(t.flags|=32),Vu(e,t),Be(e,t,i,n),t.child;case 6:return e===null&&ks(t),null;case 13:return Hu(e,t,n);case 4:return pi(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Hn(t,null,l,n):Be(e,t,l,n),t.child;case 11:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:dt(l,r),Eo(e,t,l,r,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,r=t.pendingProps,a=t.memoizedProps,i=r.value,me(Br,l._currentValue),l._currentValue=i,a!==null)if(gt(a.value,i)){if(a.children===r.children&&!We.current){t=At(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var u=o.firstContext;u!==null;){if(u.context===l){if(a.tag===1){u=Lt(-1,n&-n),u.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Ss(a.return,n,t),o.lanes|=n;break}u=u.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(L(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Ss(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Be(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,l=t.pendingProps.children,Un(t,n),r=it(r),l=l(r),t.flags|=1,Be(e,t,l,n),t.child;case 14:return l=t.type,r=dt(l,t.pendingProps),r=dt(l.type,r),_o(e,t,l,r,n);case 15:return qu(e,t,t.type,t.pendingProps,n);case 17:return l=t.type,r=t.pendingProps,r=t.elementType===l?r:dt(l,r),Sr(e,t),t.tag=1,He(l)?(e=!0,Ir(t)):e=!1,Un(t,n),Bu(t,l,r),bs(t,l,r,n),Ps(null,t,l,!0,e,n);case 19:return Qu(e,t,n);case 22:return Gu(e,t,n)}throw Error(L(156,t.tag))};function ud(e,t){return Ic(e,t)}function Zm(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(e,t,n,l){return new Zm(e,t,n,l)}function Li(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jm(e){if(typeof e=="function")return Li(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qs)return 11;if(e===Ks)return 14}return 2}function Xt(e,t){var n=e.alternate;return n===null?(n=at(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nr(e,t,n,l,r,a){var i=2;if(l=e,typeof e=="function")Li(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Cn:return mn(n.children,r,a,t);case Hs:i=8,r|=8;break;case Qa:return e=at(12,n,t,r|2),e.elementType=Qa,e.lanes=a,e;case Ka:return e=at(13,n,t,r),e.elementType=Ka,e.lanes=a,e;case Ya:return e=at(19,n,t,r),e.elementType=Ya,e.lanes=a,e;case wc:return da(n,r,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xc:i=10;break e;case vc:i=9;break e;case Qs:i=11;break e;case Ks:i=14;break e;case It:i=16,l=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=at(i,n,t,r),t.elementType=e,t.type=l,t.lanes=a,t}function mn(e,t,n,l){return e=at(7,e,l,t),e.lanes=n,e}function da(e,t,n,l){return e=at(22,e,l,t),e.elementType=wc,e.lanes=n,e.stateNode={isHidden:!1},e}function Ua(e,t,n){return e=at(6,e,null,t),e.lanes=n,e}function Oa(e,t,n){return t=at(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ep(e,t,n,l,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sa(0),this.expirationTimes=Sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sa(0),this.identifierPrefix=l,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ei(e,t,n,l,r,a,i,o,u){return e=new ep(e,t,n,o,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=at(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:l,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mi(a),e}function tp(e,t,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nn,key:l==null?null:""+l,children:e,containerInfo:t,implementation:n}}function dd(e){if(!e)return Jt;e=e._reactInternals;e:{if(Sn(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(He(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(He(n))return du(e,n,t)}return t}function fd(e,t,n,l,r,a,i,o,u){return e=Ei(n,l,!0,e,r,a,i,o,u),e.context=dd(null),n=e.current,l=Ue(),r=Yt(n),a=Lt(l,r),a.callback=t??null,Qt(n,a,r),e.current.lanes=r,Gl(e,r,l),Qe(e,l),e}function fa(e,t,n,l){var r=t.current,a=Ue(),i=Yt(r);return n=dd(n),t.context===null?t.context=n:t.pendingContext=n,t=Lt(a,i),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=Qt(r,t,i),e!==null&&(ht(e,r,i,a),vr(e,r,i)),i}function Yr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qo(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _i(e,t){qo(e,t),(e=e.alternate)&&qo(e,t)}function np(){return null}var md=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ti(e){this._internalRoot=e}ma.prototype.render=Ti.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));fa(e,t,null,null)};ma.prototype.unmount=Ti.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){fa(null,e,null,null)}),t[_t]=null}};function ma(e){this._internalRoot=e}ma.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&t!==0&&t<Bt[n].priority;n++);Bt.splice(n,0,e),n===0&&Wc(e)}};function Ai(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Go(){}function lp(e,t,n,l,r){if(r){if(typeof l=="function"){var a=l;l=function(){var d=Yr(i);a.call(d)}}var i=fd(t,l,e,0,null,!1,!1,"",Go);return e._reactRootContainer=i,e[_t]=i.current,_l(e.nodeType===8?e.parentNode:e),xn(),i}for(;r=e.lastChild;)e.removeChild(r);if(typeof l=="function"){var o=l;l=function(){var d=Yr(u);o.call(d)}}var u=Ei(e,0,!1,null,null,!1,!1,"",Go);return e._reactRootContainer=u,e[_t]=u.current,_l(e.nodeType===8?e.parentNode:e),xn(function(){fa(t,u,n,l)}),u}function ha(e,t,n,l,r){var a=n._reactRootContainer;if(a){var i=a;if(typeof r=="function"){var o=r;r=function(){var u=Yr(i);o.call(u)}}fa(t,i,e,r)}else i=lp(n,t,e,r,l);return Yr(i)}Oc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dl(t.pendingLanes);n!==0&&(Zs(t,n|1),Qe(t,be()),!(ce&6)&&(Yn=be()+500,nn()))}break;case 13:xn(function(){var l=Tt(e,1);if(l!==null){var r=Ue();ht(l,e,1,r)}}),_i(e,1)}};Js=function(e){if(e.tag===13){var t=Tt(e,134217728);if(t!==null){var n=Ue();ht(t,e,134217728,n)}_i(e,134217728)}};qc=function(e){if(e.tag===13){var t=Yt(e),n=Tt(e,t);if(n!==null){var l=Ue();ht(n,e,t,l)}_i(e,t)}};Gc=function(){return de};Vc=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};ss=function(e,t,n){switch(t){case"input":if(Ja(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var r=aa(l);if(!r)throw Error(L(90));Sc(l),Ja(l,r)}}}break;case"textarea":bc(e,n);break;case"select":t=n.value,t!=null&&In(e,!!n.multiple,t,!1)}};_c=Ci;Tc=xn;var rp={usingClientEntryPoint:!1,Events:[Wl,En,aa,Lc,Ec,Ci]},il={findFiberByHostInstance:cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ap={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Dc(e),e===null?null:e.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||np,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dr.isDisabled&&dr.supportsFiber)try{ta=dr.inject(ap),St=dr}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rp;et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ai(t))throw Error(L(200));return tp(e,t,null,n)};et.createRoot=function(e,t){if(!Ai(e))throw Error(L(299));var n=!1,l="",r=md;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Ei(e,1,!1,null,null,n,!1,l,r),e[_t]=t.current,_l(e.nodeType===8?e.parentNode:e),new Ti(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Dc(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return xn(e)};et.hydrate=function(e,t,n){if(!pa(t))throw Error(L(200));return ha(null,e,t,!0,n)};et.hydrateRoot=function(e,t,n){if(!Ai(e))throw Error(L(405));var l=n!=null&&n.hydratedSources||null,r=!1,a="",i=md;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=fd(t,null,e,1,n??null,r,!1,a,i),e[_t]=t.current,_l(e),l)for(e=0;e<l.length;e++)n=l[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new ma(t)};et.render=function(e,t,n){if(!pa(t))throw Error(L(200));return ha(null,e,t,!1,n)};et.unmountComponentAtNode=function(e){if(!pa(e))throw Error(L(40));return e._reactRootContainer?(xn(function(){ha(null,null,e,!1,function(){e._reactRootContainer=null,e[_t]=null})}),!0):!1};et.unstable_batchedUpdates=Ci;et.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!pa(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return ha(e,t,n,!1,l)};et.version="18.3.1-next-f1338f8080-20240426";function pd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pd)}catch(e){console.error(e)}}pd(),pc.exports=et;var sp=pc.exports,hd,Vo=sp;hd=Vo.createRoot,Vo.hydrateRoot;const Wo={Normal:{rarity:"Normal",damageBonus:0,qualityBonus:0,colorVariant:"#ffffff"},Magic:{rarity:"Magic",damageBonus:10,qualityBonus:5,colorVariant:"#8888ff",areaOfEffectBonus:5,projectileDamageBonus:8,manaCostReduction:5},Rare:{rarity:"Rare",damageBonus:25,qualityBonus:10,colorVariant:"#ffff88",areaOfEffectBonus:12,areaDamageBonus:15,projectileDamageBonus:20,physicalDamageBonus:18,elementalDamageBonus:18,attackSpeedBonus:10,castSpeedBonus:10,criticalChanceBonus:8,durationBonus:15,manaCostReduction:10},Unique:{rarity:"Unique",damageBonus:50,qualityBonus:20,colorVariant:"#ff8800",areaOfEffectBonus:25,areaDamageBonus:30,projectileDamageBonus:40,physicalDamageBonus:35,elementalDamageBonus:35,attackSpeedBonus:20,castSpeedBonus:20,criticalChanceBonus:15,durationBonus:25,manaCostReduction:20}},Ri=[{id:"whirlwind",name:"Whirlwind",description:"Continuous spinning attack that hits all nearby enemies. Inspired by Path of Exile's Cyclone skill - channels automatically during combat with area scaling and movement.",type:"active",category:"attack",tags:["Attack","AoE","Channeling","Melee","Physical"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"",rarity:"Normal",quality:0,scaling:{baseDamage:12,damagePerLevel:2.5,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseArea:2.5,areaPerLevel:.15}},{id:"fireball",name:"Fireball",description:"Launches a fiery projectile that explodes on impact, dealing fire damage to nearby enemies.",type:"active",category:"spell",tags:["Spell","Projectile","AoE","Fire"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"",rarity:"Normal",quality:0,scaling:{baseDamage:15,damagePerLevel:3,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseArea:1.5,areaPerLevel:.1}},{id:"lightning_bolt",name:"Lightning Bolt",description:"Strikes a single enemy with a bolt of lightning, dealing high electrical damage.",type:"active",category:"spell",tags:["Spell","Lightning"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"",rarity:"Normal",quality:0,scaling:{baseDamage:20,damagePerLevel:4,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0}},{id:"ice_shard",name:"Ice Shard",description:"Launches multiple ice projectiles that pierce through enemies, dealing cold damage and slowing them.",type:"active",category:"spell",tags:["Spell","Projectile","Cold"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"",rarity:"Normal",quality:0,scaling:{baseDamage:8,damagePerLevel:1.8,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0}},{id:"ground_slam",name:"Ground Slam",description:"Slams the ground with tremendous force, creating a shockwave that damages enemies in a cone.",type:"active",category:"attack",tags:["Attack","AoE","Slam","Physical"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"",rarity:"Normal",quality:0,scaling:{baseDamage:18,damagePerLevel:3.5,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseArea:2,areaPerLevel:.12}},{id:"poison_arrow",name:"Poison Arrow",description:"Fires a poisoned arrow that creates a toxic cloud on impact, dealing chaos damage over time.",type:"active",category:"attack",tags:["Attack","Projectile","AoE","Chaos","Duration","Bow"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"",rarity:"Normal",quality:0,scaling:{baseDamage:10,damagePerLevel:2.2,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseArea:1.8,areaPerLevel:.08,baseDuration:3e3,durationPerLevel:150}},{id:"chain_lightning",name:"Chain Lightning",description:"Casts lightning that jumps between enemies, dealing electrical damage to multiple targets.",type:"active",category:"spell",tags:["Spell","Lightning","AoE"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"",rarity:"Normal",quality:0,scaling:{baseDamage:14,damagePerLevel:2.8,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0}},{id:"meteor",name:"Meteor",description:"Calls down a massive meteor from the sky that deals devastating fire damage in a large area.",type:"active",category:"spell",tags:["Spell","AoE","Fire"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"",rarity:"Normal",quality:0,scaling:{baseDamage:25,damagePerLevel:5,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseArea:3,areaPerLevel:.2}},{id:"blade_vortex",name:"Blade Vortex",description:"Creates spinning blades around the character that continuously damage nearby enemies.",type:"active",category:"spell",tags:["Spell","AoE","Duration","Physical"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"",rarity:"Normal",quality:0,scaling:{baseDamage:8,damagePerLevel:1.6,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseArea:2.2,areaPerLevel:.1,baseDuration:5e3,durationPerLevel:200}},{id:"frost_nova",name:"Frost Nova",description:"Releases a burst of cold energy that freezes and damages all nearby enemies.",type:"active",category:"spell",tags:["Spell","AoE","Cold"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"",rarity:"Normal",quality:0,scaling:{baseDamage:16,damagePerLevel:3.2,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseArea:2.8,areaPerLevel:.14}},{id:"cleave",name:"Cleave",description:"Attacks with both weapons, hitting enemies in front of you with increased damage.",type:"active",category:"attack",tags:["Attack","AoE","Melee","Physical"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"",rarity:"Normal",quality:0,scaling:{baseDamage:14,damagePerLevel:2.8,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseArea:1.5,areaPerLevel:.08}},{id:"summon_skeletons",name:"Summon Skeletons",description:"Raises skeleton warriors from the ground to fight alongside you.",type:"active",category:"spell",tags:["Spell","Minion","Duration"],maxLevel:20,unlockLevel:0,skillPointCost:0,manaCost:0,cooldown:0,icon:"",rarity:"Normal",quality:0,scaling:{baseDamage:6,damagePerLevel:1.2,baseManaCost:0,manaCostPerLevel:0,baseCooldown:0,cooldownReductionPerLevel:0,baseDuration:1e4,durationPerLevel:500}}],gd=[{id:"increased_damage",name:"Increased Damage",description:"Increases damage of supported skills",tags:["Attack","Spell"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"damage",value:15,isPercentage:!0,description:"+15% more damage"}],icon:"",rarity:"Normal",quality:0,scaling:{baseValue:15,valuePerLevel:2}},{id:"increased_area",name:"Increased Area of Effect",description:"Increases area of effect of supported skills",tags:["AoE"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"area",value:25,isPercentage:!0,description:"+25% increased area of effect"}],icon:"",rarity:"Normal",quality:0,scaling:{baseValue:25,valuePerLevel:3}},{id:"multiple_projectiles",name:"Multiple Projectiles",description:"Supported skills fire additional projectiles",tags:["Projectile"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"projectiles",value:2,isPercentage:!1,description:"+2 additional projectiles"},{type:"damage",value:-20,isPercentage:!0,description:"-20% less damage"}],icon:"",rarity:"Normal",quality:0,scaling:{baseValue:2,valuePerLevel:.2}},{id:"faster_casting",name:"Faster Casting",description:"Reduces cooldown of supported skills",tags:["Spell"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"cooldown",value:-25,isPercentage:!0,description:"-25% reduced cooldown"}],icon:"",rarity:"Normal",quality:0,scaling:{baseValue:25,valuePerLevel:1.5}},{id:"reduced_mana",name:"Reduced Mana Cost",description:"Reduces mana cost of supported skills",tags:["Attack","Spell"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"manaCost",value:-30,isPercentage:!0,description:"-30% reduced mana cost"}],icon:"",rarity:"Normal",quality:0,scaling:{baseValue:30,valuePerLevel:1}},{id:"added_fire_damage",name:"Added Fire Damage Support",description:"Adds fire damage to supported skills.",tags:["Support","Fire"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"added_damage",value:10,damageType:"fire",tags:["Fire"]}],icon:"",rarity:"Normal",quality:0,scaling:{baseValue:10,valuePerLevel:2}},{id:"elemental_focus",name:"Elemental Focus Support",description:"Increases elemental damage but prevents critical strikes.",tags:["Support","Elemental"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"damage_multiplier",value:1.5,tags:["Fire","Cold","Lightning"]},{type:"critical_chance_multiplier",value:0,tags:[]}],icon:"",rarity:"Normal",quality:0,scaling:{baseValue:1.5,valuePerLevel:.02}},{id:"melee_physical_damage",name:"Melee Physical Damage Support",description:"Increases physical damage of supported melee skills.",tags:["Support","Melee","Physical"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"damage_multiplier",value:1.4,tags:["Physical","Melee"]}],icon:"",rarity:"Normal",quality:0,scaling:{baseValue:1.4,valuePerLevel:.015}},{id:"spell_echo",name:"Spell Echo Support",description:"Supported spells repeat an additional time with reduced damage.",tags:["Support","Spell"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"damage",value:-25,isPercentage:!0,description:"-25% less damage"}],icon:"",rarity:"Normal",quality:0,scaling:{baseValue:25,valuePerLevel:.5}},{id:"concentrated_effect",name:"Concentrated Effect Support",description:"Reduces area of effect but increases area damage.",tags:["Support","AoE"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"area",value:-30,isPercentage:!0,description:"-30% reduced area of effect"},{type:"damage",value:60,isPercentage:!0,description:"+60% more area damage"}],icon:"",rarity:"Normal",quality:0,scaling:{baseValue:60,valuePerLevel:2}},{id:"pierce",name:"Pierce Support",description:"Projectiles pierce through enemies, hitting multiple targets.",tags:["Support","Projectile"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"damage",value:10,isPercentage:!0,description:"+10% more projectile damage"}],icon:"",rarity:"Normal",quality:0,scaling:{baseValue:10,valuePerLevel:1}},{id:"minion_damage",name:"Minion Damage Support",description:"Increases damage dealt by minions.",tags:["Support","Minion"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"damage",value:50,isPercentage:!0,description:"+50% increased minion damage"}],icon:"",rarity:"Normal",quality:0,scaling:{baseValue:50,valuePerLevel:3}},{id:"added_cold_damage",name:"Added Cold Damage Support",description:"Adds cold damage to supported skills.",tags:["Support","Cold"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"added_damage",value:8,damageType:"cold",tags:["Cold"]}],icon:"",rarity:"Normal",quality:0,scaling:{baseValue:8,valuePerLevel:1.5}},{id:"added_lightning_damage",name:"Added Lightning Damage Support",description:"Adds lightning damage to supported skills.",tags:["Support","Lightning"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"added_damage",value:12,damageType:"lightning",tags:["Lightning"]}],icon:"",rarity:"Normal",quality:0,scaling:{baseValue:12,valuePerLevel:2}},{id:"increased_duration",name:"Increased Duration Support",description:"Increases the duration of supported skills.",tags:["Support","Duration"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"duration",value:40,isPercentage:!0,description:"+40% increased skill duration"}],icon:"",rarity:"Normal",quality:0,scaling:{baseValue:40,valuePerLevel:2}},{id:"critical_strike_multiplier",name:"Critical Strike Multiplier Support",description:"Increases critical strike multiplier of supported skills.",tags:["Support","Critical"],maxLevel:20,unlockLevel:0,skillPointCost:0,modifiers:[{type:"critical_chance_multiplier",value:1.5,tags:[]}],icon:"",rarity:"Normal",quality:0,scaling:{baseValue:1.5,valuePerLevel:.02}}];function ip(e,t){return t.some(n=>e.tags.includes(n))}function op(e,t){return t.tags.length===0?!0:ip(e,t.tags)}function cp(e){return e.tags.join(", ")}function yd(e){return!e.scaling||!e.scaling.baseDamage?0:Math.floor(e.scaling.baseDamage+(e.scaling.damagePerLevel||0)*(e.level-1))}function up(e){if(!e.scaling)return e.manaCost||0;const t=e.scaling.baseManaCost||e.manaCost,n=e.scaling.manaCostPerLevel||0;return Math.max(1,Math.floor(t+n*(e.level-1)))}function dp(e){if(!e.scaling)return e.cooldown||0;const t=e.scaling.baseCooldown||e.cooldown,n=e.scaling.cooldownReductionPerLevel||0;return Math.max(0,Math.floor(t-n*(e.level-1)))}function fp(e){return!e.scaling||!e.scaling.baseArea?0:e.scaling.baseArea+(e.scaling.areaPerLevel||0)*(e.level-1)}function mp(e){return!e.scaling||!e.scaling.baseDuration?0:(e.scaling.baseDuration+(e.scaling.durationPerLevel||0)*(e.level-1))/1e3}function pp(e){var t;return e.scaling?Math.floor(e.scaling.baseValue+e.scaling.valuePerLevel*(e.level-1)):((t=e.modifiers[0])==null?void 0:t.value)||0}function xd(e){if(!e.scaling)return e.modifiers;const t=pp(e);return e.modifiers.map(n=>({...n,value:n.type===e.modifiers[0].type?n.value<0?-t:t:n.value,description:n.type===e.modifiers[0].type?`${n.value<0?"-":"+"}${t}${n.isPercentage?"%":""} ${n.description?n.description.split(" ").slice(-2).join(" "):""}`:n.description}))}function ml(e){if(!e||!e.scaling)return console.warn("applyModifiersToSkill: skill or skill.scaling is undefined",e),{damage:0,manaCost:0,cooldown:0,area:1,duration:0,projectileCount:1};let t=yd(e),n=up(e),l=dp(e),r=fp(e),a=mp(e),i=1;const o=Wo[e.rarity];return o&&(t*=1+o.damageBonus/100,e.tags.includes("AoE")&&(o.areaOfEffectBonus&&(r*=1+o.areaOfEffectBonus/100),o.areaDamageBonus&&(t*=1+o.areaDamageBonus/100)),e.tags.includes("Projectile")&&o.projectileDamageBonus&&(t*=1+o.projectileDamageBonus/100),e.tags.includes("Physical")&&o.physicalDamageBonus&&(t*=1+o.physicalDamageBonus/100),(e.tags.includes("Fire")||e.tags.includes("Cold")||e.tags.includes("Lightning"))&&o.elementalDamageBonus&&(t*=1+o.elementalDamageBonus/100),e.tags.includes("Critical")&&o.criticalChanceBonus&&(t*=1+o.criticalChanceBonus/100),e.tags.includes("Duration")&&o.durationBonus&&(a*=1+o.durationBonus/100),o.manaCostReduction&&(n*=1-o.manaCostReduction/100)),e.supportGems.forEach(u=>{const d=Wo[u.rarity];d&&(t*=1+d.damageBonus/200,u.tags.includes("AoE")&&d.areaOfEffectBonus&&(r*=1+d.areaOfEffectBonus/200),u.tags.includes("Projectile")&&d.projectileDamageBonus&&(t*=1+d.projectileDamageBonus/200),d.manaCostReduction&&(n*=1-d.manaCostReduction/200)),xd(u).forEach(g=>{switch(g.type){case"damage":g.isPercentage?t*=1+g.value/100:t+=g.value;break;case"manaCost":g.isPercentage?n*=1+g.value/100:n+=g.value;break;case"cooldown":g.isPercentage?l*=1+g.value/100:l+=g.value;break;case"area":g.isPercentage?r*=1+g.value/100:r+=g.value;break;case"duration":g.isPercentage?a*=1+g.value/100:a+=g.value;break;case"projectiles":i+=g.value;break}})}),{damage:Math.round(t),manaCost:Math.max(1,Math.round(n)),cooldown:Math.max(100,Math.round(l)),area:Math.round(r*100)/100,duration:Math.round(a),projectileCount:Math.max(1,Math.round(i))}}function Di(e){return{...e,level:1,isUnlocked:!0,isEquipped:e.id==="whirlwind",supportGems:[]}}function vd(e){return{...e,level:1,isUnlocked:!0}}function hp(){const e=Ri.find(l=>l.id==="whirlwind"),t=e?Di(e):null,n=new Array(6).fill(null);return t&&(n[0]=t),{slots:n,maxSlots:6}}function vn(e){return Math.floor(e*1.5)+1}function Xr(e,t){if(e.level>=e.maxLevel)return!1;const n=vn(e.level);return t>=n}function Ft(e){return e.skillPointCost}const gp=[{id:"monster_life_1",name:"Feral",description:"Monsters have 25% increased Life",type:"prefix",tier:1,effects:{monsterLife:25},requiredLevel:1},{id:"monster_life_2",name:"Savage",description:"Monsters have 50% increased Life",type:"prefix",tier:3,effects:{monsterLife:50},requiredLevel:20},{id:"monster_damage_1",name:"Brutal",description:"Monsters deal 20% increased Damage",type:"prefix",tier:2,effects:{monsterDamage:20},requiredLevel:10},{id:"monster_speed_1",name:"Fleet",description:"Monsters have 15% increased Movement and Attack Speed",type:"prefix",tier:2,effects:{monsterSpeed:15},requiredLevel:15},{id:"elemental_damage_1",name:"Burning",description:"Monsters deal 30% additional Fire Damage",type:"prefix",tier:3,effects:{elementalDamage:30},requiredLevel:25},{id:"item_quantity_1",name:"of Bounty",description:"20% increased Item Quantity",type:"suffix",tier:1,effects:{itemQuantity:20},requiredLevel:1},{id:"item_rarity_1",name:"of Fortune",description:"30% increased Item Rarity",type:"suffix",tier:2,effects:{itemRarity:30},requiredLevel:10},{id:"pack_size_1",name:"of Hordes",description:"25% increased Pack Size",type:"suffix",tier:3,effects:{packSize:25},requiredLevel:20},{id:"experience_1",name:"of Learning",description:"15% increased Experience Gain",type:"suffix",tier:2,effects:{experienceGain:15},requiredLevel:5}],wd=[{id:"beach",name:"Beach",description:"A sandy coastline overrun by corrupted sea creatures.",tier:1,baseLevel:68,layout:"linear",theme:"desert",baseRewards:[{type:"equipment",quantity:2,minLevel:68,maxLevel:72},{type:"experience",quantity:1e3}],completionTime:180},{id:"graveyard",name:"Graveyard",description:"An ancient cemetery where the dead refuse to rest.",tier:2,baseLevel:69,layout:"maze",theme:"corrupted",baseRewards:[{type:"equipment",quantity:3,minLevel:69,maxLevel:73},{type:"skillGem",quantity:1,rarity:"Normal"},{type:"experience",quantity:1200}],completionTime:240},{id:"dungeon",name:"Dungeon",description:"A dark underground complex filled with ancient horrors.",tier:3,baseLevel:70,layout:"branching",theme:"dungeon",baseRewards:[{type:"equipment",quantity:3,minLevel:70,maxLevel:74},{type:"supportGem",quantity:1,rarity:"Normal"},{type:"experience",quantity:1500}],completionTime:300},{id:"volcano",name:"Volcano",description:"A treacherous volcanic peak with rivers of molten lava.",tier:6,baseLevel:73,layout:"circular",theme:"volcanic",baseRewards:[{type:"equipment",quantity:4,minLevel:73,maxLevel:77},{type:"skillGem",quantity:1,rarity:"Magic"},{type:"experience",quantity:2500}],completionTime:420,unlockRequirement:{completedMaps:["beach","graveyard","dungeon"],playerLevel:50}},{id:"glacier",name:"Glacier",description:"A frozen wasteland where ice elementals roam freely.",tier:8,baseLevel:75,layout:"arena",theme:"ice",baseRewards:[{type:"equipment",quantity:5,minLevel:75,maxLevel:79},{type:"supportGem",quantity:2,rarity:"Magic"},{type:"experience",quantity:3500}],completionTime:480,unlockRequirement:{completedMaps:["volcano"],playerLevel:60}},{id:"shaper_realm",name:"Shaper's Realm",description:"A reality-bending dimension where the laws of physics break down.",tier:14,baseLevel:81,layout:"maze",theme:"celestial",baseRewards:[{type:"equipment",quantity:8,minLevel:81,maxLevel:85,rarity:"Rare",guaranteed:!0},{type:"skillGem",quantity:2,rarity:"Rare"},{type:"supportGem",quantity:2,rarity:"Rare"},{type:"experience",quantity:8e3}],completionTime:720,unlockRequirement:{completedMaps:["glacier"],playerLevel:80}},{id:"elder_sanctum",name:"Elder Sanctum",description:"The twisted domain of an ancient cosmic entity.",tier:16,baseLevel:83,layout:"arena",theme:"corrupted",baseRewards:[{type:"equipment",quantity:10,minLevel:83,maxLevel:87,rarity:"Unique",guaranteed:!0},{type:"skillGem",quantity:3,rarity:"Unique"},{type:"supportGem",quantity:3,rarity:"Unique"},{type:"experience",quantity:15e3}],completionTime:900,unlockRequirement:{completedMaps:["shaper_realm"],playerLevel:90}}];function yp(e,t="Normal"){const n={...e,rarity:t,modifiers:[],isCompleted:!1,timesCompleted:0},l=xp(t),r=gp.filter(a=>a.requiredLevel<=n.baseLevel);for(let a=0;a<l;a++){const i=r[Math.floor(Math.random()*r.length)];n.modifiers.find(o=>o.id===i.id)||n.modifiers.push(i)}return n}function xp(e){switch(e){case"Normal":return 0;case"Magic":return Math.floor(Math.random()*2)+1;case"Rare":return Math.floor(Math.random()*3)+3;case"Unique":return Math.floor(Math.random()*2)+4}}function vp(e){let t=e.tier*10+e.baseLevel;return e.modifiers.forEach(n=>{t+=n.tier*5,n.effects.monsterLife&&(t+=n.effects.monsterLife/5),n.effects.monsterDamage&&(t+=n.effects.monsterDamage/3),n.effects.monsterSpeed&&(t+=n.effects.monsterSpeed/4)}),Math.floor(t)}function wp(e){const t=[...e.baseRewards];return e.modifiers.forEach(n=>{n.effects.itemQuantity&&t.forEach(l=>{l.type==="equipment"&&(l.quantity=Math.floor(l.quantity*(1+n.effects.itemQuantity/100)))}),n.effects.experienceGain&&t.forEach(l=>{l.type==="experience"&&(l.quantity=Math.floor(l.quantity*(1+n.effects.experienceGain/100)))})}),t}function kd(e,t,n){return e.unlockRequirement?!(e.unlockRequirement.playerLevel&&t<e.unlockRequirement.playerLevel||e.unlockRequirement.completedMaps&&!e.unlockRequirement.completedMaps.every(r=>n.includes(r))):!0}function kp(e,t){return wd.filter(n=>kd(n,e,t)).map(n=>yp(n,"Normal"))}function Sp(){return{availableMaps:kp(1,[]),completedMaps:[],mapStash:[],atlasProgress:{tier:1,completedCount:0,totalCount:wd.length,bonusObjectives:0}}}const zt={endurance:"Increases maximum HP by 10 per level",quick:"Reduces combat tick interval (faster attacks)",agility:"Increases dodge chance by 1% per level",strength:"Increases base damage by 1 per level",vitality:"Increases HP regeneration and reduces death penalty",precision:"Increases critical hit chance by 1% per level",fortune:"Increases gold gain and improves loot quality",resilience:"Increases armor and status effect resistance"};function Bl(){const e=Ri.map(r=>Di(r)),t=gd.map(r=>vd(r)),n=e.find(r=>r.id==="whirlwind"),l=new Array(6).fill(null);return n&&(l[0]=n),{level:10,xp:0,nextLevelXp:100,hp:120,maxHp:120,mana:50,maxMana:50,dps:2,baseDps:2,gold:0,skillPoints:20,attributePoints:5,attributes:{strength:10,dexterity:10,intelligence:10,vitality:10,luck:5},equipment:{},equipped:void 0,calculatedStats:{},skillGems:e,supportGems:t,skillBar:{slots:l,maxSlots:6},mapDevice:Sp(),attackSpeed:1,projectileSpeed:1,skills:{},armor:0,critChance:0,dodgeChance:0,lifeSteal:0,blockChance:0,healthRegen:1,manaRegen:2}}function Le(e){if(!e)return Bl();const t={...e};(typeof t.gold!="number"||isNaN(t.gold))&&(console.warn("Player gold was invalid:",t.gold,"resetting to 0"),t.gold=0),(!t.equipment||typeof t.equipment!="object")&&(console.warn("Player equipment was invalid:",t.equipment,"resetting to empty object"),t.equipment={}),t.calculatedStats={},t.baseDps=2,t.maxHp=120,t.maxMana=50,t.dps=2,t.armor=0,t.critChance=0,t.dodgeChance=0,t.blockChance=0,t.lifeSteal=0,t.attackSpeed=1,t.healthRegen=0,t.manaRegen=0,t.projectileSpeed=1;const n=t.attributes??{},l=(n.strength??10)-10;t.baseDps+=Math.max(0,l),t.maxHp+=l*2;const r=(n.dexterity??10)-10;t.critChance+=r*.005,t.dodgeChance+=r*.003;const a=(n.intelligence??10)-10;t.maxMana+=a,t.manaRegen+=a*.2;const i=(n.vitality??10)-10;t.maxHp+=i*3,t.healthRegen+=i*.1;const o=(n.luck??5)-5;t.critChance+=o*.005;const u=t.skills??{};u.strength&&(t.baseDps+=u.strength),u.precision&&(t.critChance=(t.critChance??0)+u.precision*.01),u.agility&&(t.dodgeChance=(t.dodgeChance??0)+u.agility*.01),u.resilience&&(t.armor=(t.armor??0)+u.resilience);let d={};if(t.equipment){const f={};Object.values(t.equipment).forEach(g=>{if(g){for(const[h,v]of Object.entries(g.baseStats))typeof v=="number"&&h!=="resistance"&&(f[h]=(f[h]??0)+v);for(const h of g.affixes)h.stat!=="resistance"&&(f[h.stat]=(f[h.stat]??0)+h.value)}}),d=f}if(t.dps=t.baseDps+(d.damage??0),t.armor+=d.armor??0,t.maxHp+=d.health??0,t.maxMana+=d.mana??0,t.critChance+=d.critChance??0,t.dodgeChance+=d.dodgeChance??0,t.blockChance+=d.blockChance??0,t.lifeSteal+=d.lifeSteal??0,t.attackSpeed+=d.attackSpeed??0,t.healthRegen+=d.healthRegen??0,t.manaRegen+=d.manaRegen??0,d.strength){const f=d.strength;t.baseDps+=f,t.maxHp+=f*2}if(d.dexterity){const f=d.dexterity;t.critChance+=f*.005,t.dodgeChance+=f*.003}if(d.intelligence){const f=d.intelligence;t.maxMana+=f,t.manaRegen+=f*.2}if(d.vitality){const f=d.vitality;t.maxHp+=f*3,t.healthRegen+=f*.1}if(d.luck){const f=d.luck;t.critChance+=f*.005}if(t.calculatedStats=d,t.equipped&&(t.dps+=t.equipped.power??0,t.equipped.extras))for(const f of t.equipped.extras)switch(f.key){case"hp":t.maxHp+=f.val;break;case"dps":t.dps+=f.val;break;case"critChance":t.critChance+=f.val;break;case"dodgeChance":t.dodgeChance+=f.val;break;case"lifeSteal":t.lifeSteal+=f.val;break;case"armor":t.armor+=f.val;break;case"projectileSpeed":t.projectileSpeed+=f.val;break}return t.hp=Math.min(t.hp,t.maxHp),t.mana=Math.min(t.mana,t.maxMana),t.critChance=Math.max(0,Math.min(1,t.critChance??0)),t.dodgeChance=Math.max(0,Math.min(.95,t.dodgeChance??0)),t.blockChance=Math.max(0,Math.min(.75,t.blockChance??0)),t.lifeSteal=Math.max(0,Math.min(1,t.lifeSteal??0)),t}const Ho={melee:["Goblin","Orc Warrior","Skeleton Fighter","Bandit","Troll"],ranged:["Goblin Archer","Orc Hunter","Skeleton Archer","Bandit Marksman","Dark Elf"],caster:["Goblin Shaman","Orc Mage","Necromancer","Dark Wizard","Lich"],tank:["Orc Guardian","Stone Golem","Armored Knight","Shield Bearer","Iron Colossus"],assassin:["Shadow Rogue","Dark Assassin","Poison Blade","Night Stalker","Void Walker"],boss:["Goblin King","Orc Chieftain","Lich Lord","Dragon","Demon Lord"]},fr=["berserker","precise","regeneration","shield","poison","freeze","lightning"];let jp=1;function Qo(e,t){const n=Ho[e]||Ho.melee;return`${n[Math.floor(Math.random()*n.length)]} L${t}`}function bp(e){const n=Math.floor(e/10)*.01;return Math.random()<.02+n}function Np(e,t){if(t)return fr[Math.floor(Math.random()*fr.length)];if(Math.random()<.2)switch(e){case"melee":return Math.random()<.6?"berserker":"precise";case"ranged":return Math.random()<.7?"precise":"poison";case"caster":return Math.random()<.5?"lightning":"freeze";case"tank":return Math.random()<.8?"shield":"regeneration";case"assassin":return Math.random()<.6?"poison":"precise";default:return fr[Math.floor(Math.random()*fr.length)]}}function Cr(e,t){let n;const l=bp(e);if(l)n="boss";else if(t)n=t;else{const d=Math.random();d>.92?n="assassin":d>.85?n="tank":d>.75?n="caster":d>.55?n="ranged":n="melee"}let r=25+e*12,a=0;switch(n){case"tank":r=Math.floor(r*1.8),a=Math.floor(e*.3);break;case"boss":r=Math.floor(r*3.5),a=Math.floor(e*.5);break;case"assassin":r=Math.floor(r*.7);break;case"caster":r=Math.floor(r*.9);break}const i=Np(n,l),o=Qo(l?"boss":n,e);return{id:"e"+jp++,name:l?` ${o}`:o,level:e,maxHp:r,hp:r,type:n,specialAbility:i,isBoss:l,state:"alive",alpha:1,statusEffects:[],armor:a}}function Cp(e){return e==="Magic"?.03:e==="Rare"?.06:e==="Unique"?.1:e==="Legendary"?.15:0}function Pp(e){return e==="Magic"?.02:e==="Rare"?.04:e==="Unique"?.07:e==="Legendary"?.1:0}function Mp(e){return(e==null?void 0:e.damageType)||"physical"}function Ko(e){const n=e*.9,l=e*(1+.1);return Math.floor(Math.random()*(l-n+1))+n}function Lp(e,t,n){let l=e,r;switch(t){case"fire":l=Math.floor(e*1.1),Math.random()<.15&&(r="burning");break;case"ice":Math.random()<.2&&(r="slowed");break;case"lightning":Math.random()<.1&&(r="stunned");break;case"poison":l=Math.floor(e*.8),Math.random()<.25&&(r="poisoned");break}return{damage:l,statusEffect:r}}function Ep(e){return .05+Math.min(.15,e.level*.005)}function _p(e,t){var m,x,S,N,A,F,B,X;const n={...e},l={...t},r={...n,...n.calculatedStats};let a=(r.dodgeChance||0)+(((m=n.skills)==null?void 0:m.agility)||0)*.01;(x=n.equipped)!=null&&x.rarity&&(a+=Pp(n.equipped.rarity));const i=Ep(l);let o=!0,u=!1,d=!1,f=!0,g=0,h=0,v=!1,p;Math.random()<i&&(d=!0,o=!1);let k="physical";if((N=(S=n.equipment)==null?void 0:S.weapon)!=null&&N.damageType?k=n.equipment.weapon.damageType:n.equipped&&(k=Mp(n.equipped)),o){let H=Math.max(1,Math.floor(r.dps||n.dps||1));n.attributes&&(k==="physical"&&(H+=Math.floor((n.attributes.strength||0)*.5)),k!=="physical"&&(H+=Math.floor((n.attributes.intelligence||0)*.6)),H+=Math.floor((n.attributes.dexterity||0)*.3));const G=Ko(H);let ee=r.critChance||.05;(A=n.equipped)!=null&&A.rarity&&(ee+=Cp(n.equipped.rarity)),(F=n.attributes)!=null&&F.dexterity&&(ee+=(n.attributes.dexterity||0)*.002),k==="lightning"&&(ee+=.05),v=Math.random()<ee;let $=1.8;(B=n.attributes)!=null&&B.luck&&($+=(n.attributes.luck||0)*.01),g=v?Math.floor(G*$):G;const q=Lp(g,k);g=q.damage,p=q.statusEffect,l.hp-=g}let R="",y=!1;if(o){const H=v?" (CRITICAL!)":"",G=k!=="physical"?` [${k.toUpperCase()}]`:"",ee=p?` (${p})`:"";R=`Player hits ${l.name} for ${g}${G}${H}${ee}`}else R=`${l.name} dodged player's attack!`;if(l.hp<=0)y=!0,R=o?`Player dealt final blow to ${l.name}!`:R;else if(o)if(Math.random()<a)u=!0,f=!1,R+=`. Player dodged ${l.name}'s attack!`;else{const H=r.blockChance||0;if(Math.random()<H)f=!1,R+=`. Player blocked ${l.name}'s attack!`;else{const ee=l.type==="melee"?.9:l.type==="ranged"?.75:1;let $=Math.max(.5,ee+l.level*.5);if(l.specialAbility)switch(l.specialAbility){case"berserker":l.hp<l.maxHp*.3&&($=Math.floor($*1.5),R+=" (BERSERKER RAGE!)");break;case"precise":Math.random()<.15&&($=Math.floor($*1.3),R+=" (PRECISE STRIKE!)");break}h=Ko($);const q=r.armor||0,se=Math.min(.8,q*.01);if(h=Math.floor(h*(1-se)),(X=n.attributes)!=null&&X.vitality){const re=Math.min(.3,(n.attributes.vitality||0)*.005);h=Math.floor(h*(1-re))}h=Math.max(1,h),n.hp-=h,R+=`. ${l.name} hits back for ${h}`,n.hp<=0&&(n.hp=Math.max(1,Math.floor((r.maxHp||n.maxHp)*.6)),n.gold=Math.max(0,n.gold-Math.min(10,Math.floor(n.level*2))),R+=". Player was knocked out and revived!")}}return{player:n,enemy:l,enemyDefeated:y,message:R,didPlayerHit:o,didEnemyHit:f,playerDodged:u,enemyDodged:d,crit:v,damage:g,enemyDamage:h,damageType:k,statusEffect:p}}const Ul={sword:{name:"Sword",slot:"weapon",baseStats:{damage:8},damageTypes:["physical","fire","ice","lightning"],requirements:{}},axe:{name:"Axe",slot:"weapon",baseStats:{damage:12,critChance:.05},damageTypes:["physical","fire"],requirements:{}},mace:{name:"Mace",slot:"weapon",baseStats:{damage:10,armor:2},damageTypes:["physical","lightning"],requirements:{}},dagger:{name:"Dagger",slot:"weapon",baseStats:{damage:6,critChance:.1,attackSpeed:.3},damageTypes:["physical","poison"],requirements:{}},bow:{name:"Bow",slot:"weapon",baseStats:{damage:9,critChance:.08},damageTypes:["physical","fire","ice","poison"],requirements:{}},crossbow:{name:"Crossbow",slot:"weapon",baseStats:{damage:14,critChance:.06},damageTypes:["physical","lightning"],requirements:{}},staff:{name:"Staff",slot:"weapon",baseStats:{damage:7,mana:20,manaRegen:2},damageTypes:["fire","ice","lightning"],requirements:{}},wand:{name:"Wand",slot:"weapon",baseStats:{damage:5,mana:15,critChance:.07},damageTypes:["fire","ice","lightning","poison"],requirements:{}}},Zr={helm:{name:"Helm",slot:"helm",baseStats:{armor:5,health:15},requirements:{}},chest:{name:"Chest Armor",slot:"chest",baseStats:{armor:12,health:30},requirements:{}},legs:{name:"Leg Armor",slot:"legs",baseStats:{armor:8,health:20},requirements:{}},boots:{name:"Boots",slot:"boots",baseStats:{armor:4,dodgeChance:.02},requirements:{}},gloves:{name:"Gloves",slot:"gloves",baseStats:{armor:3,attackSpeed:.1},requirements:{}},shield:{name:"Shield",slot:"offhand",baseStats:{armor:8,blockChance:.15},requirements:{}}},Jr={ring:{name:"Ring",slot:"ring",baseStats:{},requirements:{}},amulet:{name:"Amulet",slot:"amulet",baseStats:{},requirements:{}},belt:{name:"Belt",slot:"belt",baseStats:{health:10},requirements:{}}},Tp=[{name:"of Power",stat:"damage",value:3,tier:1,weight:100},{name:"of Might",stat:"damage",value:6,tier:2,weight:80},{name:"of Devastation",stat:"damage",value:10,tier:3,weight:40},{name:"of Destruction",stat:"damage",value:15,tier:4,weight:20},{name:"of Annihilation",stat:"damage",value:22,tier:5,weight:10},{name:"of Precision",stat:"critChance",value:.03,tier:1,weight:80},{name:"of Lethality",stat:"critChance",value:.06,tier:2,weight:60},{name:"of Execution",stat:"critChance",value:.1,tier:3,weight:30},{name:"of the Assassin",stat:"critChance",value:.15,tier:4,weight:15},{name:"of Perfect Strike",stat:"critChance",value:.22,tier:5,weight:8},{name:"of Sharpness",stat:"critMultiplier",value:.2,tier:1,weight:70},{name:"of Brutality",stat:"critMultiplier",value:.4,tier:2,weight:50},{name:"of Savagery",stat:"critMultiplier",value:.7,tier:3,weight:25},{name:"of Massacre",stat:"critMultiplier",value:1,tier:4,weight:12},{name:"of Swiftness",stat:"attackSpeed",value:.1,tier:1,weight:70},{name:"of Haste",stat:"attackSpeed",value:.2,tier:2,weight:50},{name:"of Lightning",stat:"attackSpeed",value:.35,tier:3,weight:25},{name:"of the Storm",stat:"attackSpeed",value:.5,tier:4,weight:12},{name:"of Time Warp",stat:"attackSpeed",value:.75,tier:5,weight:6},{name:"of Vampirism",stat:"lifeSteal",value:.03,tier:1,weight:60},{name:"of Blood",stat:"lifeSteal",value:.06,tier:2,weight:40},{name:"of the Vampire",stat:"lifeSteal",value:.1,tier:3,weight:20},{name:"of Soul Drain",stat:"lifeSteal",value:.15,tier:4,weight:10},{name:"of Mana Burn",stat:"manaSteal",value:.05,tier:1,weight:50},{name:"of Energy Drain",stat:"manaSteal",value:.1,tier:2,weight:30},{name:"of the Void",stat:"manaSteal",value:.18,tier:3,weight:15},{name:"of the Warrior",stat:"strength",value:5,tier:1,weight:60},{name:"of the Berserker",stat:"strength",value:10,tier:2,weight:40},{name:"of the Champion",stat:"strength",value:18,tier:3,weight:20},{name:"of the Hunter",stat:"dexterity",value:5,tier:1,weight:60},{name:"of the Ranger",stat:"dexterity",value:10,tier:2,weight:40},{name:"of the Marksman",stat:"dexterity",value:18,tier:3,weight:20},{name:"of Thorns",stat:"thorns",value:3,tier:1,weight:40},{name:"of Spikes",stat:"thorns",value:7,tier:2,weight:25},{name:"of Retaliation",stat:"thorns",value:12,tier:3,weight:12}],Ap=[{name:"of Protection",stat:"armor",value:2,tier:1,weight:100},{name:"of Defense",stat:"armor",value:4,tier:2,weight:80},{name:"of the Fortress",stat:"armor",value:7,tier:3,weight:40},{name:"of the Bastion",stat:"armor",value:12,tier:4,weight:20},{name:"of Invincibility",stat:"armor",value:18,tier:5,weight:10},{name:"of Vitality",stat:"health",value:15,tier:1,weight:90},{name:"of Life",stat:"health",value:30,tier:2,weight:70},{name:"of the Titan",stat:"health",value:50,tier:3,weight:35},{name:"of the Colossus",stat:"health",value:80,tier:4,weight:18},{name:"of Immortality",stat:"health",value:120,tier:5,weight:8},{name:"of Evasion",stat:"dodgeChance",value:.02,tier:1,weight:70},{name:"of Agility",stat:"dodgeChance",value:.04,tier:2,weight:50},{name:"of the Wind",stat:"dodgeChance",value:.07,tier:3,weight:25},{name:"of the Phantom",stat:"dodgeChance",value:.12,tier:4,weight:12},{name:"of Ethereal Form",stat:"dodgeChance",value:.18,tier:5,weight:6},{name:"of Blocking",stat:"blockChance",value:.05,tier:1,weight:60},{name:"of the Shield",stat:"blockChance",value:.1,tier:2,weight:40},{name:"of the Guardian",stat:"blockChance",value:.16,tier:3,weight:20},{name:"of Perfect Defense",stat:"blockChance",value:.25,tier:4,weight:10},{name:"of Regeneration",stat:"healthRegen",value:1,tier:1,weight:60},{name:"of Recovery",stat:"healthRegen",value:2,tier:2,weight:40},{name:"of Renewal",stat:"healthRegen",value:4,tier:3,weight:20},{name:"of Restoration",stat:"healthRegen",value:7,tier:4,weight:10},{name:"of Eternal Life",stat:"healthRegen",value:12,tier:5,weight:5},{name:"of Mana",stat:"mana",value:20,tier:1,weight:70},{name:"of the Mind",stat:"mana",value:40,tier:2,weight:50},{name:"of Arcane Power",stat:"mana",value:70,tier:3,weight:25},{name:"of the Archmage",stat:"mana",value:110,tier:4,weight:12},{name:"of Meditation",stat:"manaRegen",value:1,tier:1,weight:50},{name:"of Focus",stat:"manaRegen",value:2,tier:2,weight:30},{name:"of Enlightenment",stat:"manaRegen",value:4,tier:3,weight:15},{name:"of the Bear",stat:"vitality",value:5,tier:1,weight:70},{name:"of the Ox",stat:"vitality",value:10,tier:2,weight:50},{name:"of the Mountain",stat:"vitality",value:18,tier:3,weight:25},{name:"of the Sage",stat:"intelligence",value:5,tier:1,weight:60},{name:"of the Scholar",stat:"intelligence",value:10,tier:2,weight:40},{name:"of the Wizard",stat:"intelligence",value:18,tier:3,weight:20},{name:"of Spines",stat:"thorns",value:2,tier:1,weight:50},{name:"of Barbs",stat:"thorns",value:5,tier:2,weight:30},{name:"of the Hedgehog",stat:"thorns",value:9,tier:3,weight:15}],Rp=[{name:"of Strength",stat:"strength",value:3,tier:1,weight:80},{name:"of Great Strength",stat:"strength",value:6,tier:2,weight:60},{name:"of Mighty Strength",stat:"strength",value:10,tier:3,weight:30},{name:"of Legendary Strength",stat:"strength",value:16,tier:4,weight:15},{name:"of Divine Strength",stat:"strength",value:25,tier:5,weight:8},{name:"of Dexterity",stat:"dexterity",value:3,tier:1,weight:80},{name:"of Great Dexterity",stat:"dexterity",value:6,tier:2,weight:60},{name:"of Swift Dexterity",stat:"dexterity",value:10,tier:3,weight:30},{name:"of Perfect Dexterity",stat:"dexterity",value:16,tier:4,weight:15},{name:"of Divine Grace",stat:"dexterity",value:25,tier:5,weight:8},{name:"of Intelligence",stat:"intelligence",value:3,tier:1,weight:80},{name:"of Great Intelligence",stat:"intelligence",value:6,tier:2,weight:60},{name:"of Brilliant Intelligence",stat:"intelligence",value:10,tier:3,weight:30},{name:"of Genius Intelligence",stat:"intelligence",value:16,tier:4,weight:15},{name:"of Omniscience",stat:"intelligence",value:25,tier:5,weight:8},{name:"of Vitality",stat:"vitality",value:3,tier:1,weight:80},{name:"of Great Vitality",stat:"vitality",value:6,tier:2,weight:60},{name:"of Robust Vitality",stat:"vitality",value:10,tier:3,weight:30},{name:"of Supreme Vitality",stat:"vitality",value:16,tier:4,weight:15},{name:"of Eternal Vitality",stat:"vitality",value:25,tier:5,weight:8},{name:"of Luck",stat:"luck",value:3,tier:1,weight:60},{name:"of Good Luck",stat:"luck",value:6,tier:2,weight:40},{name:"of Great Luck",stat:"luck",value:10,tier:3,weight:20},{name:"of Incredible Luck",stat:"luck",value:16,tier:4,weight:10},{name:"of Divine Fortune",stat:"luck",value:25,tier:5,weight:5},{name:"of Fortune",stat:"goldFind",value:.15,tier:1,weight:70},{name:"of Wealth",stat:"goldFind",value:.25,tier:2,weight:50},{name:"of Greed",stat:"goldFind",value:.4,tier:3,weight:25},{name:"of Avarice",stat:"goldFind",value:.6,tier:4,weight:12},{name:"of Midas",stat:"goldFind",value:.85,tier:5,weight:6},{name:"of Discovery",stat:"magicFind",value:.1,tier:1,weight:60},{name:"of Finding",stat:"magicFind",value:.2,tier:2,weight:40},{name:"of the Seeker",stat:"magicFind",value:.35,tier:3,weight:20},{name:"of the Treasure Hunter",stat:"magicFind",value:.55,tier:4,weight:10},{name:"of the Artifact Finder",stat:"magicFind",value:.8,tier:5,weight:5},{name:"of Learning",stat:"experienceBonus",value:.1,tier:1,weight:50},{name:"of Wisdom",stat:"experienceBonus",value:.2,tier:2,weight:30},{name:"of the Scholar",stat:"experienceBonus",value:.35,tier:3,weight:15},{name:"of the Master",stat:"experienceBonus",value:.55,tier:4,weight:8},{name:"of Enlightenment",stat:"experienceBonus",value:.8,tier:5,weight:4},{name:"of Accuracy",stat:"critChance",value:.02,tier:1,weight:60},{name:"of Keen Eye",stat:"critChance",value:.04,tier:2,weight:40},{name:"of Eagle Eye",stat:"critChance",value:.07,tier:3,weight:20},{name:"of Nimbleness",stat:"dodgeChance",value:.02,tier:1,weight:50},{name:"of Quickness",stat:"dodgeChance",value:.04,tier:2,weight:30},{name:"of the Cat",stat:"dodgeChance",value:.07,tier:3,weight:15},{name:"of Alacrity",stat:"attackSpeed",value:.08,tier:1,weight:40},{name:"of Velocity",stat:"attackSpeed",value:.15,tier:2,weight:25},{name:"of the Cheetah",stat:"attackSpeed",value:.25,tier:3,weight:12},{name:"of Health",stat:"health",value:25,tier:1,weight:70},{name:"of Greater Health",stat:"health",value:50,tier:2,weight:50},{name:"of Superior Health",stat:"health",value:85,tier:3,weight:25},{name:"of Energy",stat:"mana",value:30,tier:1,weight:60},{name:"of Greater Energy",stat:"mana",value:60,tier:2,weight:40},{name:"of Superior Energy",stat:"mana",value:100,tier:3,weight:20}],ga={Common:{color:"#9CA3AF",affixCount:[0,1],statMultiplier:1},Magic:{color:"#3B82F6",affixCount:[1,2],statMultiplier:1.3},Rare:{color:"#EAB308",affixCount:[2,4],statMultiplier:1.6},Unique:{color:"#A855F7",affixCount:[3,5],statMultiplier:2.2},Legendary:{color:"#F97316",affixCount:[4,6],statMultiplier:3}},Yo=[{id:"weapon",name:"Weapon",icon:"",category:"weapon"},{id:"offhand",name:"Off-Hand",icon:"",category:"armor"},{id:"helm",name:"Helm",icon:"",category:"armor"},{id:"chest",name:"Chest",icon:"",category:"armor"},{id:"gloves",name:"Gloves",icon:"",category:"armor"},{id:"legs",name:"Legs",icon:"",category:"armor"},{id:"boots",name:"Boots",icon:"",category:"armor"},{id:"belt",name:"Belt",icon:"",category:"accessory"},{id:"ring",name:"Ring",icon:"",category:"accessory"},{id:"amulet",name:"Amulet",icon:"",category:"accessory"}],qa=new Map;function Sd(e,t){let n;t&&qa.has(t)?n=qa.get(t):(n=e.reduce((r,a)=>r+a.weight,0),t&&qa.set(t,n));let l=Math.random()*n;for(const r of e)if(l-=r.weight,l<=0)return r;return e[e.length-1]}const Ga=new Map;function Dp(e,t=!1){const n=`${e}-${t}`;let l;return Ga.has(n)?l=Ga.get(n):(l=[{item:"Common",weight:60},{item:"Magic",weight:25},{item:"Rare",weight:10},{item:"Unique",weight:4},{item:"Legendary",weight:1}].map(({item:a,weight:i})=>{let o=i;return a==="Magic"&&(o+=Math.floor(e/5)),a==="Rare"&&(o+=Math.floor(e/10)),a==="Unique"&&(o+=Math.floor(e/20)),a==="Legendary"&&(o+=Math.floor(e/50)),t&&(a==="Rare"&&(o+=5),a==="Unique"&&(o+=3),a==="Legendary"&&(o+=2)),{item:a,weight:Math.max(1,o)}}),Ga.set(n,l)),Sd(l,n).item}function zp(e){const t=Math.max(.3,.6-e*.01),n=Math.min(.5,.3+e*.008),l=Math.random();if(l<t){const r=Object.keys(Ul);return{category:"weapon",type:r[Math.floor(Math.random()*r.length)]}}else if(l<t+n){const r=Object.keys(Zr);return{category:"armor",type:r[Math.floor(Math.random()*r.length)]}}else{const r=Object.keys(Jr);return{category:"accessory",type:r[Math.floor(Math.random()*r.length)]}}}function Ip(e,t){const l=Ul[e].damageTypes,r={Common:.1,Magic:.3,Rare:.5,Unique:.7,Legendary:.9}[t]||.1;if(Math.random()<r&&l.length>1){const a=l.filter(i=>i!=="physical");return a[Math.floor(Math.random()*a.length)]}return"physical"}function $p(e,t,n){const l=ga[t];if(!l)return[];const[r,a]=l.affixCount,i=Math.floor(Math.random()*(a-r+1))+r;if(i===0)return[];let o;switch(e){case"weapon":o=Tp;break;case"armor":o=Ap;break;case"accessory":o=Rp;break}const u=Math.min(3,Math.floor(n/10)+1),d=o.filter(p=>p.tier<=u),f=[],g=new Set,h=1+(n-1)*.05,v=l.statMultiplier;for(let p=0;p<i&&d.length>0;p++){const k=d.filter(N=>!g.has(N.stat));if(k.length===0)break;const R=Sd(k),y=R.value*h*v,m={Common:.1,Magic:.15,Rare:.18,Unique:.22,Legendary:.25}[t]||.1,x=1+(Math.random()*2-1)*m,S=y*x;f.push({...R,value:Math.max(1,Math.round(S*100)/100)}),g.add(R.stat)}return f}function Fp(e,t,n,l,r=[]){let a="";if(e in Ul?a=Ul[e].name:e in Zr?a=Zr[e].name:e in Jr?a=Jr[e].name:a="Unknown Item",l&&l!=="physical"){const d={fire:["Burning","Flaming","Infernal","Phoenix"],ice:["Frozen","Glacial","Frost","Winter"],lightning:["Shocking","Storm","Thunder","Volt"],poison:["Venomous","Toxic","Plague","Serpent"]}[l]||[];d.length>0&&(a=`${d[Math.floor(Math.random()*d.length)]} ${a}`)}if(r.length>0&&t!=="Common"){const u=r.reduce((d,f)=>f.tier>d.tier?f:d);a+=` ${u.name}`}const i=l&&l!=="physical"?` [${l.toUpperCase()}]`:"";return`${t} ${a}${i} (L${n})`}function Bp(e,t,n,l){var u;const r=((u=ga[n])==null?void 0:u.statMultiplier)||1;let a=0;e.damage&&(a+=e.damage*5),e.armor&&(a+=e.armor*3),e.health&&(a+=e.health*.5);const i=t.reduce((d,f)=>{const h={damage:5,armor:3,health:.5,mana:.3,critChance:100,dodgeChance:80,attackSpeed:20,strength:2,dexterity:2,intelligence:2,vitality:2,luck:3}[f.stat]||1;return d+f.value*h},0),o=(a+i)*l*r;return Math.max(1,Math.floor(o))}function Ol(e,t=!1){const n=Dp(e,t),{category:l,type:r}=zp(e);let a={},i,o={},u;if(l==="weapon"){const k=Ul[r];a={...k.baseStats},i=k.slot,o={...k.requirements},u=Ip(r,n)}else if(l==="armor"){const k=Zr[r];a={...k.baseStats},i=k.slot,o={...k.requirements}}else{const k=Jr[r];a={...k.baseStats},i=k.slot,o={...k.requirements}}const d=ga[n];if(!d)return console.warn("Invalid rarity:",n,"defaulting to Common"),Ol(e,!1);const f=1+(e-1)*.1,g=d.statMultiplier;Object.keys(a).forEach(k=>{if(typeof a[k]=="number"){const R={Common:.15,Magic:.2,Rare:.25,Unique:.3,Legendary:.35}[n]||.15,y=1+(Math.random()*2-1)*R,m=a[k]*f*g*y;a[k]=Math.round(m*100)/100}});const h=$p(l,n,e),v=Fp(r,n,e,u,h),p=Bp(a,h,n,e);return{id:"eq_"+Math.random().toString(36).substr(2,9),name:v,type:r,slot:i,category:l,rarity:n,level:e,baseStats:a,affixes:h,damageType:u,requirements:o,value:p}}function Up(e){var t;return((t=ga[e])==null?void 0:t.color)||"#9CA3AF"}const Op=[];function qp(){return Op.pop()||{}}function Xo(e){const t=qp();let n=0;e.baseStats.damage&&(n+=e.baseStats.damage),e.affixes.forEach(i=>{(i.stat==="damage"||i.stat==="health"||i.stat==="armor")&&(n+=i.value*.5)}),n=Math.max(1,Math.floor(n));const l=e.affixes.map(i=>({key:i.stat==="health"?"hp":i.stat==="critChance"?"critChance":i.stat==="dodgeChance"?"dodgeChance":i.stat==="attackSpeed"?"projectileSpeed":i.stat==="lifeSteal"?"lifeSteal":i.stat==="damage"?"dps":i.stat,val:i.value})),a=["bow","crossbow"].includes(e.type)?"ranged":"melee";return Object.assign(t,{...e,power:n,type:a,element:e.damageType||"physical",extras:l,rarityColor:Up(e.rarity),elementColor:Gp(e.damageType||"physical")}),t}const Va=new Map;function Gp(e){if(Va.has(e))return Va.get(e);let t;switch(e){case"fire":t="text-red-500";break;case"ice":t="text-cyan-400";break;case"lightning":t="text-yellow-300";break;case"poison":t="text-green-500";break;default:t="text-gray-300"}return Va.set(e,t),t}function Fs(e,t=!1){const n=t?Math.floor(Math.random()*3)+2:Math.floor(Math.random()*2)+1;if(n===1){const r=Ol(e,t);return[Xo(r)]}const l=[];for(let r=0;r<n;r++){const a=Ol(e,t),i=Xo(a);l.push(i)}return l}const jd="idle-poe-phase2-save-v1";function Ne(e){const t={...e,__meta:{lastSaved:Date.now()}};localStorage.setItem(jd,JSON.stringify(t))}function Vp(){try{const e=localStorage.getItem(jd);return e?JSON.parse(e):null}catch{return null}}function Wp(e,t){const n=e.skillGems.find(i=>i.id===t);if(!n)return{success:!1,message:"Skill not found"};if(n.isUnlocked)return{success:!1,message:"Skill is already unlocked"};if(e.level<n.unlockLevel)return{success:!1,message:`Requires player level ${n.unlockLevel}`};const l=Ft(n);if(e.skillPoints<l)return{success:!1,message:`Requires ${l} skill points (you have ${e.skillPoints})`};const r={...e};r.skillPoints-=l;const a=r.skillGems.findIndex(i=>i.id===t);return r.skillGems[a]={...n,isUnlocked:!0},{success:!0,message:`${n.name} unlocked!`,updatedPlayer:r}}function Hp(e,t){const n=e.supportGems.find(i=>i.id===t);if(!n)return{success:!1,message:"Support gem not found"};if(n.isUnlocked)return{success:!1,message:"Support gem is already unlocked"};if(e.level<n.unlockLevel)return{success:!1,message:`Requires player level ${n.unlockLevel}`};const l=Ft(n);if(e.skillPoints<l)return{success:!1,message:`Requires ${l} skill points (you have ${e.skillPoints})`};const r={...e};r.skillPoints-=l;const a=r.supportGems.findIndex(i=>i.id===t);return r.supportGems[a]={...n,isUnlocked:!0},{success:!0,message:`${n.name} unlocked!`,updatedPlayer:r}}function Qp(e,t){const n=e.skillGems.find(i=>i.id===t);if(!n)return{success:!1,message:"Skill not found"};if(!n.isUnlocked)return{success:!1,message:"Skill must be unlocked first"};if(!Xr(n,e.skillPoints)){const i=vn(n.level);return n.level>=n.maxLevel?{success:!1,message:"Skill is already at maximum level"}:{success:!1,message:`Requires ${i} skill points (you have ${e.skillPoints})`}}const l=vn(n.level),r={...e};r.skillPoints-=l;const a=r.skillGems.findIndex(i=>i.id===t);return r.skillGems[a]={...n,level:n.level+1},{success:!0,message:`${n.name} leveled up to ${n.level+1}!`,updatedPlayer:r}}function Kp(e,t){const n=e.supportGems.find(i=>i.id===t);if(!n)return{success:!1,message:"Support gem not found"};if(!n.isUnlocked)return{success:!1,message:"Support gem must be unlocked first"};if(!Xr(n,e.skillPoints)){const i=vn(n.level);return n.level>=n.maxLevel?{success:!1,message:"Support gem is already at maximum level"}:{success:!1,message:`Requires ${i} skill points (you have ${e.skillPoints})`}}const l=vn(n.level),r={...e};r.skillPoints-=l;const a=r.supportGems.findIndex(i=>i.id===t);return r.supportGems[a]={...n,level:n.level+1},{success:!0,message:`${n.name} leveled up to ${n.level+1}!`,updatedPlayer:r}}function Yp(e,t,n){if(n<0||n>=e.skillBar.maxSlots)return{success:!1,message:`Invalid slot index. Must be between 0 and ${e.skillBar.maxSlots-1}`};const l=e.skillGems.find(i=>i.id===t);if(!l)return{success:!1,message:"Skill not found"};if(!l.isUnlocked)return{success:!1,message:"Skill must be unlocked first"};const r={...e};r.skillBar.slots=r.skillBar.slots.map(i=>(i==null?void 0:i.id)===t?null:i),r.skillGems=r.skillGems.map(i=>i.id===t?{...i,isEquipped:!0}:i);const a=r.skillBar.slots[n];return a&&(r.skillGems=r.skillGems.map(i=>i.id===a.id?{...i,isEquipped:!1}:i)),r.skillBar.slots[n]={...l,isEquipped:!0},{success:!0,message:`${l.name} equipped to slot ${n+1}`,updatedPlayer:r}}function Xp(e,t){if(t<0||t>=e.skillBar.maxSlots)return{success:!1,message:`Invalid slot index. Must be between 0 and ${e.skillBar.maxSlots-1}`};const n=e.skillBar.slots[t];if(!n)return{success:!1,message:"No skill equipped in this slot"};const l={...e};return l.skillBar.slots[t]=null,l.skillGems=l.skillGems.map(r=>r.id===n.id?{...r,isEquipped:!1}:r),{success:!0,message:`${n.name} unequipped from slot ${t+1}`,updatedPlayer:l}}function Zp(e,t,n){const l=e.skillGems.find(d=>d.id===t),r=e.supportGems.find(d=>d.id===n);if(!l)return{success:!1,message:"Skill not found"};if(!r)return{success:!1,message:"Support gem not found"};if(!l.isUnlocked)return{success:!1,message:"Skill must be unlocked first"};if(!r.isUnlocked)return{success:!1,message:"Support gem must be unlocked first"};if(l.supportGems.length>=6)return{success:!1,message:"Skill already has maximum support gems (6)"};if(l.supportGems.some(d=>d.id===n))return{success:!1,message:"Support gem is already attached to this skill"};if(!r.tags.some(d=>l.tags.includes(d)))return{success:!1,message:`${r.name} is not compatible with ${l.name}. Support gem tags (${r.tags.join(", ")}) must match at least one skill tag (${l.tags.join(", ")}).`};const i={...e},o=i.skillGems.findIndex(d=>d.id===t);i.skillGems[o]={...l,supportGems:[...l.supportGems,r]};const u=i.skillBar.slots.findIndex(d=>(d==null?void 0:d.id)===t);return u!==-1&&(i.skillBar.slots[u]=i.skillGems[o]),{success:!0,message:`${r.name} attached to ${l.name}`,updatedPlayer:i}}function Jp(e,t,n){const l=e.skillGems.find(d=>d.id===t);if(!l)return{success:!1,message:"Skill not found"};const r=l.supportGems.findIndex(d=>d.id===n);if(r===-1)return{success:!1,message:"Support gem is not attached to this skill"};const a=l.supportGems[r],i={...e},o=i.skillGems.findIndex(d=>d.id===t);i.skillGems[o]={...l,supportGems:l.supportGems.filter(d=>d.id!==n)};const u=i.skillBar.slots.findIndex(d=>(d==null?void 0:d.id)===t);return u!==-1&&(i.skillBar.slots[u]=i.skillGems[o]),{success:!0,message:`${a.name} detached from ${l.name}`,updatedPlayer:i}}function eh(e){return e.skillGems.filter(t=>!t.isUnlocked&&e.level>=t.unlockLevel)}function th(e){return e.skillGems.filter(t=>t.isUnlocked)}function nh(e){return e.supportGems.filter(t=>!t.isUnlocked&&e.level>=t.unlockLevel)}function lh(e){return e.supportGems.filter(t=>t.isUnlocked)}const rh=[{id:"elemental_mastery",name:"Elemental Mastery",description:"Having both Fire and Lightning skills equipped grants elemental damage bonus",requiredTags:["Fire","Lightning"],bonuses:[{type:"damage",value:20,isPercentage:!0,description:"+20% elemental damage"},{type:"special",value:10,isPercentage:!1,description:"10% chance to trigger elemental explosion on kill"}],unlockLevel:5,icon:""},{id:"melee_caster",name:"Spellsword",description:"Combining melee attacks with spells creates unique combat synergies",requiredTags:["Melee","Spell"],bonuses:[{type:"manaCost",value:-15,isPercentage:!0,description:"-15% mana cost for spells"},{type:"speed",value:10,isPercentage:!0,description:"+10% attack and cast speed"}],unlockLevel:3,icon:""},{id:"aoe_specialist",name:"Area Specialist",description:"Multiple AoE skills create devastating area control",requiredTags:["AoE","AoE"],bonuses:[{type:"area",value:30,isPercentage:!0,description:"+30% area of effect"},{type:"damage",value:15,isPercentage:!0,description:"+15% area damage",appliesTo:[]}],unlockLevel:4,icon:""},{id:"channeling_master",name:"Channeling Master",description:"Mastery of channeling skills grants sustained combat bonuses",requiredTags:["Channeling"],bonuses:[{type:"damage",value:5,isPercentage:!0,description:"+5% damage per second of channeling (max 50%)"},{type:"special",value:2,isPercentage:!1,description:"+2% life and mana regeneration while channeling"}],unlockLevel:6,icon:""}],ah=[{id:"fire_lightning_chain",name:"Elemental Chain",description:"Lightning Bolt has a chance to trigger Fireball on critical hits",triggerSkill:"lightning_bolt",targetSkill:"fireball",condition:"onCrit",bonus:{type:"special",value:25,isPercentage:!1,description:"25% chance to cast Fireball on Lightning Bolt critical hit"},cooldown:2e3},{id:"whirlwind_spell_synergy",name:"Spell Weaving",description:"Whirlwind hits reduce spell cooldowns",triggerSkill:"whirlwind",targetSkill:"all_spells",condition:"onHit",bonus:{type:"cooldown",value:-50,isPercentage:!1,description:"Reduces spell cooldowns by 50ms per enemy hit"}},{id:"spell_kill_heal",name:"Arcane Recovery",description:"Spell kills restore mana and health",triggerSkill:"all_spells",targetSkill:"player",condition:"onKill",bonus:{type:"heal",value:5,isPercentage:!0,description:"Restore 5% health and mana on spell kill"}},{id:"melee_spell_momentum",name:"Combat Momentum",description:"Alternating between melee and spells builds momentum",triggerSkill:"whirlwind",targetSkill:"all_spells",condition:"onUse",bonus:{type:"damage",value:10,isPercentage:!0,description:"+10% spell damage for 3 seconds after using melee skill"},duration:3e3}];function sh(e){const t=[];for(const n of rh)ih(n,e)&&t.push(n);return t}function ih(e,t){if(e.requiredSkills){const n=t.map(l=>l.id);return e.requiredSkills.every(l=>n.includes(l))}if(e.requiredTags){const n=t.flatMap(a=>a.tags),l=new Map;n.forEach(a=>{l.set(a,(l.get(a)||0)+1)});const r=new Map;e.requiredTags.forEach(a=>{r.set(a,(r.get(a)||0)+1)});for(const[a,i]of r)if((l.get(a)||0)<i)return!1;return!0}return!1}function oh(e){const t=[],n=e.map(l=>l.id);for(const l of ah){const r=n.includes(l.triggerSkill)||l.triggerSkill==="all_spells",a=l.targetSkill==="all_spells"||l.targetSkill==="player"||n.includes(l.targetSkill);r&&a&&t.push(l)}return t}const bd={player:Le(Bl()),enemies:[Cr(1)],inventory:[],log:[],skills:{},activeCombinations:[],activeSynergies:[],lastStatsUpdate:Date.now()};function Zo(e){const t=e.player.skillBar.slots.filter(r=>r!==null),n=sh(t),l=oh(t);return{...e,activeCombinations:n,activeSynergies:l}}function ch(e,t){var n,l,r,a;switch(t.type){case"LOAD":{const i=t.payload||{};return i.player&&typeof i.player=="object"&&(typeof i.player.gold!="number"&&(i.player.gold=0),(!i.player.equipment||typeof i.player.equipment!="object")&&(i.player.equipment={}),i.player.skillBar||(i.player.skillBar=hp()),Array.isArray(i.player.skillGems)||(i.player.skillGems=Ri.map(o=>Di(o))),Array.isArray(i.player.supportGems)||(i.player.supportGems=gd.map(o=>vd(o))),i.player=Le(i.player)),{...e,...i,lastStatsUpdate:Date.now()}}case"SPAWN":{const i=((n=t.payload)==null?void 0:n.level)??Math.max(1,e.player.level+(Math.random()>.5?1:0)),o=(l=t.payload)==null?void 0:l.kind,u=Cr(i,o),d=[...e.enemies,u].slice(0,25),f=[`Spawned ${u.name}`,...e.log].slice(0,200);return Ne({player:e.player,inventory:e.inventory,enemies:d,skills:e.skills}),{...e,enemies:d,log:f}}case"TICK":{const i=(r=t.payload)==null?void 0:r.enemyId,o=[...e.enemies],u=o.findIndex(m=>m.id===i);if(u===-1)return e;const d={...o[u]};let f={...e.player},g=[];f.skillCooldowns||(f.skillCooldowns={});const h=Date.now(),v=f.skillBar.slots.find(m=>(m==null?void 0:m.id)==="whirlwind");if(v&&v.isUnlocked){const m=f.skillCooldowns.whirlwind||0,x=v.scaling.baseCooldown||v.cooldown;if(x===0||h-m>=x){f.skillCooldowns.whirlwind=h;const N=(v.scaling.baseArea+(v.level-1)*v.scaling.areaPerLevel)*30;g.push(`ANIM_SKILL|whirlwind|${h}|3000`);const A=Math.floor(v.scaling.baseDamage+(v.level-1)*v.scaling.damagePerLevel),F=e.playerPosition||{x:150,y:300};let B=0;o.forEach(X=>{if(X.hp>0&&X.position){const H=Math.hypot(X.position.x-F.x,X.position.y-F.y);H<=N&&(X.hp=Math.max(0,X.hp-A),g.push(`Whirlwind spins through ${X.name} for ${A} damage! (distance: ${Math.round(H)})`),B++)}}),g.push(` Whirlwind channels continuously! (${B} enemies hit, range: ${Math.round(N)})`)}}const p=_p(f,d),k={...p.player};let R=[...o];R[u]=p.enemy;let y=[...g,p.message,...e.log].slice(0,200);if(p.didPlayerHit){const m=k.equipped??{type:"melee",rarity:"Common"};y.unshift(`ANIM_PLAYER|${d.id}|${m.type}|${m.rarity}|${p.crit?"crit":"hit"}|${p.damage}`)}if(p.crit&&p.didPlayerHit&&y.unshift(` Critical Hit! -${p.damage} to ${d.name}`),p.enemyDefeated){const m=Fs(d.level,d.isBoss);R=R.filter(X=>X.id!==i);const x=d.isBoss?Math.floor(d.level*12):Math.max(1,Math.floor(d.level*4));k.xp+=x;const S=10*4;let N=[...e.inventory],A=0,F=0,B=0;for(m.forEach(X=>{A+=X.value,N.length>=S?(k.gold+=X.value,B++):(N.push(X),F++)}),d.isBoss?y.unshift(` BOSS DEFEATED! ${m.length} Epic Items Found!`):y.unshift(`Enemy defeated! ${m.length} items dropped`),F>0&&y.unshift(` ${F} items added to inventory`),B>0&&y.unshift(` Inventory full! ${B} items converted to ${B*Math.floor(A/m.length)} gold`),k.gold+=A;k.xp>=k.nextLevelXp;)k.xp-=k.nextLevelXp,k.level+=1,k.skillPoints+=1,k.maxHp+=8,k.hp=k.maxHp,k.nextLevelXp=Math.floor(k.nextLevelXp*1.25),y.unshift(`Leveled up! Now level ${k.level}`);return Ne({player:k,inventory:N,enemies:R,skills:e.skills}),{...e,player:k,enemies:R,inventory:N,log:y,skills:e.skills}}return Ne({player:k,inventory:e.inventory,enemies:R,skills:e.skills}),{...e,player:k,enemies:R,log:y,skills:e.skills}}case"REMOVE":{const i=t.payload,o=e.enemies.filter(u=>u.id!==i);return Ne({player:e.player,inventory:e.inventory,enemies:o,skills:e.skills}),{...e,enemies:o}}case"EQUIP":{const i=t.payload,o=e.inventory.find(u=>u.id===i);if(!o)return e;if(o.slot&&o.category){if(!(!o.requirements||Object.entries(o.requirements).every(([h,v])=>{var k;return(((k=e.player.attributes)==null?void 0:k[h])??0)>=v})))return e;const d={...e.player.equipment};d[o.slot]=o;const f={...e.player,equipment:d},g=Le(f);return Ne({player:g,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:g,lastStatsUpdate:Date.now()}}else{const u={...e.player,equipped:o},d=Le(u);return Ne({player:d,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:d,lastStatsUpdate:Date.now()}}}case"UNEQUIP":{const i=t.payload;if(!i||!((a=e.player.equipment)!=null&&a[i]))return e;const o={...e.player.equipment};delete o[i];const u={...e.player,equipment:o},d=Le(u);return Ne({player:d,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:d,lastStatsUpdate:Date.now()}}case"DISCARD":{const i=t.payload,o=e.inventory.filter(u=>u.id!==i);return Ne({player:e.player,inventory:o,enemies:e.enemies,skills:e.skills}),{...e,inventory:o}}case"SELL_ALL":{const i=e.inventory.reduce((d,f)=>d+(f.value||0),0),o={...e.player,gold:(e.player.gold||0)+i},u=Le(o);return Ne({player:u,inventory:[],enemies:e.enemies,skills:e.skills}),{...e,player:u,inventory:[],log:[`Sold all items for ${i} gold`,...e.log].slice(0,200),lastStatsUpdate:Date.now()}}case"UPGRADE_SKILL":{const i=t.payload,o=1;if(e.player.skillPoints<o)return e;const u=(e.skills[i]??0)+1;if(u>10)return e;const d={...e.skills,[i]:u},f={...e.player};f.skillPoints-=o,f.skills=d,i==="endurance"&&(f.maxHp+=10,f.hp+=10);const g=Le(f);return Ne({player:g,inventory:e.inventory,enemies:e.enemies,skills:d}),{...e,player:g,skills:d,log:[`Upgraded ${i} to ${u}`,...e.log].slice(0,200)}}case"TOGGLE_AUTO":return{...e,autoCombat:!e.autoCombat};case"RESET":return Ne({player:Bl(),inventory:[],enemies:[Cr(1)],skills:{}}),{player:Bl(),enemies:[Cr(1)],inventory:[],log:[],skills:{},activeCombinations:[],activeSynergies:[],lastStatsUpdate:Date.now()};case"LOG":return{...e,log:[t.payload,...e.log].slice(0,200)};case"UNLOCK_SKILL_GEM":{const i=Wp(e.player,t.payload);if(i.success&&i.updatedPlayer){const o=Le(i.updatedPlayer);return Ne({player:o,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:o,log:[i.message,...e.log].slice(0,200)}}else return{...e,log:[i.message,...e.log].slice(0,200)}}case"UNLOCK_SUPPORT_GEM":{const i=Hp(e.player,t.payload);if(i.success&&i.updatedPlayer){const o=Le(i.updatedPlayer);return Ne({player:o,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:o,log:[i.message,...e.log].slice(0,200)}}else return{...e,log:[i.message,...e.log].slice(0,200)}}case"LEVEL_UP_SKILL_GEM":{const i=Qp(e.player,t.payload);if(i.success&&i.updatedPlayer){const o=Le(i.updatedPlayer);return Ne({player:o,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:o,log:[i.message,...e.log].slice(0,200)}}else return{...e,log:[i.message,...e.log].slice(0,200)}}case"LEVEL_UP_SUPPORT_GEM":{const i=Kp(e.player,t.payload);if(i.success&&i.updatedPlayer){const o=Le(i.updatedPlayer);return Ne({player:o,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:o,log:[i.message,...e.log].slice(0,200)}}else return{...e,log:[i.message,...e.log].slice(0,200)}}case"EQUIP_SKILL_TO_BAR":{const{skillId:i,slotIndex:o}=t.payload,u=Yp(e.player,i,o);if(u.success&&u.updatedPlayer){const d=Le(u.updatedPlayer);return Ne({player:d,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),Zo({...e,player:d,log:[u.message,...e.log].slice(0,200)})}else return{...e,log:[u.message,...e.log].slice(0,200)}}case"UNEQUIP_SKILL_FROM_BAR":{const i=Xp(e.player,t.payload);if(i.success&&i.updatedPlayer){const o=Le(i.updatedPlayer);return Ne({player:o,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),Zo({...e,player:o,log:[i.message,...e.log].slice(0,200)})}else return{...e,log:[i.message,...e.log].slice(0,200)}}case"ATTACH_SUPPORT_GEM":{const{skillId:i,supportId:o}=t.payload,u=Zp(e.player,i,o);if(u.success&&u.updatedPlayer){const d=Le(u.updatedPlayer);return Ne({player:d,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:d,log:[u.message,...e.log].slice(0,200)}}else return{...e,log:[u.message,...e.log].slice(0,200)}}case"DETACH_SUPPORT_GEM":{const{skillId:i,supportId:o}=t.payload,u=Jp(e.player,i,o);if(u.success&&u.updatedPlayer){const d=Le(u.updatedPlayer);return Ne({player:d,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:d,log:[u.message,...e.log].slice(0,200)}}else return{...e,log:[u.message,...e.log].slice(0,200)}}case"USE_SKILL":{const i=t.payload,o=e.player.skillGems.find(h=>h.id===i&&h.isEquipped);if(!o)return{...e,log:["Skill not found or not equipped",...e.log].slice(0,200)};const u=0;if(e.player.mana<u)return{...e,log:[`Not enough mana to use ${o.name}! (${u} required, ${e.player.mana} available)`,...e.log].slice(0,200)};const d={...e.player,mana:Math.max(0,e.player.mana-u)};let f=[`Used ${o.name}!`,...e.log];if(o.id==="whirlwind"){f.unshift(`ANIM_SKILL|whirlwind|${Date.now()}|3000`);const h=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);e.enemies.forEach(v=>{v.hp>0&&f.unshift(`ANIM_PLAYER|${v.id}|whirlwind|Unique|hit|${h}`)})}else if(o.id==="fireball"){const h=e.enemies.find(v=>v.hp>0);if(h){f.unshift(`ANIM_SKILL|fireball|${h.id}|${Date.now()}`);const v=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);f.unshift(`ANIM_PLAYER|${h.id}|magic|Rare|hit|${v}`)}}else if(o.id==="lightning_bolt"){const h=e.enemies.find(v=>v.hp>0);if(h){f.unshift(`ANIM_SKILL|lightning_bolt|${h.id}|${Date.now()}`);const v=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);f.unshift(`ANIM_PLAYER|${h.id}|magic|Magic|hit|${v}`)}}else if(o.id==="power_strike"){const h=e.enemies.find(v=>v.hp>0);if(h){const v=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);f.unshift(`ANIM_PLAYER|${h.id}|melee|Unique|hit|${v}`)}}else if(o.id==="ice_shard"){const h=e.enemies.find(v=>v.hp>0);if(h){f.unshift(`ANIM_SKILL|ice_shard|${h.id}|${Date.now()}`);const v=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);f.unshift(`ANIM_PLAYER|${h.id}|magic|Magic|hit|${v}`)}}else if(o.id==="ground_slam"){f.unshift(`ANIM_SKILL|ground_slam|${Date.now()}|800`);const h=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);e.enemies.forEach(v=>{v.hp>0&&f.unshift(`ANIM_PLAYER|${v.id}|melee|Rare|hit|${h}`)})}else if(o.id==="poison_arrow"){const h=e.enemies.find(v=>v.hp>0);if(h){f.unshift(`ANIM_SKILL|poison_arrow|${h.id}|${Date.now()}`);const v=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);f.unshift(`ANIM_PLAYER|${h.id}|ranged|Magic|hit|${v}`)}}else if(o.id==="chain_lightning"){f.unshift(`ANIM_SKILL|chain_lightning|${Date.now()}|800`);const h=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);e.enemies.filter(p=>p.hp>0).slice(0,3).forEach(p=>{f.unshift(`ANIM_PLAYER|${p.id}|magic|Rare|hit|${h}`)})}else if(o.id==="meteor"){f.unshift(`ANIM_SKILL|meteor|${Date.now()}|1200`);const h=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);e.enemies.forEach(v=>{v.hp>0&&f.unshift(`ANIM_PLAYER|${v.id}|magic|Unique|hit|${h}`)})}else if(o.id==="blade_vortex"){f.unshift(`ANIM_SKILL|blade_vortex|${Date.now()}|5000`);const h=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);e.enemies.forEach(v=>{v.hp>0&&f.unshift(`ANIM_PLAYER|${v.id}|magic|Rare|hit|${h}`)})}else if(o.id==="frost_nova"){f.unshift(`ANIM_SKILL|frost_nova|${Date.now()}|1000`);const h=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);e.enemies.forEach(v=>{v.hp>0&&f.unshift(`ANIM_PLAYER|${v.id}|magic|Magic|hit|${h}`)})}else if(o.id==="cleave"){f.unshift(`ANIM_SKILL|cleave|${Date.now()}|600`);const h=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);e.enemies.filter(p=>p.hp>0).slice(0,3).forEach(p=>{f.unshift(`ANIM_PLAYER|${p.id}|melee|Rare|hit|${h}`)})}else if(o.id==="summon_skeletons")f.unshift(`ANIM_SKILL|summon_skeletons|${Date.now()}|2000`),f.unshift("Summoned skeleton minions!");else if(o.id==="heal"){const h=Math.floor(o.scaling.baseDamage+(o.level-1)*o.scaling.damagePerLevel);d.hp=Math.min(d.maxHp,d.hp+h),f.unshift(`ANIM_SKILL|heal|player|${Date.now()}`),f.unshift(`Healed for ${h} HP!`)}const g=Le(d);return Ne({player:g,inventory:e.inventory,enemies:e.enemies,skills:e.skills}),{...e,player:g,log:f.slice(0,200)}}case"UPDATE_ENEMY_POSITIONS":{const i=t.payload,o=e.enemies.map(u=>({...u,position:i[u.id]||u.position}));return{...e,enemies:o}}case"UPDATE_PLAYER_POSITION":return{...e,playerPosition:t.payload};case"CHANNEL_WHIRLWIND":{const i=e.player.skillBar.slots.find(h=>(h==null?void 0:h.id)==="whirlwind");if(!i||!i.isUnlocked)return e;let o={...e.player},u=[];o.skillCooldowns||(o.skillCooldowns={});const d=Date.now(),f=o.skillCooldowns.whirlwind||0,g=i.scaling.baseCooldown||i.cooldown;if(g===0||d-f>=g){o.skillCooldowns.whirlwind=d;const v=(i.scaling.baseArea+(i.level-1)*i.scaling.areaPerLevel)*30,p=Math.floor(i.scaling.baseDamage+(i.level-1)*i.scaling.damagePerLevel),k=e.playerPosition||{x:150,y:300};let R=0,y=[...e.enemies];y.forEach(S=>{S.hp>0&&S.position&&Math.hypot(S.position.x-k.x,S.position.y-k.y)<=v&&(S.hp=Math.max(0,S.hp-p),R++)}),R>0&&(u.push(`ANIM_SKILL|whirlwind|${d}|1000`),u.push(` Whirlwind channels continuously! (${R} enemies hit, range: ${Math.round(v)})`));const m=y.filter(S=>S.hp<=0);y=y.filter(S=>S.hp>0),m.forEach(S=>{const N=Fs(S.level,S.isBoss);N.forEach(A=>{o.gold+=A.value}),N.length>0&&u.push(`Enemy defeated by Whirlwind! ${N.length} items dropped`)});const x=Le(o);return{...e,player:x,enemies:y,log:[...u,...e.log].slice(0,200)}}return e}default:return e}}const Nd=C.createContext({state:bd,actions:{},dispatch:()=>{}});function uh({children:e}){const[t,n]=C.useReducer(ch,bd);C.useEffect(()=>{const o=Vp();o&&n({type:"LOAD",payload:o})},[]);const l=C.useCallback(o=>{n({type:"UPDATE_ENEMY_POSITIONS",payload:o})},[]),r=C.useCallback(o=>{n({type:"UPDATE_PLAYER_POSITION",payload:o})},[]);C.useEffect(()=>{const o=setInterval(()=>{if(t.enemies.length<25){const u=Math.min(5,25-t.enemies.length);for(let d=0;d<u;d++)n({type:"SPAWN"})}},2200);return()=>clearInterval(o)},[t.enemies.length]),C.useEffect(()=>{const o=t.skills.quick??0,d=Math.max(300,Math.round(1e3/(1+o*.05))),f=setInterval(()=>{t.enemies.map(h=>h.id).forEach(h=>n({type:"TICK",payload:{enemyId:h}}))},d);return()=>clearInterval(f)},[t.enemies.length,t.skills]),C.useEffect(()=>{const o=t.player.skillBar.slots.find(u=>(u==null?void 0:u.id)==="whirlwind");if(o&&o.isUnlocked){const d=setInterval(()=>{n({type:"CHANNEL_WHIRLWIND"})},100);return()=>clearInterval(d)}},[t.player.skillBar]);const a=C.useMemo(()=>({spawnEnemy:(o,u)=>n({type:"SPAWN",payload:{level:o,kind:u}}),simulateTick:o=>n({type:"TICK",payload:{enemyId:o}}),removeEnemy:o=>n({type:"REMOVE",payload:o}),equipItem:o=>n({type:"EQUIP",payload:o}),discardItem:o=>n({type:"DISCARD",payload:o}),sellAll:()=>n({type:"SELL_ALL"}),upgradeSkill:o=>n({type:"UPGRADE_SKILL",payload:o}),resetAll:()=>n({type:"RESET"}),log:o=>n({type:"LOG",payload:o}),unlockSkillGem:o=>n({type:"UNLOCK_SKILL_GEM",payload:o}),unlockSupportGem:o=>n({type:"UNLOCK_SUPPORT_GEM",payload:o}),levelUpSkillGem:o=>n({type:"LEVEL_UP_SKILL_GEM",payload:o}),levelUpSupportGem:o=>n({type:"LEVEL_UP_SUPPORT_GEM",payload:o}),equipSkillToBar:(o,u)=>n({type:"EQUIP_SKILL_TO_BAR",payload:{skillId:o,slotIndex:u}}),unequipSkillFromBar:o=>n({type:"UNEQUIP_SKILL_FROM_BAR",payload:o}),attachSupportGem:(o,u)=>n({type:"ATTACH_SUPPORT_GEM",payload:{skillId:o,supportId:u}}),detachSupportGem:(o,u)=>n({type:"DETACH_SUPPORT_GEM",payload:{skillId:o,supportId:u}}),useSkill:o=>n({type:"USE_SKILL",payload:o}),updateEnemyPositions:l,updatePlayerPosition:r}),[l,r]),i=C.useMemo(()=>({state:t,actions:a,dispatch:n}),[t,a]);return s.jsx(Nd.Provider,{value:i,children:e})}function ct(){const e=C.useContext(Nd);if(!e)throw new Error("useGame must be used within a GameProvider");return e}function dh(){return s.jsxs("span",{className:`ml-2 inline-block bg-gradient-to-r from-purple-600 to-blue-500
                 text-xs text-white px-2 py-0.5 rounded-full shadow-md 
                 cursor-pointer hover:scale-105 transition-transform`,title:`Version: 0.2.0
Commit: 8e984fb
Built: 10/17/2025, 2:49:47 AM`,onClick:()=>navigator.clipboard.writeText("8e984fb"),children:["v","0.2.0","  ","8e984fb"]})}function fh({onOpenModal:e}){var o;const{state:t}=ct(),n=t.player,l=t.skills||{},r=Math.pow(1.05,l.power||0),a=(n.attackSpeed||1)*(1+(l.quick||0)*.05),i=(n.baseDps+(((o=n.equipped)==null?void 0:o.power)||0))*r+(n.dps-n.baseDps);return s.jsx("div",{className:"sticky-header w-full bg-gray-900/95 backdrop-blur-md border-b border-gray-700 shadow-lg",children:s.jsx("div",{className:"w-full px-4 py-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h1",{className:"header-title text-2xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:"Auto Battle Arena"}),s.jsx(dh,{})]}),s.jsxs("div",{className:"header-nav flex space-x-2",children:[s.jsx("button",{onClick:()=>e("skills"),className:"px-3 py-1.5 bg-blue-900/50 hover:bg-blue-800/60 border border-blue-600/50 text-blue-300 rounded-md transition-all duration-200 text-sm font-medium hover:shadow-lg hover:shadow-blue-500/20",children:" Skills"}),s.jsx("button",{onClick:()=>e("combinations"),className:"px-3 py-1.5 bg-pink-900/50 hover:bg-pink-800/60 border border-pink-600/50 text-pink-300 rounded-md transition-all duration-200 text-sm font-medium hover:shadow-lg hover:shadow-pink-500/20",children:" Combinations"}),s.jsx("button",{onClick:()=>e("maps"),className:"px-3 py-1.5 bg-indigo-900/50 hover:bg-indigo-800/60 border border-indigo-600/50 text-indigo-300 rounded-md transition-all duration-200 text-sm font-medium hover:shadow-lg hover:shadow-indigo-500/20",children:" Maps"})]}),s.jsxs("div",{className:"header-stats flex flex-wrap gap-2 mt-1",children:[s.jsxs("div",{className:"bg-yellow-900/30 border border-yellow-600/40 text-yellow-300 rounded-md px-3 py-1.5 flex items-center space-x-2 text-sm",children:[s.jsx("span",{children:""}),s.jsx("span",{children:n.gold.toFixed(2)})]}),s.jsxs("div",{className:"bg-red-900/30 border border-red-600/40 text-red-300 rounded-md px-3 py-1.5 flex items-center space-x-2 text-sm",children:[s.jsx("span",{children:""}),s.jsx("span",{children:t.enemies.length})]}),s.jsxs("div",{className:"bg-orange-900/30 border border-orange-600/40 text-orange-300 rounded-md px-3 py-1.5 flex items-center space-x-2 text-sm",children:[s.jsx("span",{children:""}),s.jsx("span",{children:i.toFixed(2)})]}),s.jsxs("div",{className:"bg-cyan-900/30 border border-cyan-600/40 text-cyan-300 rounded-md px-3 py-1.5 flex items-center space-x-2 text-sm",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[a.toFixed(2),"/s"]})]}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-600/40 text-purple-300 rounded-md px-3 py-1.5 flex items-center space-x-2 text-sm",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["Lv.",n.level]})]}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-600/40 text-blue-300 rounded-md px-3 py-1.5 flex items-center space-x-2 text-sm min-w-[120px]",children:[s.jsx("span",{children:""}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"bg-blue-800/50 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-blue-400 h-full transition-all duration-300",style:{width:`${n.xp/n.nextLevelXp*100}%`}})})})]})]})]})})})}const bn=1400,rn=700;function mh(e){return!e||e==="Common"?"#ffffff":e==="Magic"?"#06b6d4":e==="Rare"?"#8b5cf6":e==="Unique"?"#fbbf24":"#ffffff"}const ph=wn.memo(function(){const t=C.useRef(null),{state:n,actions:l}=ct(),[r,a]=C.useState({x:150,y:rn/2}),[i,o]=C.useState({}),[u,d]=C.useState([]),[f,g]=C.useState([]),[h,v]=C.useState({}),[p,k]=C.useState({x:0,y:0,zoom:1}),[R,y]=C.useState(0),[m,x]=C.useState({active:!1,startTime:0,rotation:0}),[S,N]=C.useState(!1),A=C.useRef(0),B=1e3/60,X=C.useMemo(()=>{const M=[];for(let I=0;I<1e3;I++)M.push({x:0,y:0});return M},[]);let H=0;const G=C.useCallback((M,I)=>{const c=X[H%X.length];return c.x=M,c.y=I,H++,c},[X]),ee=C.useCallback((M,I)=>{const c=(M-I)*.866,P=(M+I)*.5;return G(c,P)},[G]),$=C.useCallback(M=>G((M.x-p.x)*p.zoom+bn/2,(M.y-p.y)*p.zoom+rn/2),[p.x,p.y,p.zoom,G]),q=C.useCallback((M,I)=>{const c=ee(M,I);return $(c)},[ee,$]);C.useEffect(()=>{const M={};n.enemies.forEach((I,c)=>{M[I.id]={x:bn-120-c*28+(Math.random()-.5)*30,y:rn/2+(c%5-2)*36+(Math.random()-.5)*20}}),o(M),l.updateEnemyPositions(M),d(I=>I.slice(-120))},[n.enemies.length]),C.useEffect(()=>{const M=I=>{I.key.toLowerCase()==="d"&&N(c=>!c)};return window.addEventListener("keydown",M),()=>{window.removeEventListener("keydown",M)}},[]);const se=M=>({x:Math.max(30,Math.min(bn-30,M.x)),y:Math.max(30,Math.min(rn-30,M.y))}),re=(M,I)=>Math.hypot(M.x-I.x,M.y-I.y),fe=(M,I,c)=>{const P=I.x-M.x,ie=I.y-M.y,te=Math.hypot(P,ie)||1;return{x:M.x+P/te*c,y:M.y+ie/te*c}},D=C.useRef("");C.useEffect(()=>{if(!n.log||n.log.length===0)return;const M=n.log[0];if(M!==D.current){if(D.current=M,M.startsWith("ANIM_PLAYER|")){const I=M.split("|"),c=I[1],P=I[2],ie=I[3],te=I[4],j=Math.floor(Number(I[5]||0)),b=i[c],Z=mh(ie);if(P==="melee")g(Q=>[...Q,{kind:"slash",x:(b==null?void 0:b.x)||300,y:(b==null?void 0:b.y)||200,t:Date.now(),ttl:400,angle:Math.random()*Math.PI-Math.PI/2,color:Z}]);else if(P==="ranged"){if(b){const Q=b.x-r.x,T=b.y-r.y,E=Math.hypot(Q,T)||1,_=3*(n.player.projectileSpeed||1)*(1+(n.skills.arcane||0)*.1);d(V=>[...V,{x:r.x,y:r.y,vx:Q/E*_,vy:T/E*_,life:800,color:Z,radius:3,size:2}])}}else if(P==="magic"&&b){const Q=b.x-r.x,T=b.y-r.y,E=Math.hypot(Q,T)||1,_=2*(n.player.projectileSpeed||1)*(1+(n.skills.arcane||0)*.1);d(V=>[...V,{x:r.x,y:r.y,vx:Q/E*_,vy:T/E*_,life:1200,color:Z,radius:6,size:4,glow:!0}])}if(b){const Q=j.toFixed(2),T=te==="crit"?`-${Q} CRIT!`:`-${Q}`,E=te==="crit";g(_=>[..._,{kind:E?"critical_damage":"damage",x:b.x+(Math.random()-.5)*10,y:b.y-10+(Math.random()-.5)*6,t:Date.now(),ttl:E?2e3:1600,text:T,crit:E,size:Math.min(E?32:28,(E?14:10)+Math.floor(j/2)),color:E?"#ff0066":"#ff6b6b"}]),E&&g(_=>[..._,{kind:"critical_burst",x:b.x,y:b.y,t:Date.now(),ttl:1200,color:"#ff0066",size:30}])}}if(M.startsWith("Enemy defeated! Loot:")){const I=M.match(/Loot: (.+)$/);I&&g(c=>[...c,{kind:"pickup",x:220,y:60,t:Date.now(),ttl:1200,text:I[1],color:"#fff"}])}if(M.includes("dodged"))if(M.includes("Player dodged"))g(I=>[...I,{kind:"dodge",x:r.x+(Math.random()-.5)*20,y:r.y-20+(Math.random()-.5)*10,t:Date.now(),ttl:1500,text:"DODGE!",color:"#00ffff",size:18}]),g(I=>[...I,{kind:"dodge_burst",x:r.x,y:r.y,t:Date.now(),ttl:800,color:"#00ffff",size:20}]);else{const I=M.match(/(.+) dodged/);if(I){const c=I[1],P=n.enemies.find(ie=>ie.name===c);if(P){const ie=i[P.id];ie&&g(te=>[...te,{kind:"miss",x:ie.x+(Math.random()-.5)*20,y:ie.y-20+(Math.random()-.5)*10,t:Date.now(),ttl:1200,text:"MISS!",color:"#94a3b8",size:14}])}}}if(M.includes("hits back for")){const I=M.match(/hits back for (\d+)/);if(I){const c=parseInt(I[1]);g(P=>[...P,{kind:"player_damage",x:r.x+(Math.random()-.5)*15,y:r.y-15+(Math.random()-.5)*8,t:Date.now(),ttl:1400,text:`-${c}`,color:"#ef4444",size:Math.min(24,12+Math.floor(c/3))}])}}if(M.includes("blocked")&&M.includes("Player blocked")&&g(I=>[...I,{kind:"block",x:r.x+(Math.random()-.5)*20,y:r.y-20+(Math.random()-.5)*10,t:Date.now(),ttl:1200,text:"BLOCK!",color:"#fbbf24",size:16}]),M.startsWith(" Critical Hit!"),M.startsWith("ANIM_SKILL|")){const I=M.split("|"),c=I[1];if(c==="whirlwind"){const P=Number(I[2]),ie=Number(I[3]);x({active:!0,startTime:Date.now(),rotation:0}),setTimeout(()=>{x(te=>({...te,active:!1}))},ie),g(te=>[...te,{kind:"whirlwind",x:r.x,y:r.y,t:P,ttl:ie,color:"#fbbf24",duration:ie}])}else c==="heal"?g(P=>[...P,{kind:"heal",x:r.x,y:r.y,t:Date.now(),ttl:2e3,color:"#10b981"}]):c==="fireball"?g(P=>[...P,{kind:"explosion",x:r.x,y:r.y,t:Date.now(),ttl:800,color:"#ff4400",size:20}]):c==="lightning_bolt"?g(P=>[...P,{kind:"lightning",x:r.x,y:r.y,t:Date.now(),ttl:600,color:"#00aaff",size:15}]):c==="power_strike"?g(P=>[...P,{kind:"power_strike",x:r.x,y:r.y,t:Date.now(),ttl:700,color:"#ffaa00",size:18}]):c==="ice_shard"?g(P=>[...P,{kind:"ice_shard",x:r.x,y:r.y,t:Date.now(),ttl:1e3,color:"#74c0fc",size:12}]):c==="ground_slam"?g(P=>[...P,{kind:"ground_slam",x:r.x,y:r.y,t:Date.now(),ttl:800,color:"#8b5a2b",size:25}]):c==="poison_arrow"?g(P=>[...P,{kind:"poison_arrow",x:r.x,y:r.y,t:Date.now(),ttl:3e3,color:"#51cf66",size:20}]):c==="chain_lightning"?g(P=>[...P,{kind:"chain_lightning",x:r.x,y:r.y,t:Date.now(),ttl:800,color:"#ffd43b",size:16}]):c==="meteor"?g(P=>[...P,{kind:"meteor",x:r.x,y:r.y,t:Date.now(),ttl:1200,color:"#ff6b6b",size:35}]):c==="blade_vortex"?g(P=>[...P,{kind:"blade_vortex",x:r.x,y:r.y,t:Date.now(),ttl:5e3,color:"#c0c0c0",size:22}]):c==="frost_nova"?g(P=>[...P,{kind:"frost_nova",x:r.x,y:r.y,t:Date.now(),ttl:1e3,color:"#74c0fc",size:28}]):c==="cleave"?g(P=>[...P,{kind:"cleave",x:r.x,y:r.y,t:Date.now(),ttl:600,color:"#fbbf24",size:20}]):c==="summon_skeletons"&&g(P=>[...P,{kind:"summon_skeletons",x:r.x,y:r.y,t:Date.now(),ttl:2e3,color:"#9ca3af",size:15}])}}},[n.log,i,r]);const W=(M,I,c,P)=>re(M,I)<c+P,U=C.useRef({idleAnimation:0,whirlwindRotation:0,lastUpdate:performance.now(),calculatedPlayerPos:null,calculatedEnemyPositions:null,calculatedProjectiles:null,calculatedEffects:null,calculatedDying:null,calculatedCamera:null});C.useEffect(()=>{let M=0,I=performance.now();function c(P){var pe;const ie=Math.min(40,P-I);if(I=P,U.current.idleAnimation=P/1e3,m.active){const Y=P-m.startTime;U.current.whirlwindRotation=Y*.01}U.current.lastUpdate=P;let te=r,j=i,b=u,Z=f,Q=h,T=p;if(n.enemies.length>0){let Y=null,ne=null,ue=9999;if(n.enemies.forEach(ke=>{const je=i[ke.id];if(!je)return;const Ke=re(r,je);Ke<ue&&(ue=Ke,Y=ke,ne=je)}),Y&&ne){const ke=((pe=n.player.equipped)==null?void 0:pe.type)==="ranged"?180:48;if(m.active){const Te={x:Math.cos(U.current.whirlwindRotation*3)*15,y:Math.sin(U.current.whirlwindRotation*3)*15},nt={x:ne.x+Te.x,y:ne.y+Te.y},yt=se(fe(r,nt,2.5));let xt=!0;n.enemies.forEach(bt=>{const ln=i[bt.id];if(ln){let Ql=12;bt.type==="melee"?Ql=12+bt.level*.8:bt.type==="ranged"?Ql=10+bt.level*.6:Ql=14+bt.level*1,W(yt,ln,18,Ql+2)&&(xt=!1)}}),xt&&(te=yt)}else if(ue>ke){const je=se(fe(r,ne,1.1));let Ke=!0;n.enemies.forEach(Te=>{const nt=i[Te.id];if(nt){let yt=12;Te.type==="melee"?yt=12+Te.level*.8:Te.type==="ranged"?yt=10+Te.level*.6:yt=14+Te.level*1,W(je,nt,18,yt+2)&&(Ke=!1)}}),Ke&&(te=je)}else te={x:r.x+Math.sin(P/300)*.2,y:r.y+Math.cos(P/300)*.2}}}else te={x:r.x+Math.sin(P/2e3)*.5,y:r.y+Math.cos(P/3e3)*.3};const E=ee(te.x,te.y);T={x:p.x+(E.x-p.x)*.1,y:p.y+(E.y-p.y)*.1,zoom:p.zoom};const _={...i},V={...h};n.enemies.forEach((Y,ne)=>{const ue=_[Y.id]||{x:bn-120,y:rn/2};if(Y.hp<=0){V[Y.id]||(V[Y.id]=Date.now());return}const ke=te.x-ue.x,je=te.y-ue.y,Ke=Math.hypot(ke,je)||1,Te={x:ue.x+ke/Ke*.3,y:ue.y+je/Ke*.3};let nt=12;if(Y.type==="melee"?nt=12+Y.level*.8:Y.type==="ranged"?nt=10+Y.level*.6:nt=14+Y.level*1,!W(Te,te,nt+2,18)){let yt=!0;n.enemies.forEach(xt=>{if(xt.id!==Y.id){const bt=_[xt.id];if(bt){let ln=12;xt.type==="melee"?ln=12+xt.level*.8:xt.type==="ranged"?ln=10+xt.level*.6:ln=14+xt.level*1,W(Te,bt,nt+1,ln+1)&&(yt=!1)}}}),yt&&(_[Y.id]=Te)}}),j=_,Q=V;const K=u.map(Y=>({...Y,x:Y.x+Y.vx,y:Y.y+Y.vy,life:Y.life-ie})),J=[...f];b=K.filter(Y=>{if(Y.life<=0)return!1;let ne=!1;return n.enemies.forEach(ue=>{const ke=j[ue.id];if(ke&&!ne){let je=12;ue.type==="melee"?je=12+ue.level*.8:ue.type==="ranged"?je=10+ue.level*.6:je=14+ue.level*1,W({x:Y.x,y:Y.y},ke,Y.radius,je)&&(J.push({kind:"impact",x:Y.x,y:Y.y,t:Date.now(),ttl:300,color:Y.color,size:Y.size*2}),ne=!0)}}),!ne}),Z=J.filter(Y=>Date.now()-Y.t<Y.ttl),U.current.calculatedPlayerPos=te,U.current.calculatedEnemyPositions=j,U.current.calculatedProjectiles=b,U.current.calculatedEffects=Z,U.current.calculatedDying=Q,U.current.calculatedCamera=T,M=requestAnimationFrame(c)}return M=requestAnimationFrame(c),()=>cancelAnimationFrame(M)},[n.enemies,n.player,n.log,m,r,i,p,u,f,h]),C.useEffect(()=>{const I=setInterval(()=>{const c=U.current;c.calculatedPlayerPos&&(a(c.calculatedPlayerPos),l.updatePlayerPosition(c.calculatedPlayerPos)),c.calculatedEnemyPositions&&o(c.calculatedEnemyPositions),c.calculatedProjectiles&&d(c.calculatedProjectiles),c.calculatedEffects&&g(c.calculatedEffects),c.calculatedDying&&v(c.calculatedDying),c.calculatedCamera&&k(c.calculatedCamera)},16);return()=>clearInterval(I)},[]);const le=C.useCallback(()=>{const M=performance.now();if(M-A.current<B)return;A.current=M,H=0;const I=t.current;if(!I)return;const c=I.getContext("2d");if(!c)return;c.clearRect(0,0,I.width,I.height),c.fillStyle="#071024",c.fillRect(0,0,I.width,I.height),c.strokeStyle="#334155",c.lineWidth=2,c.strokeRect(10,10,I.width-20,I.height-20),n.enemies.forEach((j,b)=>{const Z=i[j.id]||{x:bn-120-b*28,y:rn/2+b*36},Q=q(Z.x,Z.y),T=h[j.id],E=j.hp<=0&&T?Math.max(0,1-(Date.now()-T)/1500):1;c.save(),c.globalAlpha=E;let _=12;j.type==="melee"?(c.fillStyle="#dc2626",_=12+j.level*.8):j.type==="ranged"?(c.fillStyle="#f97316",_=10+j.level*.6):(c.fillStyle="#a78bfa",_=14+j.level*1),c.beginPath(),c.arc(Q.x,Q.y,_*p.zoom,0,Math.PI*2),c.fill(),c.fillStyle="#ffffff",j.type==="melee"?(c.beginPath(),c.moveTo(Q.x-8*p.zoom,Q.y-18*p.zoom),c.lineTo(Q.x-2*p.zoom,Q.y-26*p.zoom),c.lineTo(Q.x+4*p.zoom,Q.y-18*p.zoom),c.fill()):j.type==="ranged"?(c.beginPath(),c.arc(Q.x,Q.y-6*p.zoom,6*p.zoom,Math.PI*.2,Math.PI*.8),c.lineWidth=2,c.strokeStyle="#ffffff",c.stroke()):(c.beginPath(),c.arc(Q.x,Q.y,(_+6)*p.zoom,0,Math.PI*2),c.strokeStyle="rgba(255,255,255,0.06)",c.lineWidth=2,c.stroke()),w(c,Q.x,Q.y-(_+15)*p.zoom,40*p.zoom,6*p.zoom,j.hp,j.maxHp,E),z(c,`Lv.${j.level}`,Q.x,Q.y-(_+25)*p.zoom,E),c.restore()});const P=q(r.x,r.y),ie=32*p.zoom;let te=0;if(n.enemies.length===0&&(te=Math.sin(R*2)*2*p.zoom),c.save(),m.active&&(c.translate(P.x,P.y+te),c.rotate(m.rotation),c.translate(-P.x,-P.y-te),c.shadowColor="#ffffff",c.shadowBlur=8*p.zoom),c.fillStyle=m.active?"#ffffff":"#000000",c.fillRect(P.x-ie/2,P.y-ie/2+te,ie,ie),c.restore(),w(c,P.x,P.y-35*p.zoom+te,50*p.zoom,8*p.zoom,n.player.hp,n.player.maxHp,1),z(c,`Lv.${n.player.level}`,P.x,P.y-50*p.zoom+te,1),S){const j=n.player.skillBar.slots.find(b=>(b==null?void 0:b.id)==="whirlwind");if(j){c.save();const b=j.scaling.baseArea+(j.level-1)*j.scaling.areaPerLevel,Z=b*30,Q=Z*p.zoom;c.globalAlpha=.3,c.strokeStyle="#00ff00",c.lineWidth=3*p.zoom,c.setLineDash([8*p.zoom,4*p.zoom]),c.beginPath(),c.arc(P.x,P.y+te,Q,0,Math.PI*2),c.stroke(),c.globalAlpha=.8,c.fillStyle="#00ff00",c.font=`${12*p.zoom}px Arial`,c.textAlign="center",c.fillText(`AOE: ${Math.round(Z)}px`,P.x,P.y+te+Q+15*p.zoom),c.fillText(`Area: ${b.toFixed(1)}x | Level: ${j.level}`,P.x,P.y+te+Q+30*p.zoom),c.setLineDash([]),c.restore()}}u.forEach(j=>{const b=q(j.x,j.y);c.save(),j.glow&&(c.shadowColor=j.color,c.shadowBlur=10*p.zoom),c.fillStyle=j.color,c.beginPath(),c.arc(b.x,b.y,j.radius*p.zoom,0,Math.PI*2),c.fill(),c.restore()}),f.forEach(j=>{const b=q(j.x,j.y),Z=Date.now()-j.t,Q=Math.min(1,Z/j.ttl);if(j.kind==="damage"||j.kind==="critical_damage"||j.kind==="player_damage"||j.kind==="dodge"||j.kind==="miss"||j.kind==="block"){if(c.save(),c.globalAlpha=1-Q,c.fillStyle=j.color,j.kind==="dodge"||j.kind==="miss"||j.kind==="block")c.font=`bold ${(j.size||16)*p.zoom}px Arial`,c.strokeStyle="#000",c.lineWidth=2*p.zoom;else if(j.kind==="critical_damage"){c.font=`bold ${(j.size||20)*p.zoom}px Arial`,c.strokeStyle="#000",c.lineWidth=3*p.zoom;const E=1+Math.sin(Z*.01)*.2;c.globalAlpha=(1-Q)*E}else c.font=`${(j.size||16)*p.zoom}px bold sans-serif`;c.textAlign="center";const T=b.y-Q*20*p.zoom;(j.kind==="dodge"||j.kind==="miss"||j.kind==="block"||j.kind==="critical_damage")&&c.strokeText(j.text||"",b.x,T),c.fillText(j.text||"",b.x,T),c.restore()}else if(j.kind==="impact"){c.save(),c.globalAlpha=(1-Q)*.8,c.fillStyle=j.color;const T=(j.size||8)*Q*2;c.beginPath(),c.arc(b.x,b.y,T,0,Math.PI*2),c.fill(),c.globalAlpha=(1-Q)*.4,c.fillStyle="#ffffff",c.beginPath(),c.arc(b.x,b.y,T*.5,0,Math.PI*2),c.fill(),c.restore()}else if(j.kind==="slash"){c.save(),c.globalAlpha=(1-Q)*.9;const T=j.angle||0,E=(j.size||30)*p.zoom,_=4*p.zoom*(1-Q*.5),V=Math.sin(Q*Math.PI),K=E*V,J=b.x-Math.cos(T)*K/2,oe=b.y-Math.sin(T)*K/2,pe=b.x+Math.cos(T)*K/2,Y=b.y+Math.sin(T)*K/2;c.strokeStyle=j.color,c.lineWidth=_,c.lineCap="round",c.beginPath(),c.moveTo(J,oe),c.lineTo(pe,Y),c.stroke(),c.globalAlpha=(1-Q)*.6,c.strokeStyle="#ffffff",c.lineWidth=_*.4,c.beginPath(),c.moveTo(J,oe),c.lineTo(pe,Y),c.stroke(),Q<.7&&(c.globalAlpha=(1-Q)*.8,c.fillStyle=j.color,c.beginPath(),c.arc(J,oe,2*p.zoom,0,Math.PI*2),c.fill(),c.beginPath(),c.arc(pe,Y,2*p.zoom,0,Math.PI*2),c.fill()),c.restore()}else if(j.kind==="explosion"){c.save();const T=Math.min(1,Z/j.ttl);c.globalAlpha=(1-T)*.8;const E=(j.size||15)*T*1.5;c.fillStyle=j.color,c.beginPath(),c.arc(b.x,b.y,E,0,Math.PI*2),c.fill(),c.globalAlpha=(1-T)*.6,c.fillStyle="#ffff88",c.beginPath(),c.arc(b.x,b.y,E*.6,0,Math.PI*2),c.fill(),c.restore()}else if(j.kind==="lightning"){c.save();const T=Math.min(1,Z/j.ttl);c.globalAlpha=(1-T)*.9,c.strokeStyle=j.color,c.lineWidth=3*p.zoom,c.lineCap="round";const E=6,_=(j.size||12)*p.zoom;c.beginPath(),c.moveTo(b.x,b.y-_);for(let V=1;V<=E;V++){const K=b.y-_+V/E*_*2,J=b.x+(Math.random()-.5)*20*p.zoom;c.lineTo(J,K)}c.stroke(),c.globalAlpha=(1-T)*.7,c.strokeStyle="#ffffff",c.lineWidth=1*p.zoom,c.stroke(),c.restore()}else if(j.kind==="power_strike"){c.save();const T=Math.min(1,Z/j.ttl);c.globalAlpha=(1-T)*.8;const E=(j.size||16)*T*2;c.strokeStyle=j.color,c.lineWidth=4*p.zoom,c.beginPath(),c.arc(b.x,b.y,E,0,Math.PI*2),c.stroke(),c.globalAlpha=(1-T)*.5,c.fillStyle="#ffff00",c.beginPath(),c.arc(b.x,b.y,E*.3,0,Math.PI*2),c.fill(),c.restore()}else if(j.kind==="critical_burst"){c.save();const T=Math.min(1,Z/j.ttl),_=(j.size||25)*p.zoom*T,V=1+Math.sin(Z*.02)*.3;c.globalAlpha=(1-T)*.8*V,c.strokeStyle=j.color,c.lineWidth=6*p.zoom,c.beginPath(),c.arc(b.x,b.y,_,0,Math.PI*2),c.stroke(),c.globalAlpha=(1-T)*.6,c.fillStyle="#ffffff",c.beginPath(),c.arc(b.x,b.y,_*.4,0,Math.PI*2),c.fill(),c.globalAlpha=(1-T)*.7,c.strokeStyle=j.color,c.lineWidth=3*p.zoom;for(let K=0;K<8;K++){const J=K*Math.PI/4+Z*.005,oe=_*1.5,pe=b.x+Math.cos(J)*_*.3,Y=b.y+Math.sin(J)*_*.3,ne=b.x+Math.cos(J)*oe,ue=b.y+Math.sin(J)*oe;c.beginPath(),c.moveTo(pe,Y),c.lineTo(ne,ue),c.stroke()}c.restore()}else if(j.kind==="dodge_burst"){c.save();const T=Math.min(1,Z/j.ttl),_=(j.size||20)*p.zoom*T;c.globalAlpha=(1-T)*.7,c.strokeStyle=j.color,c.lineWidth=3*p.zoom,c.setLineDash([8*p.zoom,4*p.zoom]),c.lineDashOffset=T*20,c.beginPath(),c.arc(b.x,b.y,_,0,Math.PI*2),c.stroke(),c.globalAlpha=(1-T)*.5,c.fillStyle="#ffffff",c.beginPath(),c.arc(b.x,b.y,_*.3,0,Math.PI*2),c.fill(),c.globalAlpha=(1-T)*.6,c.strokeStyle=j.color,c.lineWidth=2*p.zoom,c.setLineDash([]);for(let V=0;V<6;V++){const K=V*Math.PI/3+Z*.01,J=_*.5,oe=_*1.2,pe=b.x+Math.cos(K)*J,Y=b.y+Math.sin(K)*J,ne=b.x+Math.cos(K)*oe,ue=b.y+Math.sin(K)*oe;c.beginPath(),c.moveTo(pe,Y),c.lineTo(ne,ue),c.stroke()}c.restore()}else if(j.kind==="pickup")c.save(),c.globalAlpha=1-Q,c.fillStyle=j.color,c.font=`${14*p.zoom}px sans-serif`,c.textAlign="center",c.fillText(j.text||"",b.x,b.y),c.restore();else if(j.kind==="impact")c.save(),c.globalAlpha=1-Q,c.strokeStyle=j.color,c.lineWidth=2,c.beginPath(),c.arc(j.x,j.y,Q*20,0,Math.PI*2),c.stroke(),c.restore();else if(j.kind==="whirlwind"){const E=q(r.x,r.y),V=Date.now()-j.t,J=V*.008;c.save();const pe=Math.max(.7,1-Q)+Math.sin(V*.01)*.2;for(let ne=0;ne<4;ne++){const ue=(ne+1)/4,ke=(30+ne*12)*p.zoom,je=J*(1+ne*.3);c.globalAlpha=pe*(1-ue*.2),c.strokeStyle=ne===0?"#FFFFFF":"#F0F0F0",c.lineWidth=(4-ne)*p.zoom,c.beginPath(),c.setLineDash([15*p.zoom,8*p.zoom]),c.lineDashOffset=je*30,c.arc(E.x,E.y,ke,0,Math.PI*2),c.stroke()}c.globalAlpha=pe*.9,c.fillStyle="#FFFFFF",c.beginPath(),c.arc(E.x,E.y,8*p.zoom,0,Math.PI*2),c.fill(),c.globalAlpha=pe*.8,c.strokeStyle="#FFFFFF",c.lineWidth=2*p.zoom;for(let ne=0;ne<6;ne++){const ue=J*2+ne*Math.PI/3,ke=25*p.zoom,je=E.x+Math.cos(ue)*ke,Ke=E.y+Math.sin(ue)*ke,Te=E.x+Math.cos(ue+.5)*(ke+15*p.zoom),nt=E.y+Math.sin(ue+.5)*(ke+15*p.zoom);c.beginPath(),c.moveTo(je,Ke),c.lineTo(Te,nt),c.stroke()}c.globalAlpha=pe*.7,c.fillStyle="#FFD54F";for(let ne=0;ne<8;ne++){const ue=J*3+ne*Math.PI/4,ke=(35+Math.sin(V*.005+ne)*10)*p.zoom,je=E.x+Math.cos(ue)*ke,Ke=E.y+Math.sin(ue)*ke,Te=(2+Math.sin(V*.01+ne)*1)*p.zoom;c.beginPath(),c.arc(je,Ke,Te,0,Math.PI*2),c.fill()}c.globalAlpha=.3+Math.sin(V*.008)*.1,c.strokeStyle="#ff6b6b",c.lineWidth=3*p.zoom,c.setLineDash([10*p.zoom,5*p.zoom]),c.lineDashOffset=V*.01;const Y=n.player.skillBar.slots.find(ne=>(ne==null?void 0:ne.name)==="Whirlwind");if(Y){const ke=(Y.scaling.baseArea+(Y.level-1)*Y.scaling.areaPerLevel)*30*p.zoom;c.beginPath(),c.arc(E.x,E.y,ke,0,Math.PI*2),c.stroke()}c.setLineDash([]),c.restore()}else if(j.kind==="heal"){const T=q(r.x,r.y);c.save(),c.globalAlpha=1-Q,c.fillStyle=j.color;for(let E=0;E<8;E++){const _=E/8*Math.PI*2+Q*Math.PI*2,V=30*p.zoom*(1-Q*.5),K=T.x+Math.cos(_)*V,J=T.y+Math.sin(_)*V;c.beginPath(),c.arc(K,J,3*p.zoom,0,Math.PI*2),c.fill()}c.restore()}else if(j.kind==="ice_shard"){c.save();const T=Math.min(1,Z/j.ttl);c.globalAlpha=(1-T)*.8;const E=(j.size||12)*p.zoom;c.fillStyle=j.color,c.beginPath();for(let _=0;_<6;_++){const V=_*Math.PI/3+Z*.002,K=b.x+Math.cos(V)*E,J=b.y+Math.sin(V)*E;_===0?c.moveTo(K,J):c.lineTo(K,J)}c.closePath(),c.fill(),c.globalAlpha=(1-T)*.6,c.fillStyle="#ffffff";for(let _=0;_<8;_++){const V=_*Math.PI/4+Z*.005,K=E*1.5,J=b.x+Math.cos(V)*K,oe=b.y+Math.sin(V)*K;c.beginPath(),c.arc(J,oe,2*p.zoom,0,Math.PI*2),c.fill()}c.restore()}else if(j.kind==="ground_slam"){c.save();const T=Math.min(1,Z/j.ttl);c.globalAlpha=(1-T)*.8;const E=(j.size||25)*T*2;c.strokeStyle=j.color,c.lineWidth=6*p.zoom,c.beginPath(),c.arc(b.x,b.y,E,0,Math.PI*2),c.stroke(),c.globalAlpha=(1-T)*.5,c.fillStyle="#8b7355",c.beginPath(),c.arc(b.x,b.y,E*.6,0,Math.PI*2),c.fill(),c.globalAlpha=(1-T)*.7,c.fillStyle=j.color;for(let _=0;_<6;_++){const V=_*Math.PI/3+Z*.003,K=E*.8,J=b.x+Math.cos(V)*K,oe=b.y+Math.sin(V)*K;c.fillRect(J-2,oe-2,4*p.zoom,4*p.zoom)}c.restore()}else if(j.kind==="poison_arrow"){c.save();const T=Math.min(1,Z/j.ttl);c.globalAlpha=(1-T)*.7;const E=(j.size||20)*p.zoom;c.fillStyle=j.color,c.beginPath(),c.arc(b.x,b.y,E,0,Math.PI*2),c.fill(),c.globalAlpha=(1-T)*.5,c.fillStyle="#40c057";for(let _=0;_<12;_++){const V=_*Math.PI/6+Z*.004,K=E*(.5+Math.sin(Z*.01+_)*.3),J=b.x+Math.cos(V)*K,oe=b.y+Math.sin(V)*K,pe=(2+Math.sin(Z*.008+_)*1)*p.zoom;c.beginPath(),c.arc(J,oe,pe,0,Math.PI*2),c.fill()}c.restore()}else if(j.kind==="chain_lightning"){c.save();const T=Math.min(1,Z/j.ttl);c.globalAlpha=(1-T)*.9,c.strokeStyle=j.color,c.lineWidth=4*p.zoom,c.lineCap="round";for(let E=0;E<3;E++){const _=E*Math.PI*2/3+Z*.01,V=(j.size||16)*p.zoom;c.beginPath(),c.moveTo(b.x,b.y);for(let K=1;K<=5;K++){const J=K/5,oe=b.x+Math.cos(_)*V*J+(Math.random()-.5)*15*p.zoom,pe=b.y+Math.sin(_)*V*J+(Math.random()-.5)*15*p.zoom;c.lineTo(oe,pe)}c.stroke()}c.globalAlpha=(1-T)*.8,c.fillStyle="#ffffff",c.beginPath(),c.arc(b.x,b.y,4*p.zoom,0,Math.PI*2),c.fill(),c.restore()}else if(j.kind==="meteor"){c.save();const T=Math.min(1,Z/j.ttl);c.globalAlpha=(1-T)*.8;const E=(j.size||35)*T*1.5;c.fillStyle=j.color,c.beginPath(),c.arc(b.x,b.y,E,0,Math.PI*2),c.fill(),c.globalAlpha=(1-T)*.6,c.fillStyle="#ff8800",c.beginPath(),c.arc(b.x,b.y,E*.7,0,Math.PI*2),c.fill(),c.globalAlpha=(1-T)*.4,c.fillStyle="#ffffff",c.beginPath(),c.arc(b.x,b.y,E*.3,0,Math.PI*2),c.fill(),c.globalAlpha=(1-T)*.7,c.fillStyle="#ff4400";for(let _=0;_<10;_++){const V=_*Math.PI/5+Z*.005,K=E*(1.2+Math.sin(Z*.01+_)*.3),J=b.x+Math.cos(V)*K,oe=b.y+Math.sin(V)*K,pe=(3+Math.sin(Z*.008+_)*2)*p.zoom;c.beginPath(),c.arc(J,oe,pe,0,Math.PI*2),c.fill()}c.restore()}else if(j.kind==="blade_vortex"){c.save();const T=Math.min(1,Z/j.ttl);c.globalAlpha=(1-T)*.8;const E=(j.size||22)*p.zoom,_=Z*.02;c.strokeStyle=j.color,c.lineWidth=3*p.zoom,c.lineCap="round";for(let V=0;V<4;V++){const K=_+V*Math.PI/2,J=E,oe=b.x+Math.cos(K)*(E*.3),pe=b.y+Math.sin(K)*(E*.3),Y=b.x+Math.cos(K)*J,ne=b.y+Math.sin(K)*J;c.beginPath(),c.moveTo(oe,pe),c.lineTo(Y,ne),c.stroke()}c.globalAlpha=(1-T)*.6,c.fillStyle="#ffffff",c.beginPath(),c.arc(b.x,b.y,4*p.zoom,0,Math.PI*2),c.fill(),c.restore()}else if(j.kind==="frost_nova"){c.save();const T=Math.min(1,Z/j.ttl);c.globalAlpha=(1-T)*.8;const E=(j.size||28)*T*2;c.strokeStyle=j.color,c.lineWidth=5*p.zoom,c.setLineDash([8*p.zoom,4*p.zoom]),c.lineDashOffset=Z*.01,c.beginPath(),c.arc(b.x,b.y,E,0,Math.PI*2),c.stroke(),c.globalAlpha=(1-T)*.6,c.fillStyle="#a5f3fc",c.beginPath(),c.arc(b.x,b.y,E*.6,0,Math.PI*2),c.fill(),c.globalAlpha=(1-T)*.7,c.fillStyle=j.color;for(let _=0;_<8;_++){const V=_*Math.PI/4+Z*.003,K=E*.8,J=b.x+Math.cos(V)*K,oe=b.y+Math.sin(V)*K;c.beginPath(),c.moveTo(J,oe-4*p.zoom),c.lineTo(J+3*p.zoom,oe),c.lineTo(J,oe+4*p.zoom),c.lineTo(J-3*p.zoom,oe),c.closePath(),c.fill()}c.setLineDash([]),c.restore()}else if(j.kind==="cleave"){c.save();const T=Math.min(1,Z/j.ttl);c.globalAlpha=(1-T)*.9;const E=(j.size||20)*p.zoom,_=Math.PI;c.strokeStyle=j.color,c.lineWidth=6*p.zoom,c.lineCap="round",c.beginPath(),c.arc(b.x,b.y,E,-_/2,_/2),c.stroke(),c.globalAlpha=(1-T)*.7,c.lineWidth=3*p.zoom;for(let V=0;V<3;V++){const K=-_/2+V*_/2,J=b.x+Math.cos(K)*(E*.5),oe=b.y+Math.sin(K)*(E*.5),pe=b.x+Math.cos(K)*E,Y=b.y+Math.sin(K)*E;c.beginPath(),c.moveTo(J,oe),c.lineTo(pe,Y),c.stroke()}c.restore()}else if(j.kind==="summon_skeletons"){c.save();const T=Math.min(1,Z/j.ttl);c.globalAlpha=(1-T)*.8;const E=(j.size||15)*p.zoom;c.strokeStyle=j.color,c.lineWidth=3*p.zoom,c.setLineDash([6*p.zoom,3*p.zoom]),c.lineDashOffset=Z*.01,c.beginPath(),c.arc(b.x,b.y,E,0,Math.PI*2),c.stroke(),c.globalAlpha=(1-T)*.6,c.fillStyle="#6b7280",c.beginPath(),c.arc(b.x,b.y,E*.5,0,Math.PI*2),c.fill(),c.globalAlpha=(1-T)*.7,c.fillStyle="#f3f4f6";for(let _=0;_<6;_++){const V=_*Math.PI/3+Z*.004,K=E*.7,J=b.x+Math.cos(V)*K,oe=b.y+Math.sin(V)*K;c.fillRect(J-1,oe-3,2*p.zoom,6*p.zoom),c.fillRect(J-3,oe-1,6*p.zoom,2*p.zoom)}c.setLineDash([]),c.restore()}})},[n.enemies,i,r,u,f,h,p,R,m,q]);function w(M,I,c,P,ie,te,j,b){const Z=Math.max(0,Math.min(1,te/j));M.fillStyle=`rgba(31,41,55,${b})`,M.fillRect(I-P/2,c-ie/2,P,ie);const Q=M.createLinearGradient(I-P/2,c,I+P/2,c);Q.addColorStop(0,"#16a34a"),Q.addColorStop(1,"#dc2626"),M.fillStyle=Q,M.globalAlpha=b,M.fillRect(I-P/2,c-ie/2,P*Z,ie),M.globalAlpha=1,M.strokeStyle=`rgba(0,0,0,${.6*b})`,M.lineWidth=1,M.strokeRect(I-P/2,c-ie/2,P,ie)}function z(M,I,c,P,ie){M.fillStyle=`rgba(255,255,255,${ie})`,M.font="12px sans-serif",M.textAlign="center",M.fillText(I,c,P)}return C.useEffect(()=>{let M;const I=()=>{le(),M=requestAnimationFrame(I)};return M=requestAnimationFrame(I),()=>cancelAnimationFrame(M)},[le]),s.jsx("div",{className:"game-canvas-container",children:s.jsx("canvas",{ref:t,width:bn,height:rn,className:"game-canvas"})})}),hh={health:"Maximum health points. Increased by Vitality (+3 per point) and Strength (+2 per point).",mana:"Maximum mana points. Increased by Intelligence (+1 per point).",damage:"Base damage per second. Increased by Strength (+1 per point) and equipment.",armor:"Reduces incoming damage. Increased by equipment and Resilience skill.",critChance:"Chance to deal critical damage. Increased by Dexterity (+0.5% per point), Luck (+0.5% per point), and Precision skill.",dodgeChance:"Chance to avoid incoming damage. Increased by Dexterity (+0.3% per point) and Agility skill.",blockChance:"Chance to block incoming damage. Increased by equipment.",lifeSteal:"Percentage of damage dealt returned as health. Increased by equipment.",attackSpeed:"Multiplier for attack frequency. Increased by equipment.",healthRegen:"Health points regenerated per second. Increased by Vitality (+0.1 per point) and equipment.",manaRegen:"Mana points regenerated per second. Increased by Intelligence (+0.2 per point) and equipment.",strength:"Increases damage (+1) and health (+2). Base 10, increased by equipment.",dexterity:"Increases critical chance (+0.5%) and dodge (+0.3%). Base 10, increased by equipment.",intelligence:"Increases mana (+1) and mana regeneration (+0.2). Base 10, increased by equipment.",vitality:"Increases health (+3) and health regeneration (+0.1). Base 10, increased by equipment.",luck:"Increases critical chance (+0.5%). Base 5, increased by equipment."};function gh(e,t){const n=e.skills||{},l=e.attributes||{},r=e.calculatedStats||{};let a=0,i=0,o=0,u=0;switch(t){case"health":a=120;const f=Math.max(0,(l.strength||10)-10)*2,g=Math.max(0,(l.vitality||10)-10)*3;i=f+g,o=(r.health||0)+(r.strength||0)*2+(r.vitality||0)*3,u=(n.endurance||0)*10;break;case"mana":a=50,i=Math.max(0,(l.intelligence||10)-10),o=(r.mana||0)+(r.intelligence||0),u=0;break;case"damage":a=2,i=Math.max(0,(l.strength||10)-10),o=(r.damage||0)+(r.strength||0),u=n.strength||0;break;case"armor":a=0,i=0,o=r.armor||0,u=n.resilience||0;break;case"critChance":a=0;const h=Math.max(0,(l.dexterity||10)-10)*.5,v=Math.max(0,(l.luck||5)-5)*.5;i=h+v,o=(r.critChance||0)*100+(r.dexterity||0)*.5+(r.luck||0)*.5,u=(n.precision||0)*1;break;case"dodgeChance":a=0,i=Math.max(0,(l.dexterity||10)-10)*.3,o=(r.dodgeChance||0)*100+(r.dexterity||0)*.3,u=(n.agility||0)*1;break;case"blockChance":a=0,i=0,o=(r.blockChance||0)*100,u=0;break;case"lifeSteal":a=0,i=0,o=(r.lifeSteal||0)*100,u=0;break;case"attackSpeed":a=1,i=0,o=r.attackSpeed||0,u=0;break;case"healthRegen":a=0,i=Math.max(0,(l.vitality||10)-10)*.1,o=(r.healthRegen||0)+(r.vitality||0)*.1,u=0;break;case"manaRegen":a=0,i=Math.max(0,(l.intelligence||10)-10)*.2,o=(r.manaRegen||0)+(r.intelligence||0)*.2,u=0;break;case"strength":a=10,i=Math.max(0,(l.strength||10)-10),o=r.strength||0,u=0;break;case"dexterity":a=10,i=Math.max(0,(l.dexterity||10)-10),o=r.dexterity||0,u=0;break;case"intelligence":a=10,i=Math.max(0,(l.intelligence||10)-10),o=r.intelligence||0,u=0;break;case"vitality":a=10,i=Math.max(0,(l.vitality||10)-10),o=r.vitality||0,u=0;break;case"luck":a=5,i=Math.max(0,(l.luck||5)-5),o=r.luck||0,u=0;break;default:a=0,i=0,o=0,u=0}const d=a+i+o+u;return{base:a,attributeBonus:i,equipmentBonus:o,skillTreeBonus:u,total:d}}function ol(e,t=""){return`${e.toFixed(2)}${t}`}function Wa(e){return e>0?"text-green-400":e<0?"text-red-400":"text-gray-300"}const yh=({statName:e,breakdown:t,description:n,position:l,visible:r})=>{if(!r)return null;const a={position:"fixed",left:Math.min(l.x-150,window.innerWidth-320),top:Math.max(l.y-10,10),zIndex:1e3,pointerEvents:"none"};return s.jsxs("div",{style:a,className:"bg-gray-900 border border-gray-600 rounded-lg p-3 shadow-xl text-xs max-w-xs",children:[s.jsxs("div",{className:"border-b border-gray-700 pb-2 mb-2",children:[s.jsx("h4",{className:"font-semibold text-white",children:e}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:n})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Base:"}),s.jsx("span",{className:"text-white",children:ol(t.base)})]}),t.attributeBonus!==0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-purple-300",children:"Attributes:"}),s.jsxs("span",{className:Wa(t.attributeBonus),children:["+",ol(t.attributeBonus)]})]}),t.equipmentBonus!==0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-blue-300",children:"Equipment:"}),s.jsxs("span",{className:Wa(t.equipmentBonus),children:["+",ol(t.equipmentBonus)]})]}),t.skillTreeBonus!==0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-yellow-300",children:"Skill Tree:"}),s.jsxs("span",{className:Wa(t.skillTreeBonus),children:["+",ol(t.skillTreeBonus)]})]}),s.jsx("div",{className:"border-t border-gray-700 pt-1 mt-2",children:s.jsxs("div",{className:"flex justify-between font-semibold",children:[s.jsx("span",{className:"text-white",children:"Total:"}),s.jsx("span",{className:"text-green-400",children:ol(t.total)})]})})]})]})};function xh(e){return{Common:"text-gray-400",Uncommon:"text-green-400",Rare:"text-blue-400",Epic:"text-purple-400",Legendary:"text-yellow-400"}[e||"Common"]||"text-gray-400"}function vh(e){return{fire:"text-red-400",ice:"text-blue-300",lightning:"text-yellow-300",poison:"text-green-300",physical:"text-gray-300"}[e||"physical"]||"text-gray-300"}function wh(e){return{fire:"",ice:"",lightning:"",poison:"",physical:""}[e||"physical"]||""}function kh(e){return{Common:.05,Uncommon:.08,Rare:.12,Epic:.18,Legendary:.25}[e||"Common"]||.05}const Jo=wn.memo(function(){var p,k,R,y,m,x,S,N,A,F,B,X,H;const{state:t,actions:n}=ct(),l=t.player,r=t.skills||{},[a,i]=C.useState({visible:!1,statName:"",statType:"",position:{x:0,y:0}}),o=C.useCallback((G,ee,$)=>{const q=G.currentTarget.getBoundingClientRect();i({visible:!0,statName:ee,statType:$,position:{x:q.left+q.width/2,y:q.top}})},[]),u=C.useCallback(()=>{i(G=>({...G,visible:!1}))},[]),d=C.useCallback(({label:G,value:ee,color:$,statType:q,suffix:se=""})=>s.jsxs("div",{className:"flex justify-between cursor-help hover:bg-gray-700/30 px-1 py-0.5 rounded transition-colors",onMouseEnter:re=>o(re,G,q),onMouseLeave:u,children:[s.jsxs("span",{children:[G,":"]}),s.jsxs("span",{className:$,children:[typeof ee=="number"?ee.toFixed(2):ee,se]})]}),[o,u]),f=C.useMemo(()=>{var re;const G=Math.pow(1.05,r.power||0),ee=(l.attackSpeed||1)*(1+(r.quick||0)*.05),$=(l.projectileSpeed||1)*(1+(r.arcane||0)*.1),q=(l.baseDps+(((re=l.equipped)==null?void 0:re.power)||0))*G+(l.dps-l.baseDps),se=(q*ee).toFixed(2);return{powerMultiplier:G,attackSpeed:ee,projectileSpeed:$,totalDps:q,estimatedDps:se}},[l.attackSpeed,l.baseDps,l.dps,(p=l.equipped)==null?void 0:p.power,r]),g=C.useMemo(()=>{var ee;let G=0;return l.equipment&&Object.values(l.equipment).forEach($=>{var q,se;(q=$==null?void 0:$.baseStats)!=null&&q.damage&&(G+=$.baseStats.damage),(se=$==null?void 0:$.affixes)==null||se.forEach(re=>{re.stat==="damage"&&(G+=re.value)})}),(ee=l.equipped)!=null&&ee.power&&(G+=l.equipped.power),G},[l.equipment,(k=l.equipped)==null?void 0:k.power]);C.useMemo(()=>{const G=l.baseDps||0,ee=(r.power||0)*5;return Math.floor((G+g+ee)*f.powerMultiplier)},[l.baseDps,r,g,f.powerMultiplier]);const h=C.useMemo(()=>{var G;return{totalCritChance:((l.critChance||0)+kh((G=l.equipped)==null?void 0:G.rarity))*100,dodgeChance:(l.dodgeChance||0)*100,blockChance:(l.blockChance||0)*100,lifeSteal:(l.lifeSteal||0)*100,armor:l.armor||0,healthRegen:l.healthRegen||0,manaRegen:l.manaRegen||0}},[l.critChance,(R=l.equipped)==null?void 0:R.rarity,l.dodgeChance,l.blockChance,l.lifeSteal,l.armor,l.healthRegen,l.manaRegen]),v=C.useCallback(()=>{n.resetAll()},[n]);return s.jsxs("div",{className:"h-full flex flex-col bg-gray-900/95 text-white",children:[s.jsx("div",{className:"p-3 border-b border-gray-600",children:s.jsx("h2",{className:"text-lg font-bold text-center",children:" Character Stats"})}),s.jsxs("div",{className:"flex-1 p-3 space-y-2 overflow-y-auto text-xs",children:[s.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700",children:[s.jsx("h3",{className:"text-xs font-semibold text-blue-300 mb-1",children:" Basic Info"}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Level:"}),s.jsx("strong",{className:"text-blue-400",children:l.level})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"XP:"}),s.jsxs("span",{className:"text-green-400",children:[l.xp,"/",l.nextLevelXp]})]}),s.jsx(d,{label:"HP",value:`${l.hp.toFixed(2)}/${l.maxHp.toFixed(2)}`,color:"text-red-400",statType:"health"}),s.jsx(d,{label:"Mana",value:`${(l.mana||0).toFixed(2)}/${(l.maxMana||50).toFixed(2)}`,color:"text-blue-400",statType:"mana"})]})]}),s.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700",children:[s.jsx("h3",{className:"text-xs font-semibold text-purple-300 mb-1",children:" Attributes"}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[s.jsx(d,{label:"Strength",value:(((y=l.attributes)==null?void 0:y.strength)||10)+(((m=l.calculatedStats)==null?void 0:m.strength)||0),color:"text-red-400",statType:"strength"}),s.jsx(d,{label:"Dexterity",value:(((x=l.attributes)==null?void 0:x.dexterity)||10)+(((S=l.calculatedStats)==null?void 0:S.dexterity)||0),color:"text-green-400",statType:"dexterity"}),s.jsx(d,{label:"Intelligence",value:(((N=l.attributes)==null?void 0:N.intelligence)||10)+(((A=l.calculatedStats)==null?void 0:A.intelligence)||0),color:"text-blue-400",statType:"intelligence"}),s.jsx(d,{label:"Vitality",value:(((F=l.attributes)==null?void 0:F.vitality)||10)+(((B=l.calculatedStats)==null?void 0:B.vitality)||0),color:"text-orange-400",statType:"vitality"}),s.jsx(d,{label:"Luck",value:(((X=l.attributes)==null?void 0:X.luck)||5)+(((H=l.calculatedStats)==null?void 0:H.luck)||0),color:"text-yellow-400",statType:"luck"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Attr Points:"}),s.jsx("span",{className:"text-purple-400",children:l.attributePoints||0})]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700",children:[s.jsx("h3",{className:"text-xs font-semibold text-red-300 mb-1",children:" Offensive"}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[s.jsx(d,{label:"Base DPS",value:l.baseDps||0,color:"text-orange-400",statType:"damage"}),s.jsx(d,{label:"Total DPS",value:l.dps||0,color:"text-orange-300",statType:"damage"}),s.jsx(d,{label:"Attack Speed",value:f.attackSpeed,color:"text-yellow-300",statType:"attackSpeed",suffix:"x"}),s.jsx(d,{label:"Crit Chance",value:h.totalCritChance,color:"text-red-400",statType:"critChance",suffix:"%"}),s.jsx(d,{label:"Life Steal",value:h.lifeSteal,color:"text-pink-400",statType:"lifeSteal",suffix:"%"})]})]}),s.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700",children:[s.jsx("h3",{className:"text-xs font-semibold text-blue-300 mb-1",children:" Defensive"}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[s.jsx(d,{label:"Armor",value:h.armor,color:"text-gray-300",statType:"armor"}),s.jsx(d,{label:"Dodge",value:h.dodgeChance,color:"text-green-400",statType:"dodgeChance",suffix:"%"}),s.jsx(d,{label:"Block",value:h.blockChance,color:"text-blue-400",statType:"blockChance",suffix:"%"}),s.jsx(d,{label:"HP Regen",value:h.healthRegen,color:"text-red-300",statType:"healthRegen",suffix:"/s"}),s.jsx(d,{label:"MP Regen",value:h.manaRegen,color:"text-blue-300",statType:"manaRegen",suffix:"/s"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Proj Speed:"}),s.jsxs("span",{className:"text-cyan-400",children:[f.projectileSpeed.toFixed(2),"x"]})]})]})]}),(()=>{var ee,$,q;const G=((ee=l.equipment)==null?void 0:ee.weapon)||l.equipped;return G?s.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700",children:[s.jsx("h3",{className:"text-xs font-semibold text-yellow-300 mb-1",children:" Equipped Weapon"}),s.jsxs("div",{className:"text-xs space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Type:"}),s.jsx("span",{className:"text-gray-300",children:G.type||G.name||"None"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Rarity:"}),s.jsx("span",{className:xh(G.rarity),children:G.rarity||"Common"})]}),G.element&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Element:"}),s.jsxs("span",{className:vh(G.element),children:[wh(G.element)," ",G.element]})]}),(G.power||(($=G.baseStats)==null?void 0:$.damage))&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Power:"}),s.jsxs("span",{className:"text-orange-400",children:["+",G.power||((q=G.baseStats)==null?void 0:q.damage)||0]})]})]})]}):s.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700",children:[s.jsx("h3",{className:"text-xs font-semibold text-yellow-300 mb-1",children:" Equipped Weapon"}),s.jsx("div",{className:"text-xs",children:s.jsx("span",{className:"text-gray-500",children:"No weapon equipped"})})]})})(),s.jsxs("div",{className:"bg-gray-800/50 p-2 rounded border border-gray-700",children:[s.jsx("h3",{className:"text-xs font-semibold text-yellow-300 mb-1",children:" Resources"}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:" Gold:"}),s.jsx("span",{className:"text-yellow-400",children:l.gold})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:" Skill Points:"}),s.jsx("span",{className:"text-purple-400",children:l.skillPoints})]})]})]}),s.jsx("button",{onClick:v,className:"w-full bg-red-600 hover:bg-red-700 text-white py-1.5 px-3 rounded text-xs font-medium transition-colors",children:" Reset Character"})]}),a.visible&&s.jsx(yh,{statName:a.statName,breakdown:gh(l,a.statType),description:hh[a.statType],position:a.position,visible:a.visible})]})}),Sh={Common:"#9ca3af",Magic:"#06b6d4",Rare:"#8b5cf6",Unique:"#fbbf24",Legendary:"#ff6b6b"},jh={fire:"#ff6b6b",ice:"#74c0fc",lightning:"#ffd43b",poison:"#51cf66"},bh={fire:"",ice:"",lightning:"",poison:""};function an(e){return e&&Sh[e]||"#9ca3af"}function Nh(e){return!e||e==="physical"?"":jh[e]||""}function ec(e){return!e||e==="physical"?"":bh[e]||""}const Ch=C.memo(({slot:e,equippedItem:t,onUnequip:n,player:l})=>{var a;const r=C.useCallback(i=>{t&&(i.preventDefault(),n(e.id))},[n,e.id,t]);return s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"text-center mb-2",children:s.jsx("div",{className:"text-xs font-medium text-gray-400",children:e.name})}),s.jsx("div",{className:"relative bg-gray-800/70 border-2 rounded-xl p-2 h-24 flex flex-col items-center justify-center hover:bg-gray-700/70 transition-all cursor-pointer overflow-hidden",style:{borderColor:t?an(t.rarity):"#4b5563",boxShadow:t?`0 0 15px ${an(t.rarity)}20`:"none"},onContextMenu:r,children:t?s.jsxs("div",{className:"text-center relative",children:[s.jsxs("div",{className:"text-2xl mb-1 relative",children:[e.icon,s.jsx("div",{className:"absolute inset-0 blur-sm opacity-50",style:{color:an(t.rarity)},children:e.icon})]}),s.jsx("div",{className:"text-xs font-bold px-2 py-0.5 rounded-full bg-gray-900/80",style:{color:an(t.rarity)},children:t.power&&typeof t.power=="number"&&!isNaN(t.power)?`+${t.power.toFixed(2)}`:(a=t.baseStats)!=null&&a.damage&&typeof t.baseStats.damage=="number"&&!isNaN(t.baseStats.damage)?`+${t.baseStats.damage.toFixed(2)}`:"+?"}),t.damageType&&t.damageType!=="physical"&&s.jsx("div",{className:"absolute -top-1 -right-1 text-xs",children:ec(t.damageType)})]}):s.jsxs("div",{className:"text-center opacity-40",children:[s.jsx("div",{className:"text-2xl mb-1",children:e.icon}),s.jsx("div",{className:"text-xs text-gray-500",children:"Empty"})]})}),t&&s.jsx("div",{className:"text-center mt-2 max-w-full",children:s.jsx("div",{className:"text-xs font-bold truncate px-1 max-w-full",style:{color:an(t.rarity)},title:t.name,children:t.name})}),t&&s.jsx("div",{className:"absolute right-full top-1/2 transform -translate-y-1/2 mr-3 opacity-0 group-hover:opacity-100 transition-all duration-200 z-20 pointer-events-none",children:s.jsxs("div",{className:"bg-gray-900/95 border-2 rounded-lg p-4 text-xs whitespace-nowrap shadow-2xl backdrop-blur-sm",style:{borderColor:an(t.rarity)},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"text-lg",children:e.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-sm",style:{color:an(t.rarity)},children:t.name}),s.jsxs("div",{className:"text-gray-400 text-xs",children:[t.type,"  ",t.rarity]})]}),t.damageType&&t.damageType!=="physical"&&s.jsx("div",{className:"text-lg",children:ec(t.damageType)})]}),s.jsxs("div",{className:"border-t border-gray-700 pt-2",children:[t.power&&typeof t.power=="number"&&!isNaN(t.power)&&s.jsxs("div",{className:"text-orange-400 font-medium",children:["Power: +",t.power.toFixed(2)]}),t.baseStats&&s.jsxs("div",{className:"text-orange-400 font-medium",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Base Stats:"}),Object.entries(t.baseStats).map(([i,o])=>s.jsxs("div",{className:"text-xs",children:[i,": +",typeof o=="number"&&!isNaN(o)?o.toFixed(2):String(o)]},i))]}),t.damageType&&t.damageType!=="physical"&&s.jsxs("div",{style:{color:Nh(t.damageType)},children:["Damage Type: ",t.damageType]}),t.requirements&&Object.keys(t.requirements).length>0&&s.jsxs("div",{className:"mt-1 pt-1 border-t border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Requirements:"}),Object.entries(t.requirements).map(([i,o])=>{var f;const u=((f=l.attributes)==null?void 0:f[i])||0,d=u>=o;return s.jsxs("div",{className:`text-xs ${d?"text-green-400":"text-red-400"}`,children:[i,": ",o," (",u,")"]},i)})]}),t.affixes&&t.affixes.length>0&&s.jsxs("div",{className:"mt-1 pt-1 border-t border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Affixes:"}),t.affixes.map((i,o)=>s.jsxs("div",{className:"text-blue-300 text-xs",children:[i.name,": +",i.value&&typeof i.value=="number"&&!isNaN(i.value)?i.value.toFixed(2):i.value||"0"]},o))]}),t.extras&&t.extras.length>0&&s.jsxs("div",{className:"mt-1 pt-1 border-t border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Bonuses:"}),t.extras.map((i,o)=>s.jsxs("div",{className:"text-blue-300 text-xs",children:[i.key,": +",i.val]},o))]})]})]})})]})}),Ph=C.memo(function(){const{state:t,dispatch:n}=ct(),l=t.player,r=C.useMemo(()=>{const d={};return Yo.forEach(f=>{if(l.equipment&&l.equipment[f.id])d[f.id]=l.equipment[f.id];else if(l.equipped&&f.id==="weapon"){const g=l.equipped.type;(g==="melee"||g==="ranged")&&(d[f.id]=l.equipped)}}),d},[l.equipment,l.equipped]),a=C.useCallback(d=>r[d]||null,[r]),i=C.useMemo(()=>{var f;let d=0;return l.equipment&&(d+=Object.keys(l.equipment).length),l.equipped&&!((f=l.equipment)!=null&&f.weapon)&&(d+=1),d},[l.equipment,l.equipped]),o=C.useCallback(d=>{n({type:"UNEQUIP",payload:d})},[n]),u=C.useCallback(d=>{const f=a(d.id);return s.jsx(Ch,{slot:d,equippedItem:f,onUnequip:o,player:l},d.id)},[a,o]);return s.jsxs("div",{className:"h-full flex flex-col bg-gray-900/95 text-white",children:[s.jsx("div",{className:"p-4 border-b border-gray-600",children:s.jsx("h2",{className:"text-xl font-bold text-center",children:" EQUIPMENT"})}),s.jsx("div",{className:"flex-1 p-4 overflow-auto",children:s.jsx("div",{className:"grid grid-cols-2 gap-4 auto-rows-max",children:Yo.map(u)})}),s.jsx("div",{className:"p-4 border-t border-gray-600",children:s.jsx("div",{className:"text-center text-sm text-gray-400",children:i===0?s.jsx("span",{children:"No equipment"}):i===1?s.jsx("span",{children:"1 item equipped"}):s.jsxs("span",{children:[i," items equipped"]})})})]})}),Mh=[{key:"strength",name:"Strength",desc:zt.strength,max:10},{key:"endurance",name:"Endurance",desc:zt.endurance,max:10},{key:"agility",name:"Agility",desc:zt.agility,max:10},{key:"precision",name:"Precision",desc:zt.precision,max:10},{key:"quick",name:"Quick Reflexes",desc:zt.quick,max:10},{key:"vitality",name:"Vitality",desc:zt.vitality,max:10},{key:"fortune",name:"Fortune",desc:zt.fortune,max:10},{key:"resilience",name:"Resilience",desc:zt.resilience,max:10}];function Lh(){const{state:e,dispatch:t}=ct(),n=e.skills||{};function l(r){e.player.skillPoints<=0||t({type:"UPGRADE_SKILL",payload:r})}return s.jsxs("div",{className:"panel p-4 h-full flex flex-col",children:[s.jsx("h2",{className:"text-lg font-bold mb-3",children:"Skill Tree"}),s.jsxs("div",{className:"mb-3 text-yellow-400 text-sm",children:["Skill Points: ",e.player.skillPoints]}),s.jsx("div",{className:"space-y-2 flex-1 scrollable-panel",children:Mh.map(r=>{const a=n[r.key]??0,i=a>=r.max,o=e.player.skillPoints>0&&!i;return s.jsxs("div",{className:"bg-gray-700 p-3 rounded border border-gray-600",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-bold text-white",children:[r.name,s.jsxs("span",{className:"ml-2 text-sm text-gray-400",children:["(",a,"/",r.max,")"]})]}),s.jsx("div",{className:"text-sm text-gray-300 mt-1",children:r.desc})]}),s.jsx("button",{className:`ml-3 px-3 py-1 rounded text-sm font-medium ${i?"bg-green-600 text-white cursor-default":o?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,onClick:()=>l(r.key),disabled:!o,children:i?"MAX":"+"})]}),a>0&&s.jsx("div",{className:"mt-2 bg-gray-600 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${a/r.max*100}%`}})})]},r.key)})})]})}const Eh=C.memo(({item:e,position:t,onClose:n,equippedItem:l,isPersistent:r})=>{var o,u,d;const a=C.useMemo(()=>{if(!l)return null;const f=e.baseStats||{damage:e.power||0,armor:0,health:0},g=l.baseStats||{damage:l.power||0,armor:0,health:0};return{damage:(f.damage||0)-(g.damage||0),armor:(f.armor||0)-(g.armor||0),health:(f.health||0)-(g.health||0)}},[e,l]),i=({label:f,current:g,equipped:h,diff:v})=>g==null||typeof g!="number"||isNaN(g)?null:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{children:[f,":"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:g.toFixed(1)}),h!==void 0&&v!==void 0&&typeof v=="number"&&!isNaN(v)&&s.jsxs("span",{className:`text-xs ${v>0?"text-green-400":v<0?"text-red-400":"text-gray-400"}`,children:["(",v>0?"+":"",v.toFixed(1),")"]})]})]});return s.jsxs("div",{className:"fixed z-50 bg-gray-900 border-2 border-gray-600 rounded-lg p-4 shadow-2xl max-w-sm",style:{left:Math.min(t.x,window.innerWidth-400),top:Math.min(t.y,window.innerHeight-300)},onMouseLeave:r?void 0:n,onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"font-bold text-lg flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",style:{color:Cd(e.rarity)},children:[s.jsx("span",{children:e.name||"Unnamed Item"}),qn(e.damageType)&&s.jsx("span",{children:qn(e.damageType)})]}),r&&s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white text-xl leading-none p-1 hover:bg-gray-700 rounded",title:"Close tooltip",children:""})]}),s.jsxs("div",{className:"text-gray-400 text-sm",children:[e.slot&&s.jsx("span",{className:"capitalize",children:e.slot}),e.category&&e.slot&&s.jsx("span",{children:"  "}),e.category&&s.jsx("span",{className:"capitalize",children:e.category})]})]}),s.jsx("div",{className:"mb-3 space-y-1",children:e.baseStats?s.jsxs(s.Fragment,{children:[e.baseStats.damage&&s.jsx(i,{label:"Damage",current:e.baseStats.damage,equipped:(o=l==null?void 0:l.baseStats)==null?void 0:o.damage,diff:a==null?void 0:a.damage}),e.baseStats.armor&&s.jsx(i,{label:"Armor",current:e.baseStats.armor,equipped:(u=l==null?void 0:l.baseStats)==null?void 0:u.armor,diff:a==null?void 0:a.armor}),e.baseStats.health&&s.jsx(i,{label:"Health",current:e.baseStats.health,equipped:(d=l==null?void 0:l.baseStats)==null?void 0:d.health,diff:a==null?void 0:a.health})]}):s.jsx(i,{label:"Power",current:e.power||0,equipped:l==null?void 0:l.power,diff:l?(e.power||0)-(l.power||0):void 0})}),e.damageType&&e.damageType!=="physical"&&s.jsx("div",{className:"mb-3 text-sm",children:s.jsxs("span",{style:{color:Pd(e.damageType)},children:[qn(e.damageType)," ",e.damageType," damage"]})}),e.affixes&&e.affixes.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-blue-300 font-medium text-sm mb-1",children:"Modifiers:"}),s.jsx("div",{className:"space-y-1",children:e.affixes.map((f,g)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-blue-200",children:[f.name,":"]}),s.jsxs("span",{className:"text-blue-100",children:["+",f.value]})]},g))})]}),e.extras&&e.extras.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-blue-300 font-medium text-sm mb-1",children:"Bonuses:"}),s.jsx("div",{className:"space-y-1",children:e.extras.map((f,g)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-blue-200",children:[f.key,":"]}),s.jsxs("span",{className:"text-blue-100",children:["+",f.val]})]},g))})]}),e.requirements&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-orange-300 font-medium text-sm mb-1",children:"Requirements:"}),s.jsx("div",{className:"space-y-1",children:Object.entries(e.requirements).map(([f,g])=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-orange-200 capitalize",children:[f,":"]}),s.jsx("span",{className:"text-orange-100",children:g})]},f))})]}),s.jsx("div",{className:"pt-2 border-t border-gray-600",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-yellow-400",children:"Value:"}),s.jsxs("span",{className:"text-yellow-300 font-medium",children:[e.value," "]})]})}),l&&a&&s.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-600",children:[s.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:["vs. ",l.name,":"]}),s.jsx("div",{className:"text-xs",children:Object.entries(a).map(([f,g])=>g===0||g===void 0||g===null||typeof g!="number"||isNaN(g)?null:s.jsxs("span",{className:`mr-2 ${g>0?"text-green-400":"text-red-400"}`,children:[f,": ",g>0?"+":"",g.toFixed(1)]},f)).filter(Boolean)})]})]})}),_h={Common:"#9ca3af",Magic:"#06b6d4",Rare:"#8b5cf6",Unique:"#fbbf24",Legendary:"#ff6b6b"},Th={fire:"#ff6b6b",ice:"#74c0fc",lightning:"#ffd43b",poison:"#51cf66"},Ah={fire:"",ice:"",lightning:"",poison:""};function Cd(e){return e&&_h[e]||"#9ca3af"}function Pd(e){return!e||e==="physical"?"":Th[e]||""}function qn(e){return!e||e==="physical"?"":Ah[e]||""}const Rh=C.memo(({item:e,viewMode:t,onEquip:n,onUnequip:l,onSell:r,isEquipped:a,onHover:i,onLeave:o,onClick:u})=>{const d=C.useCallback(()=>n(e.id),[n,e.id]),f=C.useCallback(()=>l(e.id),[l,e.id]),g=C.useCallback(()=>r(e.id),[r,e.id]);return s.jsx("div",{className:`bg-gray-700 rounded-lg border-2 transition-all cursor-pointer hover:shadow-lg ${a?"border-green-500 bg-green-900/20 shadow-lg shadow-green-500/20":"border-gray-600 hover:border-gray-400 hover:bg-gray-600/50"} ${t==="grid"?"p-3 h-auto min-h-[200px]":"p-4"}`,onMouseEnter:h=>i==null?void 0:i(h,e),onMouseLeave:o,onClick:h=>u==null?void 0:u(h,e),children:s.jsxs("div",{className:`h-full ${t==="grid"?"flex flex-col justify-between":"flex justify-between items-start gap-4"}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:`font-bold flex items-center gap-2 mb-2 ${t==="grid"?"text-sm":"text-lg"}`,style:{color:Cd(e.rarity)},children:[a&&s.jsx("span",{className:"text-green-400 text-lg",children:""}),s.jsx("span",{className:"truncate",children:t==="grid"?(e.name||"Unnamed Item").split(" ").slice(0,3).join(" "):e.name||"Unnamed Item"}),qn(e.damageType)&&s.jsx("span",{className:"text-lg",children:qn(e.damageType)})]}),s.jsx("div",{className:`text-gray-400 mb-3 ${t==="grid"?"text-xs":"text-sm"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[e.slot&&s.jsx("span",{className:"capitalize bg-gray-600 px-2 py-1 rounded text-xs",children:e.slot}),e.category&&s.jsx("span",{className:"capitalize text-gray-300",children:e.category}),e.type&&!e.slot&&s.jsx("span",{className:"bg-gray-600 px-2 py-1 rounded text-xs",children:e.type})]})}),s.jsx("div",{className:`text-gray-300 mb-2 ${t==="grid"?"text-xs":"text-sm"}`,children:e.baseStats?s.jsxs("div",{className:"space-y-1 bg-gray-800/50 p-2 rounded",children:[e.baseStats.damage&&typeof e.baseStats.damage=="number"&&!isNaN(e.baseStats.damage)&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-400",children:" Damage:"}),s.jsx("span",{className:"text-red-300 font-bold",children:e.baseStats.damage.toFixed(1)})]}),e.baseStats.armor&&typeof e.baseStats.armor=="number"&&!isNaN(e.baseStats.armor)&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-400",children:" Armor:"}),s.jsx("span",{className:"text-blue-300 font-bold",children:e.baseStats.armor.toFixed(1)})]}),e.baseStats.health&&typeof e.baseStats.health=="number"&&!isNaN(e.baseStats.health)&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-400",children:" Health:"}),s.jsxs("span",{className:"text-green-300 font-bold",children:["+",e.baseStats.health.toFixed(1)]})]})]}):s.jsx("div",{className:"bg-gray-800/50 p-2 rounded",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-400",children:" Power:"}),s.jsxs("span",{className:"text-yellow-300 font-bold",children:["+",e.power]})]})})}),e.damageType&&e.damageType!=="physical"&&s.jsx("div",{className:`mb-2 ${t==="grid"?"text-xs":"text-sm"}`,children:s.jsx("div",{className:"bg-gray-800/50 p-2 rounded",children:s.jsxs("span",{style:{color:Pd(e.damageType)},className:"font-medium",children:[qn(e.damageType)," ",e.damageType," damage"]})})}),e.affixes&&e.affixes.length>0&&s.jsx("div",{className:`mb-2 ${t==="grid"?"text-xs":"text-sm"}`,children:s.jsxs("div",{className:"bg-blue-900/30 p-2 rounded border border-blue-600/30",children:[s.jsx("div",{className:"font-medium text-blue-300 mb-1",children:" Modifiers:"}),s.jsx("div",{className:"space-y-1",children:e.affixes.map((h,v)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-blue-200",children:[h.name,":"]}),s.jsxs("span",{className:"text-blue-100 font-medium",children:["+",h.value]})]},v))})]})}),e.extras&&e.extras.length>0&&s.jsx("div",{className:`mb-2 ${t==="grid"?"text-xs":"text-sm"}`,children:s.jsxs("div",{className:"bg-blue-900/30 p-2 rounded border border-blue-600/30",children:[s.jsx("div",{className:"font-medium text-blue-300 mb-1",children:" Bonuses:"}),s.jsx("div",{className:"space-y-1",children:e.extras.map((h,v)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-blue-200",children:[h.key,":"]}),s.jsxs("span",{className:"text-blue-100 font-medium",children:["+",h.val]})]},v))})]})}),e.requirements&&s.jsx("div",{className:`mb-2 ${t==="grid"?"text-xs":"text-sm"}`,children:s.jsxs("div",{className:"bg-orange-900/30 p-2 rounded border border-orange-600/30",children:[s.jsx("div",{className:"font-medium text-orange-300 mb-1",children:" Requirements:"}),s.jsx("div",{className:"space-y-1",children:Object.entries(e.requirements).map(([h,v])=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"capitalize text-orange-200",children:[h,":"]}),s.jsx("span",{className:"text-orange-100 font-medium",children:v})]},h))})]})})]}),s.jsxs("div",{className:`${t==="grid"?"mt-auto":""}`,children:[s.jsx("div",{className:`text-yellow-400 mb-2 pt-2 border-t border-gray-600 ${t==="grid"?"text-xs":"text-sm"}`,children:s.jsxs("div",{className:"flex justify-between items-center bg-yellow-900/20 p-2 rounded",children:[s.jsx("span",{className:"text-yellow-300",children:" Value:"}),s.jsxs("span",{className:"font-bold text-yellow-200",children:[e.value," gold"]})]})}),s.jsxs("div",{className:"flex gap-2 ",children:[a?s.jsx("button",{className:`bg-orange-600 hover:bg-orange-700 rounded-lg transition-all font-medium shadow-lg hover:shadow-xl ${t==="grid"?"px-2 py-1 text-xs flex-1":"px-4 py-2 text-sm"}`,onClick:f,children:t==="grid"?" Unequip":" Unequip Item"}):s.jsx("button",{className:`bg-blue-600 hover:bg-blue-700 rounded-lg transition-all font-medium shadow-lg hover:shadow-xl ${t==="grid"?"px-2 py-1 text-xs flex-1":"px-4 py-2 text-sm"}`,onClick:d,children:t==="grid"?" Equip":" Equip Item"}),s.jsx("button",{className:`bg-red-600 hover:bg-red-700 rounded-lg transition-all font-medium shadow-lg hover:shadow-xl ${t==="grid"?"px-2 py-1 text-xs flex-1":"px-3 py-2 text-sm"}`,onClick:g,children:t==="grid"?"":" Sell"})]})]})]})})}),Dh=C.memo(function(){const{state:t,dispatch:n,actions:l}=ct(),[r,a]=C.useState(0),[i,o]=C.useState("list"),[u,d]=C.useState("all"),[f,g]=C.useState(null),h=20,v=10,p=C.useMemo(()=>{let $=[...t.inventory];return u!=="all"&&($=$.filter(q=>u==="weapons"?q.category==="weapon":u==="armor"?q.category==="armor":u==="accessories"?q.category==="accessory":!0)),$.sort((q,se)=>{var U,le,w,z;const re=["Legendary","Unique","Rare","Magic","Common"],fe=re.indexOf(q.rarity)-re.indexOf(se.rarity);if(fe!==0)return fe;const D=q.power||((U=q.baseStats)==null?void 0:U.damage)||((le=q.baseStats)==null?void 0:le.armor)||0;return(se.power||((w=se.baseStats)==null?void 0:w.damage)||((z=se.baseStats)==null?void 0:z.armor)||0)-D})},[t.inventory,u]),k=C.useMemo(()=>{const $={all:t.inventory.length,weapons:0,armor:0,accessories:0};return t.inventory.forEach(q=>{q.category==="weapon"?$.weapons++:q.category==="armor"?$.armor++:q.category==="accessory"&&$.accessories++}),$},[t.inventory]),R=C.useMemo(()=>{const $=Math.min(v,Math.ceil(p.length/h)),q=v*h,se=p.slice(0,q),re=r*h,fe=se.slice(re,re+h),D=p.length-q;return{totalPages:$,displayInventory:se,currentItems:fe,excessItems:D}},[p,r,h,v]),y=C.useMemo(()=>t.inventory.reduce(($,q)=>$+(q.value||0),0),[t.inventory]),m=C.useCallback(()=>{window.confirm(`Sell all ${t.inventory.length} items for ${y} gold?`)&&l.sellAll()},[t.inventory.length,y,l]),x=C.useCallback($=>{o($),a(0)},[]),S=C.useCallback($=>{d($),a(0)},[]),N=C.useCallback($=>{n({type:"EQUIP",payload:$})},[n]),A=C.useCallback($=>{const q=t.inventory.find(se=>se.id===$);q&&q.slot&&n({type:"UNEQUIP",payload:q.slot})},[n,t.inventory]),F=C.useCallback($=>{n({type:"DISCARD",payload:$})},[n]),B=C.useCallback($=>{var se;if(!$.slot)return!1;const q=(se=t.player.equipment)==null?void 0:se[$.slot];return q&&q.id===$.id},[t.player.equipment]),X=C.useCallback(($,q)=>{var se;if(!(f!=null&&f.isPersistent)){const re=q.slot?(se=t.player.equipment)==null?void 0:se[q.slot]:void 0,fe=$.currentTarget.getBoundingClientRect(),D=400,W=300;let U=fe.right+10,le=fe.top;U+D>window.innerWidth&&(U=fe.left-D-10),U<0&&(U=Math.max(10,(window.innerWidth-D)/2)),le+W>window.innerHeight&&(le=fe.top-W-10),le<0&&(le=10),g({item:q,position:{x:U,y:le},equippedItem:re,isPersistent:!1})}},[t.player.equipment,f==null?void 0:f.isPersistent]),H=C.useCallback(()=>{f!=null&&f.isPersistent||g(null)},[f==null?void 0:f.isPersistent]),G=C.useCallback(($,q)=>{var le;$.stopPropagation();const se=q.slot?(le=t.player.equipment)==null?void 0:le[q.slot]:void 0,re=$.currentTarget.getBoundingClientRect(),fe=400,D=300;let W=re.right+10,U=re.top;W+fe>window.innerWidth&&(W=re.left-fe-10),W<0&&(W=Math.max(10,(window.innerWidth-fe)/2)),U+D>window.innerHeight&&(U=re.top-D-10),U<0&&(U=10),g({item:q,position:{x:W,y:U},equippedItem:se,isPersistent:!0})},[t.player.equipment]),ee=C.useCallback(()=>{g(null)},[]);return s.jsxs("div",{className:"panel p-6 w-full flex flex-col bg-gray-800",onClick:$=>{f!=null&&f.isPersistent&&ee()},children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:" Inventory"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>x("list"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${i==="list"?"bg-blue-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600 hover:text-white"}`,children:" List View"}),s.jsx("button",{onClick:()=>x("grid"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${i==="grid"?"bg-blue-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600 hover:text-white"}`,children:" Grid View"})]})]}),s.jsx("div",{className:"mb-4 p-3 bg-gray-800/50 rounded-lg border border-gray-600",children:s.jsxs("div",{className:"flex gap-2 overflow-x-auto",children:[s.jsxs("button",{onClick:()=>S("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${u==="all"?"bg-purple-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600 hover:text-white"}`,children:[" All Items ",s.jsxs("span",{className:"text-xs opacity-75",children:["(",k.all,")"]})]}),s.jsxs("button",{onClick:()=>S("weapons"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${u==="weapons"?"bg-red-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600 hover:text-white"}`,children:[" Weapons ",s.jsxs("span",{className:"text-xs opacity-75",children:["(",k.weapons,")"]})]}),s.jsxs("button",{onClick:()=>S("armor"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${u==="armor"?"bg-blue-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600 hover:text-white"}`,children:[" Armor ",s.jsxs("span",{className:"text-xs opacity-75",children:["(",k.armor,")"]})]}),s.jsxs("button",{onClick:()=>S("accessories"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${u==="accessories"?"bg-green-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600 hover:text-white"}`,children:[" Accessories ",s.jsxs("span",{className:"text-xs opacity-75",children:["(",k.accessories,")"]})]})]})}),s.jsx("div",{className:"mb-4 p-4 bg-gray-700/50 rounded-lg border border-gray-600",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-yellow-400 text-lg font-bold",children:[" Gold: ",t.player.gold&&typeof t.player.gold=="number"&&!isNaN(t.player.gold)?t.player.gold.toFixed(2):"0.00"]}),s.jsxs("div",{className:"text-gray-300 text-sm",children:[u==="all"?"Total Items":`${u.charAt(0).toUpperCase()+u.slice(1)}`,": ",p.length,u!=="all"&&s.jsxs("span",{className:"text-gray-400",children:[" / ",t.inventory.length," total"]})]}),s.jsxs("div",{className:"text-gray-300 text-sm",children:["Total Value: ",y&&typeof y=="number"&&!isNaN(y)?y.toFixed(2):"0.00"," "]})]}),t.inventory.length>0&&s.jsx("button",{onClick:m,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 rounded-lg text-sm transition-all text-black font-bold shadow-lg hover:shadow-xl",children:" Sell All Items"})]})}),R.excessItems>0&&s.jsxs("div",{className:"mb-4 p-3 bg-orange-900/30 border border-orange-600/40 rounded-lg text-orange-300 text-sm",children:[" ",R.excessItems," excess items converted to gold automatically"]}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("div",{className:"text-lg font-semibold text-gray-200",children:["Items (",p.length,")"]}),R.totalPages>1&&s.jsxs("div",{className:"text-sm text-gray-400 bg-gray-700 px-3 py-1 rounded-lg",children:["Page ",r+1," of ",R.totalPages]})]}),s.jsxs("div",{className:`flex-1 overflow-y-auto ${i==="grid"?"grid grid-cols-2 gap-3 p-3":"space-y-3 p-2"}`,children:[R.currentItems.length===0&&s.jsx("div",{className:"text-gray-400 text-sm col-span-2",children:"No items yet."}),R.currentItems.map($=>s.jsx(Rh,{item:$,viewMode:i,onEquip:N,onUnequip:A,onSell:F,isEquipped:!!B($),onHover:X,onLeave:H,onClick:G},$.id))]}),R.totalPages>1&&s.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-600 bg-gray-700/30 rounded-lg p-3",children:[s.jsx("button",{className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl",onClick:()=>a($=>Math.max(0,$-1)),disabled:r===0,children:" Previous"}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-300",children:[s.jsxs("span",{className:"bg-gray-600 px-3 py-1 rounded-lg font-medium",children:["Page ",r+1," of ",R.totalPages]}),R.totalPages>=v&&s.jsxs("span",{className:"text-orange-400 text-xs bg-orange-900/30 px-2 py-1 rounded",children:["(Max ",v," pages)"]})]}),s.jsx("button",{className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl",onClick:()=>a($=>Math.min(R.totalPages-1,$+1)),disabled:r===R.totalPages-1,children:"Next "})]})]}),f&&s.jsx(Eh,{item:f.item,position:f.position,onClose:ee,equippedItem:f.equippedItem,isPersistent:f.isPersistent})]})});function tc(){const{state:e}=ct(),t=C.useRef(null),[n,l]=C.useState("All");C.useEffect(()=>{t.current&&(t.current.scrollTop=0)},[e.log]);const r=o=>o.includes("BOSS DEFEATED")?s.jsx("span",{className:"text-yellow-400 font-bold",children:o}):o.includes("defeated")?s.jsx("span",{className:"text-green-400",children:o}):o.includes("critical")?s.jsx("span",{className:"text-red-400",children:o}):o.includes("dodged")?s.jsx("span",{className:"text-blue-400",children:o}):o.includes("Level up")?s.jsx("span",{className:"text-purple-400 font-bold",children:o}):o.includes("died")?s.jsx("span",{className:"text-red-500 font-bold",children:o}):o.includes("EXP")||o.includes("exp")?s.jsx("span",{className:"text-green-300",children:o}):o.includes("Gold")||o.includes("gold")?s.jsx("span",{className:"text-yellow-300",children:o}):o.includes("found")||o.includes("dropped")||o.includes("item")?s.jsx("span",{className:"text-blue-300",children:o}):s.jsx("span",{className:"text-gray-300",children:o}),i=(()=>{let o=[...e.log];return n!=="All"&&(o=o.filter(u=>{switch(n){case"EXP":return u.includes("EXP")||u.includes("exp")||u.includes("Level up");case"Gold":return u.includes("Gold")||u.includes("gold");case"Items":return u.includes("found")||u.includes("dropped")||u.includes("item");default:return!0}})),o.slice(-50)})();return s.jsxs("div",{className:"bg-gray-900/95 border border-gray-600 rounded-lg p-4 h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-bold text-white",children:"Combat Log"}),s.jsx("div",{className:"flex space-x-1",children:["All","EXP","Gold","Items"].map(o=>s.jsx("button",{onClick:()=>l(o),className:`px-3 py-1 text-xs font-medium rounded transition-colors ${n===o?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:o},o))})]}),s.jsxs("div",{ref:t,className:"space-y-1 flex-1 overflow-y-auto text-sm bg-gray-800/50 rounded p-3 border border-gray-700",style:{maxHeight:"200px"},children:[i.length===0&&s.jsx("div",{className:"text-gray-500",children:n==="All"?"No combat yet...":`No ${n.toLowerCase()} entries...`}),i.map((o,u)=>s.jsx("div",{className:"font-mono text-xs",children:r(o)},u))]})]})}function zh(){const{state:e,dispatch:t}=ct(),{player:n,enemies:l,log:r}=e,a=l[0],i=u=>!u||u==="physical"?"":{fire:"",ice:"",lightning:"",poison:""}[u]||"",o=u=>u?{berserker:" Berserker",precise:" Precise",regeneration:" Regeneration",shield:" Shield",poison:" Poison",freeze:" Freeze",lightning:" Lightning",summon:" Summon"}[u]||u:"";return s.jsxs("div",{className:"panel p-4 h-full flex flex-col",children:[s.jsx("h2",{className:"text-lg font-bold mb-3",children:"Combat"}),a&&s.jsxs("div",{className:"mb-4 p-3 bg-red-900 rounded",children:[s.jsxs("h3",{className:"font-bold text-red-200",children:[a.isBoss&&" ",a.name," (Level ",a.level,")",a.isBoss&&" - BOSS"]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:["HP: ",a.hp,"/",a.maxHp]}),s.jsxs("div",{children:["Type: ",a.type]}),a.armor&&s.jsxs("div",{children:["Armor: ",a.armor]}),a.specialAbility&&s.jsx("div",{className:"text-yellow-300",children:o(a.specialAbility)})]})]}),s.jsxs("div",{className:"mb-4 p-3 bg-blue-900 rounded",children:[s.jsxs("h3",{className:"font-bold text-blue-200",children:["Player (Level ",n.level,")"]}),s.jsxs("div",{className:"text-sm grid grid-cols-2 gap-1",children:[s.jsxs("div",{children:["HP: ",n.hp,"/",n.maxHp]}),s.jsxs("div",{children:["DPS: ",n.dps]}),s.jsxs("div",{children:["XP: ",n.xp,"/",n.nextLevelXp]}),s.jsxs("div",{children:["Gold: ",n.gold]}),n.armor&&n.armor>0&&s.jsxs("div",{children:["Armor: ",n.armor]}),n.critChance&&n.critChance>0&&s.jsxs("div",{children:["Crit: ",(n.critChance*100).toFixed(2),"%"]}),n.dodgeChance&&n.dodgeChance>0&&s.jsxs("div",{children:["Dodge: ",(n.dodgeChance*100).toFixed(2),"%"]}),n.lifeSteal&&n.lifeSteal>0&&s.jsxs("div",{children:["Life Steal: ",(n.lifeSteal*100).toFixed(2),"%"]}),n.equipped&&n.equipped.damageType&&n.equipped.damageType!=="physical"&&s.jsxs("div",{children:["Element: ",i(n.equipped.damageType)]})]})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("button",{onClick:()=>t({type:"SPAWN"}),className:"px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm",children:"Spawn Enemy"}),a&&s.jsx("button",{onClick:()=>t({type:"TICK",payload:{enemyId:a.id}}),className:"px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-sm",children:"Combat Tick"}),s.jsxs("button",{onClick:()=>t({type:"TOGGLE_AUTO"}),className:`px-3 py-1 rounded text-sm ${e.autoCombat?"bg-yellow-600 hover:bg-yellow-700":"bg-gray-600 hover:bg-gray-700"}`,children:["Auto: ",e.autoCombat?"ON":"OFF"]})]}),s.jsxs("div",{className:"bg-gray-900 p-3 rounded h-32 overflow-y-auto",children:[s.jsx("h4",{className:"font-bold mb-2",children:"Combat Log"}),s.jsx("div",{className:"text-sm space-y-1",children:r.slice(0,10).map((u,d)=>s.jsx("div",{className:"text-gray-300",children:u},d))})]})]})}function Ih({isOpen:e,onClose:t,title:n,children:l}){return C.useEffect(()=>{const r=a=>{a.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e,t]),e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 animate-fade-in",onClick:t}),s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-zoom-in",children:s.jsxs("div",{className:"bg-gray-900 rounded-xl shadow-2xl border border-gray-700 max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:r=>r.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700 bg-gray-800",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:n}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors duration-200 group","aria-label":"Close modal",children:s.jsx("svg",{className:"w-6 h-6 text-gray-400 group-hover:text-gray-200 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)] bg-gray-900",children:l})]})})]}):null}const $h=wn.memo(function({isOpen:t,onClose:n}){const{state:l,actions:r}=ct(),[a,i]=C.useState("skills"),[o,u]=C.useState("list"),[d,f]=C.useState(null),[g,h]=C.useState(null),[v,p]=C.useState(""),[k,R]=C.useState("All"),[y,m]=C.useState(!1),x=C.useMemo(()=>({unlockedSkills:th(l.player),availableSkills:eh(l.player),unlockedSupports:lh(l.player),availableSupports:nh(l.player)}),[l.player,l.player.skillBar]),S=C.useMemo(()=>{const w=new Set;return[...x.unlockedSkills,...x.availableSkills].forEach(z=>{z.tags.forEach(M=>w.add(M))}),Array.from(w).sort()},[x]),N=C.useMemo(()=>{let w=[...x.unlockedSkills,...x.availableSkills];return v&&(w=w.filter(z=>z.name.toLowerCase().includes(v.toLowerCase())||z.description.toLowerCase().includes(v.toLowerCase()))),k!=="All"&&(w=w.filter(z=>z.tags.includes(k))),w},[x,v,k]),A=C.useMemo(()=>{let w=[...x.unlockedSupports,...x.availableSupports];return v&&(w=w.filter(z=>z.name.toLowerCase().includes(v.toLowerCase())||z.description.toLowerCase().includes(v.toLowerCase()))),k!=="All"&&(w=w.filter(z=>z.tags.includes(k))),w},[x,v,k]),F=C.useCallback(w=>{r.unlockSkillGem(w),f(null)},[r]),B=C.useCallback(w=>{r.levelUpSkillGem(w);const z=l.player.skillGems.find(M=>M.id===w);z&&(d==null?void 0:d.id)===w&&f(z)},[r,l.player.skillGems,d]),X=C.useCallback(w=>{r.unlockSupportGem(w),h(null)},[r]),H=C.useCallback(w=>{r.levelUpSupportGem(w);const z=l.player.supportGems.find(M=>M.id===w);z&&(g==null?void 0:g.id)===w&&h(z)},[r,l.player.supportGems,g]),G=C.useCallback((w,z)=>{r.equipSkillToBar(w,z),f(null)},[r]),ee=C.useCallback(w=>{r.unequipSkillFromBar(w),f(null)},[r]),$=C.useCallback((w,z)=>{r.attachSupportGem(w,z),m(!1),h(null)},[r]),q=C.useCallback((w,z)=>{r.detachSupportGem(w,z)},[r]),se=w=>({Normal:"#ffffff",Magic:"#8888ff",Rare:"#ffff88",Unique:"#ff8800"})[w]||"#ffffff",re=w=>({Spell:"#4f46e5",Attack:"#dc2626",Projectile:"#059669",AoE:"#d97706",Physical:"#6b7280",Fire:"#ef4444",Cold:"#3b82f6",Lightning:"#eab308",Chaos:"#8b5cf6",Melee:"#991b1b",Duration:"#7c3aed",Channeling:"#be185d",Movement:"#0891b2",Travel:"#0d9488",Minion:"#7c2d12",Totem:"#a16207",Trap:"#374151",Mine:"#1f2937",Critical:"#fbbf24",Bow:"#92400e",Weapon:"#6b7280",Unarmed:"#78716c",Brand:"#c2410c",Slam:"#7f1d1d",Strike:"#b91c1c",Guard:"#1e40af",Vaal:"#581c87",Trigger:"#be123c",Aura:"#06b6d4",Curse:"#f59e0b",Warcry:"#dc2626",Support:"#10b981",Elemental:"#f59e0b"})[w]||"#6b7280",fe=w=>w.toFixed(2),D=()=>l.player.skillBar.slots.map((w,z)=>({index:z,skill:w,isEmpty:!w})),W=w=>{var I,c;const z=ml(w),M=D();return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-3xl",children:w.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",style:{color:se(w.rarity)},children:w.name}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Level ",w.level,"/",w.maxLevel,"  ",w.rarity,"  Quality: ",w.quality,"%"]})]})]}),s.jsx("button",{onClick:()=>f(null),className:"text-gray-400 hover:text-white text-xl",children:""})]}),s.jsx("div",{className:"text-gray-300 text-sm leading-relaxed",children:w.description}),s.jsx("div",{className:"flex flex-wrap gap-1",children:w.tags.map(P=>s.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:re(P)},children:P},P))}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Damage:"}),s.jsx("span",{className:"text-red-400",children:fe(z.damage)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Mana Cost:"}),s.jsx("span",{className:"text-blue-400",children:fe(z.manaCost)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Cooldown:"}),s.jsxs("span",{className:"text-yellow-400",children:[fe(z.cooldown/1e3),"s"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[((I=w.scaling)==null?void 0:I.baseArea)&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Area:"}),s.jsx("span",{className:"text-green-400",children:fe(z.area)})]}),((c=w.scaling)==null?void 0:c.baseDuration)&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"text-purple-400",children:[fe(z.duration/1e3),"s"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Unlock Cost:"}),s.jsxs("span",{className:"text-yellow-300",children:[w.skillPointCost," SP"]})]})]})]}),w.supportGems.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-white font-medium",children:"Active Support Modifiers:"}),s.jsx("div",{className:"space-y-1 bg-gray-700 p-3 rounded",children:w.supportGems.map(P=>{const ie=xd(P);return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-sm font-medium text-blue-300",children:[P.name," (Lv.",P.level,")"]}),ie.map((te,j)=>s.jsxs("div",{className:"text-xs text-green-300 ml-2",children:[" ",te.description||`${te.type}: ${te.isPercentage?"+":""}${te.value}${te.isPercentage?"%":""}`]},j))]},P.id)})})]}),w.isUnlocked&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"text-white font-medium",children:["Support Gems (",w.supportGems.length,"/6)"]}),s.jsx("button",{onClick:()=>{h(null),m(!0)},className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded text-xs",disabled:w.supportGems.length>=6,children:"Attach Support"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:w.supportGems.map(P=>s.jsxs("div",{className:"bg-gray-700 p-2 rounded flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:P.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium",children:P.name}),s.jsxs("div",{className:"text-xs text-gray-400",children:["Lv.",P.level]})]})]}),s.jsx("button",{onClick:()=>q(w.id,P.id),className:"text-red-400 hover:text-red-300 text-xs",children:""})]},P.id))})]}),s.jsx("div",{className:"flex space-x-2",children:w.isUnlocked?s.jsxs(s.Fragment,{children:[w.level<w.maxLevel&&s.jsxs("button",{onClick:()=>B(w.id),disabled:!Xr(w,l.player.skillPoints),className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white px-4 py-2 rounded font-medium",children:["Level Up (",vn(w.level)," SP)"]}),M.filter(P=>P.isEmpty).length>0&&s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("span",{className:"text-gray-400 text-sm py-2",children:"Equip to:"}),M.filter(P=>P.isEmpty).map(P=>s.jsxs("button",{onClick:()=>G(w.id,P.index),className:"bg-purple-600 hover:bg-purple-700 text-white px-2 py-1 rounded text-sm",children:["Slot ",P.index+1]},P.index))]})]}):s.jsxs("button",{onClick:()=>F(w.id),disabled:l.player.skillPoints<Ft(w)||l.player.level<w.unlockLevel,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white px-4 py-2 rounded font-medium",children:["Unlock (",Ft(w)," SP)"]})})]})},U=w=>s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-3xl",children:w.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",style:{color:se(w.rarity)},children:w.name}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Level ",w.level,"/",w.maxLevel,"  ",w.rarity,"  Quality: ",w.quality,"%"]})]})]}),s.jsx("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-white text-xl",children:""})]}),s.jsx("div",{className:"text-gray-300 text-sm leading-relaxed",children:w.description}),s.jsx("div",{className:"flex flex-wrap gap-1",children:w.tags.map(z=>s.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:re(z)},children:z},z))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-white font-medium",children:"Modifiers:"}),s.jsx("div",{className:"space-y-1",children:w.modifiers.map((z,M)=>s.jsxs("div",{className:"text-sm text-gray-300",children:[" ",z.description||`${z.type}: ${z.isPercentage?"+":""}${z.value}${z.isPercentage?"%":""}`]},M))})]}),s.jsx("div",{className:"flex space-x-2",children:w.isUnlocked?s.jsx(s.Fragment,{children:w.level<w.maxLevel&&s.jsxs("button",{onClick:()=>H(w.id),disabled:!Xr(w,l.player.skillPoints),className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white px-4 py-2 rounded font-medium",children:["Level Up (",vn(w.level)," SP)"]})}):s.jsxs("button",{onClick:()=>X(w.id),disabled:l.player.skillPoints<Ft(w)||l.player.level<w.unlockLevel,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white px-4 py-2 rounded font-medium",children:["Unlock (",Ft(w)," SP)"]})})]}),le=()=>{if(!d||!y)return null;const w=x.unlockedSupports.filter(z=>op(d,z)&&!d.supportGems.some(M=>M.id===z.id));return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-white font-bold",children:["Attach Support to ",d.name]}),s.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-white text-xl",children:""})]}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:w.length>0?w.map(z=>s.jsxs("div",{className:"bg-gray-700 p-3 rounded flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-lg",children:z.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:z.name}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Lv.",z.level]}),s.jsx("div",{className:"flex space-x-1 mt-1",children:z.tags.map(M=>s.jsx("span",{className:"px-1 py-0.5 rounded text-xs",style:{backgroundColor:re(M),color:"white"},children:M},M))})]})]}),s.jsx("button",{onClick:()=>$(d.id,z.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"Attach"})]},z.id)):s.jsx("div",{className:"text-gray-400 text-center py-4",children:"No compatible support gems available"})})]})};return t?s.jsxs("div",{className:"fixed bottom-20 right-4 bg-gray-900 border border-gray-700 rounded-lg shadow-xl z-50 w-[800px] h-[600px] flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[s.jsx("h3",{className:"text-white font-bold text-lg",children:" Skill Gem Management"}),s.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white text-xl leading-none",children:""})]}),s.jsx("div",{className:"px-4 py-2 border-b border-gray-700 text-sm text-gray-300",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Skill Points: ",l.player.skillPoints]}),s.jsxs("span",{children:["Level: ",l.player.level]})]})}),s.jsxs("div",{className:"flex border-b border-gray-700",children:[s.jsxs("button",{className:`px-4 py-2 font-medium ${a==="skills"?"bg-blue-600 text-white border-b-2 border-blue-400":"text-gray-300 hover:text-white hover:bg-gray-800"}`,onClick:()=>i("skills"),children:["Skills (",x.unlockedSkills.length,")"]}),s.jsxs("button",{className:`px-4 py-2 font-medium ${a==="supports"?"bg-blue-600 text-white border-b-2 border-blue-400":"text-gray-300 hover:text-white hover:bg-gray-800"}`,onClick:()=>i("supports"),children:["Support Gems (",x.unlockedSupports.length,")"]}),s.jsx("button",{className:`px-4 py-2 font-medium ${a==="skillbar"?"bg-blue-600 text-white border-b-2 border-blue-400":"text-gray-300 hover:text-white hover:bg-gray-800"}`,onClick:()=>i("skillbar"),children:"Skill Bar"})]}),(a==="skills"||a==="supports")&&s.jsx("div",{className:"p-4 border-b border-gray-700 space-y-2",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",placeholder:"Search skills...",value:v,onChange:w=>p(w.target.value),className:"flex-1 bg-gray-800 border border-gray-600 rounded px-3 py-1 text-white text-sm"}),s.jsxs("select",{value:k,onChange:w=>R(w.target.value),className:"bg-gray-800 border border-gray-600 rounded px-3 py-1 text-white text-sm",children:[s.jsx("option",{value:"All",children:"All Tags"}),S.map(w=>s.jsx("option",{value:w,children:w},w))]}),s.jsx("button",{onClick:()=>u(o==="list"?"detailed":"list"),className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm",children:o==="list"?"":""})]})}),s.jsx("div",{className:"flex-1 overflow-hidden",children:y?s.jsx("div",{className:"p-4 h-full overflow-y-auto",children:le()}):d?s.jsx("div",{className:"p-4 h-full overflow-y-auto",children:W(d)}):g?s.jsx("div",{className:"p-4 h-full overflow-y-auto",children:U(g)}):s.jsxs("div",{className:"p-4 h-full overflow-y-auto",children:[a==="skills"&&s.jsxs("div",{className:"space-y-4",children:[x.unlockedSkills.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-2",children:"Unlocked Skills"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:N.filter(w=>w.isUnlocked).map(w=>s.jsxs("div",{className:"bg-gray-800 p-3 rounded flex items-center justify-between hover:bg-gray-750 cursor-pointer",onClick:()=>f(w),children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-xl",children:w.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:w.name}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Lv.",w.level,"  Dmg: ",fe(yd(w)),w.isEquipped&&s.jsx("span",{className:"text-yellow-400 ml-2",children:" Equipped"})]}),s.jsx("div",{className:"flex space-x-1 mt-1",children:w.tags.slice(0,3).map(z=>s.jsx("span",{className:"px-1 py-0.5 rounded text-xs",style:{backgroundColor:re(z),color:"white"},children:z},z))})]})]}),s.jsx("div",{className:"text-gray-400",children:""})]},w.id))})]}),x.availableSkills.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-2",children:"Available Skills"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:N.filter(w=>!w.isUnlocked).map(w=>s.jsxs("div",{className:"bg-gray-800 p-3 rounded flex items-center justify-between opacity-75 hover:opacity-100 cursor-pointer",onClick:()=>f(w),children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-xl",children:w.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-300 font-medium",children:w.name}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Cost: ",Ft(w)," SP  Req: Lv.",w.unlockLevel]}),s.jsx("div",{className:"flex space-x-1 mt-1",children:w.tags.slice(0,3).map(z=>s.jsx("span",{className:"px-1 py-0.5 rounded text-xs",style:{backgroundColor:re(z),color:"white"},children:z},z))})]})]}),s.jsx("div",{className:"text-gray-400",children:""})]},w.id))})]})]}),a==="supports"&&s.jsxs("div",{className:"space-y-4",children:[x.unlockedSupports.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-2",children:"Unlocked Support Gems"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:A.filter(w=>w.isUnlocked).map(w=>s.jsxs("div",{className:"bg-gray-800 p-3 rounded flex items-center justify-between hover:bg-gray-750 cursor-pointer",onClick:()=>h(w),children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-xl",children:w.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:w.name}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Lv.",w.level]}),s.jsx("div",{className:"flex space-x-1 mt-1",children:w.tags.slice(0,3).map(z=>s.jsx("span",{className:"px-1 py-0.5 rounded text-xs",style:{backgroundColor:re(z),color:"white"},children:z},z))})]})]}),s.jsx("div",{className:"text-gray-400",children:""})]},w.id))})]}),x.availableSupports.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-2",children:"Available Support Gems"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:A.filter(w=>!w.isUnlocked).map(w=>s.jsxs("div",{className:"bg-gray-800 p-3 rounded flex items-center justify-between opacity-75 hover:opacity-100 cursor-pointer",onClick:()=>h(w),children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-xl",children:w.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-300 font-medium",children:w.name}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Cost: ",Ft(w)," SP  Req: Lv.",w.unlockLevel]}),s.jsx("div",{className:"flex space-x-1 mt-1",children:w.tags.slice(0,3).map(z=>s.jsx("span",{className:"px-1 py-0.5 rounded text-xs",style:{backgroundColor:re(z),color:"white"},children:z},z))})]})]}),s.jsx("div",{className:"text-gray-400",children:""})]},w.id))})]})]}),a==="skillbar"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-white font-semibold",children:"Skill Bar Management"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:D().map(w=>s.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[s.jsxs("div",{className:"text-white font-medium mb-2",children:["Slot ",w.index+1]}),w.skill?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-lg",children:w.skill.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:w.skill.name}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Lv.",w.skill.level]})]})]}),s.jsx("button",{onClick:()=>ee(w.index),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm w-full",children:"Unequip"})]}):s.jsx("div",{className:"text-gray-400 text-center py-4",children:"Empty Slot"})]},w.index))})]})]})})]}):null});function Fh({className:e=""}){const{state:t,actions:n}=ct(),[l,r]=C.useState(null),[a,i]=C.useState({}),[o,u]=C.useState(null),d=t.player.skillBar,f=(d==null?void 0:d.maxSlots)||6,g=y=>d!=null&&d.slots&&d.slots[y]||null,h=(y,m)=>{l===y?(r(null),u(null)):(r(y),m&&u({x:m.clientX+10,y:m.clientY+10}))},v=(y,m)=>{m.stopPropagation(),n.unequipSkillFromBar(y),r(null)},p=y=>{i(m=>({...m,[y]:!m[y]}))},k=y=>{const m=g(y),x=l===y,S=!m;return s.jsxs("div",{className:`skill-slot ${S?"empty":"filled"} ${x?"selected":""}`,onClick:N=>h(y,N),children:[s.jsx("div",{className:"slot-number",children:y+1}),m?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"skill-icon",title:m.name,children:m.icon}),s.jsx("div",{className:"skill-level",children:m.level}),m.supportGems.length>0&&s.jsx("div",{className:"support-indicator",children:s.jsx("span",{className:"support-count",children:m.supportGems.length})}),s.jsx("div",{className:"skill-mana-cost",children:ml(m).manaCost}),s.jsx("button",{className:"unequip-skill-btn",onClick:N=>v(y,N),title:"Unequip skill",children:""}),x&&o&&s.jsxs("div",{className:"skill-tooltip",style:{left:Math.min(o.x,window.innerWidth-400),top:Math.min(o.y,window.innerHeight-300)},onClick:N=>N.stopPropagation(),children:[s.jsxs("div",{className:"tooltip-header",children:[s.jsxs("div",{children:[s.jsx("h4",{children:m.name}),s.jsx("span",{className:"skill-type",children:m.type})]}),s.jsx("button",{onClick:N=>{N.stopPropagation(),r(null),u(null)},className:"text-gray-400 hover:text-white text-xl leading-none p-1 hover:bg-gray-700 rounded",title:"Close tooltip",children:""})]}),s.jsxs("div",{className:"skill-tags",children:[s.jsx("span",{className:"tags-label",children:"Tags: "}),s.jsx("span",{className:"tags-list",children:cp(m)})]}),s.jsx("p",{className:"skill-description",children:m.description}),s.jsxs("div",{className:"skill-stats",children:[s.jsxs("div",{children:["Level: ",m.level,"/",m.maxLevel]}),(()=>{const N=ml(m);return s.jsxs(s.Fragment,{children:[N.damage>0&&s.jsxs("div",{children:["Damage: ",N.damage]}),s.jsxs("div",{children:["Mana: ",N.manaCost]}),s.jsxs("div",{children:["Cooldown: ",N.cooldown,"ms"]}),N.projectileCount>1&&s.jsxs("div",{children:["Projectiles: ",N.projectileCount]})]})})()]}),m.supportGems.length>0&&s.jsxs("div",{className:"support-gems",children:[s.jsxs("div",{className:"support-header",onClick:()=>p(m.id),children:[s.jsxs("span",{children:["Support Gems (",m.supportGems.length,"/6)"]}),s.jsx("span",{className:`expand-icon ${a[m.id]?"expanded":""}`,children:""})]}),a[m.id]&&s.jsx("div",{className:"support-list",children:m.supportGems.map(N=>s.jsxs("div",{className:"support-item",children:[s.jsx("span",{className:"support-icon",children:N.icon}),s.jsx("span",{className:"support-name",children:N.name}),s.jsxs("span",{className:"support-level",children:["Lv.",N.level]}),s.jsx("button",{className:"detach-support-btn",onClick:A=>{A.stopPropagation(),n.detachSupportGem(m.id,N.id)},title:"Detach support gem",children:""})]},N.id))})]}),s.jsxs("div",{className:"tooltip-actions",children:[s.jsxs("div",{className:"auto-skill-status",children:[s.jsx("span",{className:"auto-indicator",children:" Auto-Active"}),s.jsx("span",{className:"skill-status",children:m.id==="whirlwind"?"Channeling in Combat":"Ready"})]}),s.jsx("button",{className:"unequip-btn-large",onClick:N=>v(y,N),title:"Unequip this skill",children:"Unequip Skill"})]})]})]}):s.jsxs("div",{className:"empty-slot-content",children:[s.jsx("div",{className:"empty-icon",children:"+"}),s.jsx("div",{className:"empty-text",children:"Empty"})]})]},y)},R=()=>{var m;const y=(m=d==null?void 0:d.slots)==null?void 0:m.find(x=>(x==null?void 0:x.id)==="whirlwind");return s.jsxs("div",{className:"combat-status",children:[s.jsxs("div",{className:"auto-combat-info",children:[s.jsx("span",{className:"status-label",children:"Combat Mode:"}),s.jsx("span",{className:"status-value",children:"Automatic Whirlwind"})]}),y&&s.jsxs("div",{className:"whirlwind-stats",children:[s.jsxs("span",{children:["Mana Cost: ",ml(y).manaCost,"/sec"]}),s.jsxs("span",{children:["Area Damage: ",ml(y).damage]})]})]})};return s.jsxs("div",{className:`skill-bar-container ${e}`,onClick:y=>{l!==null&&!y.defaultPrevented&&(r(null),u(null))},children:[s.jsxs("div",{className:"skill-bar-header",children:[s.jsx("h3",{children:"Combat Skills"}),s.jsx("div",{className:"skill-bar-info",children:s.jsxs("span",{children:["Active Skills: ",d!=null&&d.slots?d.slots.filter(y=>y!==null).length:0,"/",f]})})]}),s.jsx("div",{className:"skill-bar",children:Array.from({length:f},(y,m)=>k(m))}),R(),s.jsx("div",{className:"skill-bar-help",children:s.jsx("p",{children:"Skills activate automatically during combat  Click slots to view details and support gems"})})]})}const Bh=wn.memo(function(){const{state:t}=ct(),{activeCombinations:n=[],activeSynergies:l=[]}=t;return n.length===0&&l.length===0?s.jsxs("div",{className:"bg-gray-900/95 text-white p-4 rounded-lg border border-gray-600",children:[s.jsx("h3",{className:"text-lg font-bold text-center mb-3",children:" Skill Combinations"}),s.jsxs("div",{className:"text-center text-gray-400 text-sm",children:[s.jsx("p",{children:"Equip multiple skills to unlock powerful combinations!"}),s.jsx("p",{className:"mt-2",children:"Try combining:"}),s.jsxs("ul",{className:"mt-1 space-y-1",children:[s.jsx("li",{children:" Fire + Lightning skills for Elemental Mastery"}),s.jsx("li",{children:" Melee + Spell skills for Spellsword"}),s.jsx("li",{children:" Multiple AoE skills for Area Specialist"})]})]})]}):s.jsxs("div",{className:"bg-gray-900/95 text-white p-4 rounded-lg border border-gray-600",children:[s.jsx("h3",{className:"text-lg font-bold text-center mb-3",children:" Skill Combinations"}),n.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-md font-semibold text-yellow-400 mb-2",children:" Active Combinations"}),s.jsx("div",{className:"space-y-2",children:n.map(r=>s.jsx(Uh,{combination:r},r.id))})]}),l.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-semibold text-blue-400 mb-2",children:" Active Synergies"}),s.jsx("div",{className:"space-y-2",children:l.map(r=>s.jsx(Oh,{synergy:r},r.id))})]})]})}),Uh=wn.memo(function({combination:t}){return s.jsxs("div",{className:"bg-gray-800/70 p-3 rounded border border-yellow-500/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-lg",children:t.icon}),s.jsx("h5",{className:"font-semibold text-yellow-300",children:t.name})]}),s.jsx("p",{className:"text-xs text-gray-300 mb-2",children:t.description}),s.jsx("div",{className:"space-y-1",children:t.bonuses.map((n,l)=>s.jsx("div",{className:"text-xs",children:s.jsxs("span",{className:"text-green-400",children:[n.isPercentage?`+${n.value}%`:`+${n.value}`," ",n.description]})},l))})]})}),Oh=wn.memo(function({synergy:t}){const n=a=>{switch(a){case"onUse":return"when used";case"onKill":return"on kill";case"onCrit":return"on critical hit";case"onHit":return"on hit";default:return a}},l=a=>{switch(a){case"whirlwind":return"Whirlwind";case"fireball":return"Fireball";case"lightning_bolt":return"Lightning Bolt";case"all_spells":return"Any Spell";default:return a}},r=a=>{switch(a){case"whirlwind":return"Whirlwind";case"fireball":return"Fireball";case"lightning_bolt":return"Lightning Bolt";case"all_spells":return"All Spells";case"player":return"Player";default:return a}};return s.jsxs("div",{className:"bg-gray-800/70 p-3 rounded border border-blue-500/30",children:[s.jsx("h5",{className:"font-semibold text-blue-300 mb-1",children:t.name}),s.jsx("p",{className:"text-xs text-gray-300 mb-2",children:t.description}),s.jsxs("div",{className:"text-xs space-y-1",children:[s.jsxs("div",{className:"text-gray-400",children:[s.jsx("span",{className:"text-white",children:l(t.triggerSkill)})," ",n(t.condition)," affects"," ",s.jsx("span",{className:"text-white",children:r(t.targetSkill)})]}),s.jsxs("div",{className:"text-cyan-400",children:[t.bonus.isPercentage?`${t.bonus.value}%`:t.bonus.value," ",t.bonus.description]}),t.duration&&s.jsxs("div",{className:"text-gray-500",children:["Duration: ",t.duration/1e3,"s"]}),t.cooldown&&s.jsxs("div",{className:"text-gray-500",children:["Cooldown: ",t.cooldown/1e3,"s"]})]})]})}),qh={common:[{k:"str",min:1,max:3},{k:"vit",min:2,max:4}],magic:[{k:"str",min:2,max:5},{k:"dex",min:2,max:5},{k:"vit",min:3,max:7}],rare:[{k:"str",min:3,max:8},{k:"dex",min:3,max:8},{k:"vit",min:5,max:10},{k:"crit",min:1,max:5}],unique:[{k:"str",min:6,max:12},{k:"dex",min:6,max:12},{k:"vit",min:8,max:15},{k:"crit",min:3,max:8},{k:"lifesteal",min:1,max:4}]},mr=new Map,Gh=1e3,Vh={Common:2,Magic:3,Rare:4,Unique:5};function nc(e,t){return Math.floor(Math.random()*(t-e+1))+e}function Wh(e){const t=`${e}`;if(mr.has(t)&&Math.random()>.8)return mr.get(t).map(o=>({...o,value:nc(Math.floor(o.value*.8),Math.ceil(o.value*1.2))}));const n=qh[e.toLowerCase()],l=Vh[e],r=[],a=[...n];for(let i=0;i<l&&a.length;i++){const o=Math.floor(Math.random()*a.length),u=a.splice(o,1)[0];r.push({key:u.k,value:nc(u.min,u.max)})}return mr.size<Gh&&mr.set(t,[...r]),r}function Md(e=1e3){const t=performance.now();for(let r=0;r<e;r++)Ol(Math.floor(Math.random()*100)+1,Math.random()>.9);const l=performance.now()-t;return{operation:"Equipment Generation",iterations:e,totalTime:l,averageTime:l/e,itemsPerSecond:e/l*1e3}}function Ld(e=1e3){const t=performance.now();for(let r=0;r<e;r++)Fs(Math.floor(Math.random()*100)+1,Math.random()>.9);const l=performance.now()-t;return{operation:"Loot Generation",iterations:e,totalTime:l,averageTime:l/e,itemsPerSecond:e/l*1e3}}function Ed(e=1e3){const t=["Common","Magic","Rare","Unique"],n=performance.now();for(let a=0;a<e;a++){const i=t[Math.floor(Math.random()*t.length)];Wh(i)}const r=performance.now()-n;return{operation:"Affix Generation",iterations:e,totalTime:r,averageTime:r/e,itemsPerSecond:e/r*1e3}}function _d(e=100){const t=Bl(),n=["weapon","helm","chest","legs","boots","gloves"];for(let i=0;i<n.length;i++){const o=Ol(50,!1);t.equipment[n[i]]=o}const l=performance.now();for(let i=0;i<e;i++)Le(t);const a=performance.now()-l;return{operation:"Player Stat Calculation",iterations:e,totalTime:a,averageTime:a/e,itemsPerSecond:e/a*1e3}}function Td(){console.log(" Starting Performance Test Suite...");const e=[];return console.log("Testing equipment generation..."),e.push(Md(1e3)),console.log("Testing loot generation..."),e.push(Ld(1e3)),console.log("Testing affix generation..."),e.push(Ed(1e3)),console.log("Testing stat calculation..."),e.push(_d(100)),console.log(" Performance Test Suite Complete!"),e.forEach(t=>{console.log(`
 ${t.operation}:`),console.log(`  Iterations: ${t.iterations}`),console.log(`  Total Time: ${t.totalTime.toFixed(2)}ms`),console.log(`  Average Time: ${t.averageTime.toFixed(4)}ms`),console.log(`  Items/Second: ${t.itemsPerSecond.toFixed(0)}`)}),e}function Hh(){if("memory"in performance){const e=performance.memory;console.log(`
 Memory Usage:`),console.log(`  Used JS Heap: ${(e.usedJSHeapSize/1024/1024).toFixed(2)} MB`),console.log(`  Total JS Heap: ${(e.totalJSHeapSize/1024/1024).toFixed(2)} MB`),console.log(`  Heap Limit: ${(e.jsHeapSizeLimit/1024/1024).toFixed(2)} MB`)}else console.log("Memory API not available in this browser")}typeof window<"u"&&(window.performanceTest={runSuite:Td,testMemory:Hh,testEquipment:Md,testLoot:Ld,testAffixes:Ed,testStats:_d});function Qh(){const[e,t]=C.useState(!1),[n,l]=C.useState([]),[r,a]=C.useState(!1),[i,o]=C.useState(""),u=async()=>{a(!0);try{const d=Td();if(l(d),"memory"in performance){const f=performance.memory;o(`Used: ${(f.usedJSHeapSize/1024/1024).toFixed(2)} MB | Total: ${(f.totalJSHeapSize/1024/1024).toFixed(2)} MB`)}}catch(d){console.error("Performance test failed:",d)}finally{a(!1)}};return e?s.jsxs("div",{className:"fixed bottom-4 right-4 bg-gray-900 border border-gray-700 rounded-lg p-4 max-w-md w-80 shadow-xl z-50",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"text-white font-bold text-sm",children:"Performance Monitor"}),s.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-white text-lg leading-none",children:""})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:u,disabled:r,className:`w-full px-3 py-2 rounded text-sm font-medium ${r?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:r?"Running Tests...":"Run Performance Tests"}),i&&s.jsxs("div",{className:"text-xs text-gray-300 bg-gray-800 p-2 rounded",children:[s.jsx("strong",{children:"Memory:"})," ",i]}),n.length>0&&s.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[s.jsx("h4",{className:"text-white text-xs font-semibold",children:"Test Results:"}),n.map((d,f)=>s.jsxs("div",{className:"bg-gray-800 p-2 rounded text-xs",children:[s.jsx("div",{className:"text-blue-400 font-medium",children:d.operation}),s.jsxs("div",{className:"text-gray-300 space-y-1",children:[s.jsxs("div",{children:["Iterations: ",d.iterations]}),s.jsxs("div",{children:["Avg Time: ",d.averageTime.toFixed(4),"ms"]}),s.jsxs("div",{className:"text-green-400",children:["Speed: ",d.itemsPerSecond.toFixed(0)," items/sec"]})]})]},f))]}),s.jsxs("div",{className:"text-xs text-gray-400 border-t border-gray-700 pt-2",children:[s.jsx("div",{children:" Tips:"}),s.jsx("div",{children:" Higher items/sec = better performance"}),s.jsx("div",{children:" Lower avg time = faster operations"}),s.jsx("div",{children:" Check console for detailed logs"})]})]})]}):s.jsx("button",{onClick:()=>t(!0),className:"fixed bottom-4 right-4 bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg text-sm font-medium shadow-lg z-50",children:" Performance"})}function Kh({isOpen:e,onClose:t}){var v;const{state:n,actions:l}=ct(),[r,a]=C.useState(null),[i,o]=C.useState("available");if(!e)return null;const u=n.player.mapDevice,d=n.player.level;if(!u)return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Map Device Error"}),s.jsx("p",{className:"text-gray-300",children:"Map device not initialized. Please restart the game."}),s.jsx("button",{onClick:t,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Close"})]})});const f=p=>{l.log(`Starting map: ${p.name} (Tier ${p.tier})`),t()},g=p=>p.map(k=>s.jsxs("div",{className:`text-xs p-1 rounded ${k.type==="prefix"?"bg-red-900/30 text-red-300":"bg-blue-900/30 text-blue-300"}`,children:[s.jsx("span",{className:"font-semibold",children:k.name}),s.jsx("div",{className:"text-xs opacity-80",children:k.description})]},k.id)),h=(p,k=!0)=>{const R=vp(p),y=wp(p),m=kd(p,d,u.completedMaps),x=u.completedMaps.includes(p.id);return s.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${(r==null?void 0:r.id)===p.id?"border-yellow-400 bg-yellow-900/20":m?"border-gray-600 hover:border-gray-400 bg-gray-800/50":"border-gray-700 bg-gray-900/50 opacity-50"}`,onClick:()=>a(p),children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:`font-bold text-lg ${p.rarity==="Unique"?"text-orange-400":p.rarity==="Rare"?"text-yellow-400":p.rarity==="Magic"?"text-blue-400":"text-white"}`,children:p.name}),s.jsxs("div",{className:"text-sm text-gray-400",children:["Tier ",p.tier,"  Level ",p.baseLevel,"  ",p.layout," layout"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-sm font-semibold ${R<100?"text-green-400":R<200?"text-yellow-400":R<300?"text-orange-400":"text-red-400"}`,children:["Difficulty: ",R]}),x&&s.jsxs("div",{className:"text-xs text-green-400",children:[" Completed (",p.timesCompleted,"x)"]})]})]}),s.jsx("p",{className:"text-sm text-gray-300 mb-3",children:p.description}),p.modifiers.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-400 mb-1",children:"Map Modifiers:"}),s.jsx("div",{className:"space-y-1",children:g(p.modifiers)})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-400 mb-1",children:"Rewards:"}),s.jsx("div",{className:"text-xs text-gray-300 space-y-1",children:y.map((S,N)=>s.jsxs("div",{children:[S.type==="equipment"&&`${S.quantity}x Equipment (Level ${S.minLevel}-${S.maxLevel})`,S.type==="skillGem"&&`${S.quantity}x ${S.rarity} Skill Gem`,S.type==="supportGem"&&`${S.quantity}x ${S.rarity} Support Gem`,S.type==="experience"&&`${S.quantity} Experience`,S.guaranteed&&" (Guaranteed)"]},N))})]}),!m&&p.unlockRequirement&&s.jsxs("div",{className:"text-xs text-red-400 mb-2",children:[s.jsx("div",{className:"font-semibold",children:"Requirements:"}),p.unlockRequirement.playerLevel&&s.jsxs("div",{children:[" Level ",p.unlockRequirement.playerLevel," (Current: ",d,")"]}),p.unlockRequirement.completedMaps&&s.jsxs("div",{children:[" Complete: ",p.unlockRequirement.completedMaps.join(", ")]})]}),k&&m&&s.jsxs("button",{onClick:S=>{S.stopPropagation(),f(p)},className:"w-full mt-2 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded transition-colors",children:["Run Map (",Math.floor(p.completionTime/60),":",(p.completionTime%60).toString().padStart(2,"0"),")"]})]},p.id)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-900 border border-gray-600 rounded-lg p-6 max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Map Device"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white text-2xl",children:""})]}),s.jsxs("div",{className:"flex space-x-4 mb-4",children:[s.jsx("button",{onClick:()=>o("available"),className:`px-4 py-2 rounded ${i==="available"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Available Maps"}),s.jsxs("button",{onClick:()=>o("stash"),className:`px-4 py-2 rounded ${i==="stash"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:["Map Stash (",((v=u.mapStash)==null?void 0:v.length)||0,")"]}),s.jsx("button",{onClick:()=>o("atlas"),className:`px-4 py-2 rounded ${i==="atlas"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Atlas Progress"})]}),i==="atlas"&&s.jsxs("div",{className:"mb-4 p-4 bg-gray-800 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Atlas of Worlds"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-400",children:"Current Tier:"}),s.jsxs("div",{className:"text-white font-semibold",children:["Tier ",u.atlasProgress.tier]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-400",children:"Maps Completed:"}),s.jsxs("div",{className:"text-white font-semibold",children:[u.atlasProgress.completedCount," / ",u.atlasProgress.totalCount]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-400",children:"Bonus Objectives:"}),s.jsx("div",{className:"text-white font-semibold",children:u.atlasProgress.bonusObjectives})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-400",children:"Completion Rate:"}),s.jsxs("div",{className:"text-white font-semibold",children:[Math.floor(u.atlasProgress.completedCount/u.atlasProgress.totalCount*100),"%"]})]})]})]}),s.jsxs("div",{className:"overflow-y-auto max-h-[60vh]",children:[i==="available"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.availableMaps.map(p=>h(p))}),i==="stash"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:!u.mapStash||u.mapStash.length===0?s.jsx("div",{className:"col-span-full text-center text-gray-400 py-8",children:"No maps in stash. Maps can be found as drops from enemies or purchased from vendors."}):u.mapStash.map(p=>h(p))}),i==="atlas"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.availableMaps.map(p=>h(p,!1))})]}),u.currentMap&&s.jsxs("div",{className:"mt-4 p-4 bg-green-900/30 border border-green-600 rounded-lg",children:[s.jsx("div",{className:"text-green-400 font-semibold",children:"Currently Running:"}),s.jsxs("div",{className:"text-white",children:[u.currentMap.name," (Tier ",u.currentMap.tier,")"]})]})]})})}function Yh(){const[e,t]=C.useState(null),[n,l]=C.useState(!1),[r,a]=C.useState(!1),i=f=>{t(f)},o=()=>{t(null)},u=()=>{switch(e){case"combat":return s.jsx(zh,{});case"character":return s.jsx(Jo,{});case"skills":return s.jsx(Lh,{});case"combinations":return s.jsx(Bh,{});case"log":return s.jsx(tc,{});case"maps":return s.jsx(Kh,{isOpen:!0,onClose:o});default:return null}},d=()=>{switch(e){case"combat":return"Combat";case"character":return"Character Status";case"skills":return"Skill Tree";case"combinations":return"Skill Combinations";case"log":return"Combat Log";case"maps":return"Map Device";default:return""}};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(fh,{onOpenModal:i}),s.jsxs("main",{className:"flex-1 flex",children:[s.jsx("div",{className:"w-80 min-w-80 bg-gray-900/95 border-r border-gray-600 flex flex-col",children:s.jsx(Jo,{})}),s.jsxs("div",{className:"flex-1 flex flex-col p-2",children:[s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx(ph,{})}),s.jsx("div",{className:"mt-2",children:s.jsx(Fh,{})}),s.jsx("div",{className:"h-64 mt-2",children:s.jsx(tc,{})})]}),s.jsx("div",{className:"w-80 min-w-80 bg-gray-900/95 border-l border-gray-600 flex flex-col",children:s.jsx(Ph,{})})]}),s.jsx(Ih,{isOpen:e!==null,onClose:o,title:d(),children:u()}),!r&&s.jsx("button",{onClick:()=>a(!0),className:"fixed bottom-32 right-4 bg-amber-600 hover:bg-amber-700 text-white px-3 py-2 rounded-lg text-sm font-medium shadow-lg z-50 transition-all duration-200",children:" Inventory"}),!n&&s.jsx("button",{onClick:()=>l(!0),className:"fixed bottom-20 right-4 bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg text-sm font-medium shadow-lg z-50 transition-all duration-200",children:" Skill Gems"}),r&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>a(!1),children:s.jsxs("div",{className:"bg-gray-800 border border-gray-600 rounded-lg shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-600",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:" Inventory"}),s.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-white transition-colors text-xl px-2 py-1 hover:bg-gray-700 rounded",children:""})]}),s.jsx("div",{className:"overflow-auto max-h-[calc(90vh-60px)]",children:s.jsx(Dh,{})})]})}),n&&s.jsx($h,{isOpen:!0,onClose:()=>l(!1)}),s.jsx(Qh,{})]})}hd(document.getElementById("root")).render(s.jsx(wn.StrictMode,{children:s.jsx(uh,{children:s.jsx(Yh,{})})}));
